"use strict";function _get(){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=_superPropBase(e,t);if(n){var a=Object.getOwnPropertyDescriptor(n,t);return a.get?a.get.call(arguments.length<3?e:r):a.value}}).apply(this,arguments)}function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _createForOfIteratorHelper(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,o=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){o=!0,i=e},f:function(){try{s||null==r.return||r.return()}finally{if(o)throw i}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _regeneratorRuntime(){_regeneratorRuntime=function(){return s};var s={},e=Object.prototype,u=e.hasOwnProperty,h=Object.defineProperty||function(e,t,r){e[t]=r.value},t="function"==typeof Symbol?Symbol:{},a=t.iterator||"@@iterator",r=t.asyncIterator||"@@asyncIterator",n=t.toStringTag||"@@toStringTag";function i(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{i({},"")}catch(e){i=function(e,t,r){return e[t]=r}}function o(e,t,r,n){var i,s,o,l,a=t&&t.prototype instanceof p?t:p,c=Object.create(a.prototype),u=new S(n||[]);return h(c,"_invoke",{value:(i=e,s=r,o=u,l="suspendedStart",function(e,t){if("executing"===l)throw new Error("Generator is already running");if("completed"===l){if("throw"===e)throw t;return w()}for(o.method=e,o.arg=t;;){var r=o.delegate;if(r){var n=A(r,o);if(n){if(n===f)continue;return n}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if("suspendedStart"===l)throw l="completed",o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);l="executing";var a=d(i,s,o);if("normal"===a.type){if(l=o.done?"completed":"suspendedYield",a.arg===f)continue;return{value:a.arg,done:o.done}}"throw"===a.type&&(l="completed",o.method="throw",o.arg=a.arg)}})}),c}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}s.wrap=o;var f={};function p(){}function l(){}function c(){}var v={};i(v,a,function(){return this});var g=Object.getPrototypeOf,m=g&&g(g(x([])));m&&m!==e&&u.call(m,a)&&(v=m);var _=c.prototype=p.prototype=Object.create(v);function y(e){["next","throw","return"].forEach(function(t){i(e,t,function(e){return this._invoke(t,e)})})}function b(l,c){var t;h(this,"_invoke",{value:function(r,n){function e(){return new c(function(e,t){!function t(e,r,n,a){var i=d(l[e],l,r);if("throw"!==i.type){var s=i.arg,o=s.value;return o&&"object"==_typeof(o)&&u.call(o,"__await")?c.resolve(o.__await).then(function(e){t("next",e,n,a)},function(e){t("throw",e,n,a)}):c.resolve(o).then(function(e){s.value=e,n(s)},function(e){return t("throw",e,n,a)})}a(i.arg)}(r,n,e,t)})}return t=t?t.then(e,e):e()}})}function A(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,A(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=d(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var i=a.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function x(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,n=function e(){for(;++r<t.length;)if(u.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return n.next=n}}return{next:w}}function w(){return{value:void 0,done:!0}}return h(_,"constructor",{value:l.prototype=c,configurable:!0}),h(c,"constructor",{value:l,configurable:!0}),l.displayName=i(c,n,"GeneratorFunction"),s.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===l||"GeneratorFunction"===(t.displayName||t.name))},s.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,i(e,n,"GeneratorFunction")),e.prototype=Object.create(_),e},s.awrap=function(e){return{__await:e}},y(b.prototype),i(b.prototype,r,function(){return this}),s.AsyncIterator=b,s.async=function(e,t,r,n,a){void 0===a&&(a=Promise);var i=new b(o(e,t,r,n),a);return s.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},y(_),i(_,n,"Generator"),i(_,a,function(){return this}),i(_,"toString",function(){return"[object Generator]"}),s.keys=function(e){var r=Object(e),n=[];for(var t in r)n.push(t);return n.reverse(),function e(){for(;n.length;){var t=n.pop();if(t in r)return e.value=t,e.done=!1,e}return e.done=!0,e}},s.values=x,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&u.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var n=this;function e(e,t){return i.type="throw",i.arg=r,n.next=e,t&&(n.method="next",n.arg=void 0),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var a=this.tryEntries[t],i=a.completion;if("root"===a.tryLoc)return e("end");if(a.tryLoc<=this.prev){var s=u.call(a,"catchLoc"),o=u.call(a,"finallyLoc");if(s&&o){if(this.prev<a.catchLoc)return e(a.catchLoc,!0);if(this.prev<a.finallyLoc)return e(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return e(a.catchLoc,!0)}else{if(!o)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return e(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;0<=r;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&u.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var a=n;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;C(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},s}function asyncGeneratorStep(e,t,r,n,a,i,s){try{var o=e[i](s),l=o.value}catch(e){return void r(e)}o.done?t(l):Promise.resolve(l).then(n,a)}function _asyncToGenerator(o){return function(){var e=this,s=arguments;return new Promise(function(t,r){var n=o.apply(e,s);function a(e){asyncGeneratorStep(n,t,r,a,i,"next",e)}function i(e){asyncGeneratorStep(n,t,r,a,i,"throw",e)}a(void 0)})}}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(n){var a=_isNativeReflectConstruct();return function(){var e,t=_getPrototypeOf(n);if(a){var r=_getPrototypeOf(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return _possibleConstructorReturn(this,e)}}function _possibleConstructorReturn(e,t){if(t&&("object"===_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(e)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_toPropertyKey(n.key),n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"===_typeof(t)?t:String(t)}function _toPrimitive(e,t){if("object"!==_typeof(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);var n=r.call(e,t||"default");if("object"!==_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e,t){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"object"===("undefined"==typeof module?"undefined":_typeof(module))?module.exports=t():"function"==typeof define&&define.amd?define("pdfjs-dist/build/pdf",[],t):"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?exports["pdfjs-dist/build/pdf"]=t():e["pdfjs-dist/build/pdf"]=e.pdfjsLib=t()}(void 0,function(){return function(){var __webpack_modules__=[,function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.addLinkAttributes=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=t.url,n=t.target,a=t.rel,i=t.enabled,s=void 0===i||i;(0,h.assert)(r&&"string"==typeof r,'addLinkAttributes: A valid "url" parameter must provided.');var o=(0,h.removeNullCharacters)(r);s?e.href=e.title=o:(e.href="",e.title="Disabled: ".concat(o),e.onclick=function(){return!1});var l="";switch(n){case f.NONE:break;case f.SELF:l="_self";break;case f.BLANK:l="_blank";break;case f.PARENT:l="_parent";break;case f.TOP:l="_top"}e.target=l,e.rel="string"==typeof a?a:c},t.deprecated=function(e){console.log("Deprecated API usage: "+e)},t.getFilenameFromUrl=function(e){var t=e.indexOf("#"),r=e.indexOf("?"),n=Math.min(0<t?t:e.length,0<r?r:e.length);return e.substring(e.lastIndexOf("/",n)+1,n)},t.getPdfFilenameFromUrl=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"document.pdf";if("string"!=typeof e)return t;if(p(e))return(0,h.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;var r=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,n=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(e),a=r.exec(n[1])||r.exec(n[2])||r.exec(n[3]);if(a&&(a=a[0]).includes("%"))try{a=r.exec(decodeURIComponent(a))[0]}catch(e){}return a||t},t.isDataScheme=p,t.isFetchSupported=m,t.isPdfFile=function(e){return"string"==typeof e&&/\.pdf$/i.test(e)},t.isValidFetchUrl=_,t.loadScript=function(n){var a=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return new Promise(function(t,e){var r=document.createElement("script");r.src=n,r.onload=function(e){a&&r.remove(),t(e)},r.onerror=function(){e(new Error("Cannot load script at: ".concat(r.src)))},(document.head||document.documentElement).appendChild(r)})},t.StatTimer=t.RenderingCancelledException=t.PDFDateString=t.PageViewport=t.LinkTarget=t.DOMSVGFactory=t.DOMCMapReaderFactory=t.DOMCanvasFactory=t.DEFAULT_LINK_REL=t.BaseCMapReaderFactory=t.BaseCanvasFactory=void 0;var h=r(2),c="noopener noreferrer nofollow";t.DEFAULT_LINK_REL=c;var n="http://www.w3.org/2000/svg",i=function(){function e(){_classCallCheck(this,e),this.constructor===e&&(0,h.unreachable)("Cannot initialize BaseCanvasFactory.")}return _createClass(e,[{key:"create",value:function(e,t){(0,h.unreachable)("Abstract method `create` called.")}},{key:"reset",value:function(e,t,r){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||r<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=r}},{key:"destroy",value:function(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}}]),e}();t.BaseCanvasFactory=i;var a=function(e){_inherits(a,i);var n=_createSuper(a);function a(){var e,t=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).ownerDocument,r=void 0===t?globalThis.document:t;return _classCallCheck(this,a),(e=n.call(this))._document=r,e}return _createClass(a,[{key:"create",value:function(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");var r=this._document.createElement("canvas"),n=r.getContext("2d");return r.width=e,r.height=t,{canvas:r,context:n}}}]),a}();t.DOMCanvasFactory=a;var s=function(){function i(e){var t=e.baseUrl,r=void 0===t?null:t,n=e.isCompressed,a=void 0!==n&&n;_classCallCheck(this,i),this.constructor===i&&(0,h.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=r,this.isCompressed=a}var t;return _createClass(i,[{key:"fetch",value:(t=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var r,n,a,i=this;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.name,this.baseUrl){e.next=3;break}throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');case 3:if(r){e.next=5;break}throw new Error("CMap name must be specified.");case 5:return n=this.baseUrl+r+(this.isCompressed?".bcmap":""),a=this.isCompressed?h.CMapCompressionType.BINARY:h.CMapCompressionType.NONE,e.abrupt("return",this._fetchData(n,a).catch(function(e){throw new Error("Unable to load ".concat(i.isCompressed?"binary ":"","CMap at: ").concat(n))}));case 8:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"_fetchData",value:function(e,t){(0,h.unreachable)("Abstract method `_fetchData` called.")}}]),i}();t.BaseCMapReaderFactory=s;var o=function(e){_inherits(r,s);var t=_createSuper(r);function r(){return _classCallCheck(this,r),t.apply(this,arguments)}return _createClass(r,[{key:"_fetchData",value:function(e,a){var i=this;return m()&&_(e,document.baseURI)?fetch(e).then(function(){var t=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var r;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.ok){e.next=2;break}throw new Error(t.statusText);case 2:if(i.isCompressed)return e.t0=Uint8Array,e.next=6,t.arrayBuffer();e.next=10;break;case 6:e.t1=e.sent,r=new e.t0(e.t1),e.next=15;break;case 10:return e.t2=h.stringToBytes,e.next=13,t.text();case 13:e.t3=e.sent,r=(0,e.t2)(e.t3);case 15:return e.abrupt("return",{cMapData:r,compressionType:a});case 16:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}()):new Promise(function(t,r){var n=new XMLHttpRequest;n.open("GET",e,!0),i.isCompressed&&(n.responseType="arraybuffer"),n.onreadystatechange=function(){if(n.readyState===XMLHttpRequest.DONE){var e;if(200===n.status||0===n.status)if(i.isCompressed&&n.response?e=new Uint8Array(n.response):!i.isCompressed&&n.responseText&&(e=(0,h.stringToBytes)(n.responseText)),e)return void t({cMapData:e,compressionType:a});r(new Error(n.statusText))}},n.send(null)})}}]),r}();t.DOMCMapReaderFactory=o;var l=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"create",value:function(e,t){(0,h.assert)(0<e&&0<t,"Invalid SVG dimensions");var r=document.createElementNS(n,"svg:svg");return r.setAttribute("version","1.1"),r.setAttribute("width",e+"px"),r.setAttribute("height",t+"px"),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox","0 0 "+e+" "+t),r}},{key:"createElement",value:function(e){return(0,h.assert)("string"==typeof e,"Invalid SVG element type"),document.createElementNS(n,e)}}]),e}();t.DOMSVGFactory=l;var u=function(){function b(e){var t=e.viewBox,r=e.scale,n=e.rotation,a=e.offsetX,i=void 0===a?0:a,s=e.offsetY,o=void 0===s?0:s,l=e.dontFlip,c=void 0!==l&&l;_classCallCheck(this,b),this.viewBox=t,this.scale=r,this.rotation=n,this.offsetX=i,this.offsetY=o;var u,h,d,f,p,v,g,m,_=(t[2]+t[0])/2,y=(t[3]+t[1])/2;switch((n%=360)<0&&(n+=360),n){case 180:u=-1,d=h=0,f=1;break;case 90:d=h=1,f=u=0;break;case 270:d=h=-1,f=u=0;break;case 0:d=h=0,f=-(u=1);break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}c&&(d=-d,f=-f),m=0===u?(p=Math.abs(y-t[1])*r+i,v=Math.abs(_-t[0])*r+o,g=Math.abs(t[3]-t[1])*r,Math.abs(t[2]-t[0])*r):(p=Math.abs(_-t[0])*r+i,v=Math.abs(y-t[1])*r+o,g=Math.abs(t[2]-t[0])*r,Math.abs(t[3]-t[1])*r),this.transform=[u*r,h*r,d*r,f*r,p-u*r*_-d*r*y,v-h*r*_-f*r*y],this.width=g,this.height=m}return _createClass(b,[{key:"clone",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.scale,r=void 0===t?this.scale:t,n=e.rotation,a=void 0===n?this.rotation:n,i=e.offsetX,s=void 0===i?this.offsetX:i,o=e.offsetY,l=void 0===o?this.offsetY:o,c=e.dontFlip,u=void 0!==c&&c;return new b({viewBox:this.viewBox.slice(),scale:r,rotation:a,offsetX:s,offsetY:l,dontFlip:u})}},{key:"convertToViewportPoint",value:function(e,t){return h.Util.applyTransform([e,t],this.transform)}},{key:"convertToViewportRectangle",value:function(e){var t=h.Util.applyTransform([e[0],e[1]],this.transform),r=h.Util.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],r[0],r[1]]}},{key:"convertToPdfPoint",value:function(e,t){return h.Util.applyInverseTransform([e,t],this.transform)}}]),b}();t.PageViewport=u;var d=function(e){_inherits(a,h.BaseException);var n=_createSuper(a);function a(e,t){var r;return _classCallCheck(this,a),(r=n.call(this,e)).type=t,r}return _createClass(a)}();t.RenderingCancelledException=d;var f={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};function p(e){for(var t=e.length,r=0;r<t&&""===e[r].trim();)r++;return"data:"===e.substring(r,r+5).toLowerCase()}t.LinkTarget=f;var v,g=function(){function e(){_classCallCheck(this,e),this.started=Object.create(null),this.times=[]}return _createClass(e,[{key:"time",value:function(e){e in this.started&&(0,h.warn)("Timer is already running for ".concat(e)),this.started[e]=Date.now()}},{key:"timeEnd",value:function(e){e in this.started||(0,h.warn)("Timer has not been started for ".concat(e)),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}},{key:"toString",value:function(){var e,t=[],r=0,n=_createForOfIteratorHelper(this.times);try{for(n.s();!(e=n.n()).done;){var a=e.value.name;a.length>r&&(r=a.length)}}catch(e){n.e(e)}finally{n.f()}var i,s=_createForOfIteratorHelper(this.times);try{for(s.s();!(i=s.n()).done;){var o=i.value,l=o.end-o.start;t.push("".concat(o.name.padEnd(r)," ").concat(l,"ms\n"))}}catch(e){s.e(e)}finally{s.f()}return t.join("")}}]),e}();function m(){return"undefined"!=typeof fetch&&"undefined"!=typeof Response&&"body"in Response.prototype&&"undefined"!=typeof ReadableStream}function _(e,t){try{var r=(t?new URL(e,t):new URL(e)).protocol;return"http:"===r||"https:"===r}catch(e){return!1}}t.StatTimer=g;var y=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"toDateObject",value:function(e){if(!e||!(0,h.isString)(e))return null;v||(v=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));var t=v.exec(e);if(!t)return null;var r=parseInt(t[1],10),n=parseInt(t[2],10);n=1<=n&&n<=12?n-1:0;var a=parseInt(t[3],10);a=1<=a&&a<=31?a:1;var i=parseInt(t[4],10);i=0<=i&&i<=23?i:0;var s=parseInt(t[5],10);s=0<=s&&s<=59?s:0;var o=parseInt(t[6],10);o=0<=o&&o<=59?o:0;var l=t[7]||"Z",c=parseInt(t[8],10);c=0<=c&&c<=23?c:0;var u=parseInt(t[9],10)||0;return u=0<=u&&u<=59?u:0,"-"===l?(i+=c,s+=u):"+"===l&&(i-=c,s-=u),new Date(Date.UTC(r,n,a,i,s,o))}}]),e}();t.PDFDateString=y},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.arrayByteLength=y,t.arraysToBytes=function(e){var t=e.length;if(1===t&&e[0]instanceof Uint8Array)return e[0];for(var r=0,n=0;n<t;n++)r+=y(e[n]);for(var a=0,i=new Uint8Array(r),s=0;s<t;s++){var o=e[s];o instanceof Uint8Array||(o="string"==typeof o?_(o):new Uint8Array(o));var l=o.byteLength;i.set(o,a),a+=l}return i},t.assert=o,t.bytesToString=function(e){o(null!==e&&"object"===_typeof(e)&&void 0!==e.length,"Invalid argument for bytesToString");var t=e.length;if(t<8192)return String.fromCharCode.apply(null,e);for(var r=[],n=0;n<t;n+=8192){var a=Math.min(n+8192,t),i=e.subarray(n,a);r.push(String.fromCharCode.apply(null,i))}return r.join("")},t.createObjectURL=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",r=2<arguments.length&&void 0!==arguments[2]&&arguments[2];if(URL.createObjectURL&&!r)return URL.createObjectURL(new Blob([e],{type:t}));for(var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",a="data:".concat(t,";base64,"),i=0,s=e.length;i<s;i+=3){var o=255&e[i],l=255&e[i+1],c=255&e[i+2],u=o>>2,h=(3&o)<<4|l>>4,d=i+1<s?(15&l)<<2|c>>6:64,f=i+2<s?63&c:64;a+=n[u]+n[h]+n[d]+n[f]}return a},t.createPromiseCapability=function(){var e=Object.create(null),n=!1;return Object.defineProperty(e,"settled",{get:function(){return n}}),e.promise=new Promise(function(t,r){e.resolve=function(e){n=!0,t(e)},e.reject=function(e){n=!0,r(e)}}),e},t.createValidAbsoluteUrl=function(e,t){if(!e)return null;try{var r=t?new URL(e,t):new URL(e);if(function(e){if(!e)return!1;switch(e.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(r))return r}catch(e){}return null},t.escapeString=function(e){return e.replace(/([()\\\n\r])/g,function(e){return"\n"===e?"\\n":"\r"===e?"\\r":"\\".concat(e)})},t.getModificationDate=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new Date;return[e.getUTCFullYear().toString(),(e.getUTCMonth()+1).toString().padStart(2,"0"),e.getUTCDate().toString().padStart(2,"0"),e.getUTCHours().toString().padStart(2,"0"),e.getUTCMinutes().toString().padStart(2,"0"),e.getUTCSeconds().toString().padStart(2,"0")].join("")},t.getVerbosityLevel=function(){return a},t.info=function(e){a>=n.INFOS&&console.log("Info: ".concat(e))},t.isArrayBuffer=function(e){return"object"===_typeof(e)&&null!==e&&void 0!==e.byteLength},t.isArrayEqual=function(e,t){if(e.length!==t.length)return!1;for(var r=0,n=e.length;r<n;r++)if(e[r]!==t[r])return!1;return!0},t.isAscii=function(e){return/^[\x00-\x7F]*$/.test(e)},t.isBool=function(e){return"boolean"==typeof e},t.isNum=function(e){return"number"==typeof e},t.isSameOrigin=function(e,t){var r;try{if(!(r=new URL(e)).origin||"null"===r.origin)return!1}catch(e){return!1}var n=new URL(t,r);return r.origin===n.origin},t.isString=function(e){return"string"==typeof e},t.objectFromMap=function(e){var t,r=Object.create(null),n=_createForOfIteratorHelper(e);try{for(n.s();!(t=n.n()).done;){var a=_slicedToArray(t.value,2),i=a[0],s=a[1];r[i]=s}}catch(e){n.e(e)}finally{n.f()}return r},t.objectSize=function(e){return Object.keys(e).length},t.removeNullCharacters=function(e){return"string"==typeof e?e.replace(m,""):(i("The argument for removeNullCharacters must be a string."),e)},t.setVerbosityLevel=function(e){Number.isInteger(e)&&(a=e)},t.shadow=l,t.string32=function(e){return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,255&e)},t.stringToBytes=_,t.stringToPDFString=function(e){var t=e.length,r=[];if("þ"===e[0]&&"ÿ"===e[1])for(var n=2;n<t;n+=2)r.push(String.fromCharCode(e.charCodeAt(n)<<8|e.charCodeAt(n+1)));else if("ÿ"===e[0]&&"þ"===e[1])for(var a=2;a<t;a+=2)r.push(String.fromCharCode(e.charCodeAt(a+1)<<8|e.charCodeAt(a)));else for(var i=0;i<t;++i){var s=S[e.charCodeAt(i)];r.push(s?String.fromCharCode(s):e.charAt(i))}return r.join("")},t.stringToUTF16BEString=function(e){for(var t=["þÿ"],r=0,n=e.length;r<n;r++){var a=e.charCodeAt(r);t.push(String.fromCharCode(a>>8&255)),t.push(String.fromCharCode(255&a))}return t.join("")},t.stringToUTF8String=function(e){return decodeURIComponent(escape(e))},t.unreachable=s,t.utf8StringToString=function(e){return unescape(encodeURIComponent(e))},t.warn=i,t.VerbosityLevel=t.Util=t.UNSUPPORTED_FEATURES=t.UnknownErrorException=t.UnexpectedResponseException=t.TextRenderingMode=t.StreamType=t.PermissionFlag=t.PasswordResponses=t.PasswordException=t.PageActionEventType=t.OPS=t.MissingPDFException=t.IsLittleEndianCached=t.IsEvalSupportedCached=t.InvalidPDFException=t.ImageKind=t.IDENTITY_MATRIX=t.FormatError=t.FontType=t.FONT_IDENTITY_MATRIX=t.DocumentActionEventType=t.CMapCompressionType=t.BaseException=t.AnnotationType=t.AnnotationStateModelType=t.AnnotationReviewState=t.AnnotationReplyType=t.AnnotationMarkedState=t.AnnotationFlag=t.AnnotationFieldFlag=t.AnnotationBorderStyleType=t.AnnotationActionEventType=t.AbortException=void 0,r(3);t.IDENTITY_MATRIX=[1,0,0,1,0,0];t.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0];t.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};t.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};t.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};t.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};t.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"};t.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"};t.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"};t.AnnotationReplyType={GROUP:"Group",REPLY:"R"};t.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};t.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};t.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};t.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};t.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};t.PageActionEventType={O:"PageOpen",C:"PageClose"};t.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"};t.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};var n={ERRORS:0,WARNINGS:1,INFOS:5};t.VerbosityLevel=n;t.CMapCompressionType={NONE:0,BINARY:1,STREAM:2};t.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};t.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent"};t.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};var a=n.WARNINGS;function i(e){a>=n.WARNINGS&&console.log("Warning: ".concat(e))}function s(e){throw new Error(e)}function o(e,t){e||s(t)}function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!1}),r}var c=function(){function t(e){this.constructor===t&&s("Cannot initialize BaseException."),this.message=e,this.name=this.constructor.name}return t.prototype=new Error,t.constructor=t}();t.BaseException=c;var u=function(e){_inherits(a,c);var n=_createSuper(a);function a(e,t){var r;return _classCallCheck(this,a),(r=n.call(this,e)).code=t,r}return _createClass(a)}();t.PasswordException=u;var h=function(e){_inherits(a,c);var n=_createSuper(a);function a(e,t){var r;return _classCallCheck(this,a),(r=n.call(this,e)).details=t,r}return _createClass(a)}();t.UnknownErrorException=h;var d=function(e){_inherits(r,c);var t=_createSuper(r);function r(){return _classCallCheck(this,r),t.apply(this,arguments)}return _createClass(r)}();t.InvalidPDFException=d;var f=function(e){_inherits(r,c);var t=_createSuper(r);function r(){return _classCallCheck(this,r),t.apply(this,arguments)}return _createClass(r)}();t.MissingPDFException=f;var p=function(e){_inherits(a,c);var n=_createSuper(a);function a(e,t){var r;return _classCallCheck(this,a),(r=n.call(this,e)).status=t,r}return _createClass(a)}();t.UnexpectedResponseException=p;var v=function(e){_inherits(r,c);var t=_createSuper(r);function r(){return _classCallCheck(this,r),t.apply(this,arguments)}return _createClass(r)}();t.FormatError=v;var g=function(e){_inherits(r,c);var t=_createSuper(r);function r(){return _classCallCheck(this,r),t.apply(this,arguments)}return _createClass(r)}();t.AbortException=g;var m=/\x00/g;function _(e){o("string"==typeof e,"Invalid argument for stringToBytes");for(var t=e.length,r=new Uint8Array(t),n=0;n<t;++n)r[n]=255&e.charCodeAt(n);return r}function y(e){return void 0!==e.length?e.length:(o(void 0!==e.byteLength,"arrayByteLength - invalid argument."),e.byteLength)}var b={get value(){return l(this,"value",((e=new Uint8Array(4))[0]=1)===new Uint32Array(e.buffer,0,1)[0]);var e}};t.IsLittleEndianCached=b;var A={get value(){return l(this,"value",function(){try{return new Function(""),!0}catch(e){return!1}}())}};t.IsEvalSupportedCached=A;var k=_toConsumableArray(Array(256).keys()).map(function(e){return e.toString(16).padStart(2,"0")}),C=function(){function s(){_classCallCheck(this,s)}return _createClass(s,null,[{key:"makeHexColor",value:function(e,t,r){return"#".concat(k[e]).concat(k[t]).concat(k[r])}},{key:"transform",value:function(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}},{key:"applyTransform",value:function(e,t){return[e[0]*t[0]+e[1]*t[2]+t[4],e[0]*t[1]+e[1]*t[3]+t[5]]}},{key:"applyInverseTransform",value:function(e,t){var r=t[0]*t[3]-t[1]*t[2];return[(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/r,(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/r]}},{key:"getAxialAlignedBoundingBox",value:function(e,t){var r=s.applyTransform(e,t),n=s.applyTransform(e.slice(2,4),t),a=s.applyTransform([e[0],e[3]],t),i=s.applyTransform([e[2],e[1]],t);return[Math.min(r[0],n[0],a[0],i[0]),Math.min(r[1],n[1],a[1],i[1]),Math.max(r[0],n[0],a[0],i[0]),Math.max(r[1],n[1],a[1],i[1])]}},{key:"inverseTransform",value:function(e){var t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}},{key:"apply3dTransform",value:function(e,t){return[e[0]*t[0]+e[1]*t[1]+e[2]*t[2],e[3]*t[0]+e[4]*t[1]+e[5]*t[2],e[6]*t[0]+e[7]*t[1]+e[8]*t[2]]}},{key:"singularValueDecompose2dScale",value:function(e){var t=[e[0],e[2],e[1],e[3]],r=e[0]*t[0]+e[1]*t[2],n=e[0]*t[1]+e[1]*t[3],a=e[2]*t[0]+e[3]*t[2],i=e[2]*t[1]+e[3]*t[3],s=(r+i)/2,o=Math.sqrt(Math.pow(r+i,2)-4*(r*i-a*n))/2,l=s+o||1,c=s-o||1;return[Math.sqrt(l),Math.sqrt(c)]}},{key:"normalizeRect",value:function(e){var t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}},{key:"intersect",value:function(e,t){function r(e,t){return e-t}var n=[e[0],e[2],t[0],t[2]].sort(r),a=[e[1],e[3],t[1],t[3]].sort(r),i=[];return e=s.normalizeRect(e),t=s.normalizeRect(t),n[0]===e[0]&&n[1]===t[0]||n[0]===t[0]&&n[1]===e[0]?(i[0]=n[1],i[2]=n[2],a[0]===e[1]&&a[1]===t[1]||a[0]===t[1]&&a[1]===e[1]?(i[1]=a[1],i[3]=a[2],i):null):null}}]),s}();t.Util=C;var S=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364]},function(e,t,r){r(4)},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.isNodeJS=void 0;var r=!("object"!==("undefined"==typeof process?"undefined":_typeof(process))||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type);t.isNodeJS=r},function(__unused_webpack_module,exports,__w_pdfjs_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultCMapReaderFactory=exports.DefaultCanvasFactory=exports.build=void 0;var _util=__w_pdfjs_require__(2),_display_utils=__w_pdfjs_require__(1),_font_loader=__w_pdfjs_require__(6),_node_utils=__w_pdfjs_require__(7),_annotation_storage=__w_pdfjs_require__(8),_api_compatibility=__w_pdfjs_require__(9),_canvas=__w_pdfjs_require__(10),_worker_options=__w_pdfjs_require__(12),_is_node=__w_pdfjs_require__(4),_message_handler=__w_pdfjs_require__(13),_metadata=__w_pdfjs_require__(14),_optional_content_config=__w_pdfjs_require__(15),_transport_stream=__w_pdfjs_require__(16),_webgl=__w_pdfjs_require__(17),DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DefaultCanvasFactory=_is_node.isNodeJS?_node_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;var DefaultCMapReaderFactory=_is_node.isNodeJS?_node_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory,createPDFNetworkStream;function setPDFNetworkStreamFactory(e){createPDFNetworkStream=e}function getDocument(e){var t,s=new PDFDocumentLoadingTask;if("string"==typeof e||e instanceof URL)t={url:e};else if((0,_util.isArrayBuffer)(e))t={data:e};else if(e instanceof PDFDataRangeTransport)t={range:e};else{if("object"!==_typeof(e))throw new Error("Invalid parameter in getDocument, need either string, URL, Uint8Array, or parameter object.");if(!e.url&&!e.data&&!e.range)throw new Error("Invalid parameter object: need either .data, .range or .url");t=e}var o=Object.create(null),r=null,l=null;for(var n in t){var a=t[n];switch(n){case"url":if("undefined"!=typeof window)try{o[n]=new URL(a,window.location).href;continue}catch(e){(0,_util.warn)('Cannot create valid URL: "'.concat(e,'".'))}else if("string"==typeof a||a instanceof URL){o[n]=a.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":r=a;continue;case"worker":l=a;continue;case"data":if(_is_node.isNodeJS&&"undefined"!=typeof Buffer&&a instanceof Buffer)o[n]=new Uint8Array(a);else{if(a instanceof Uint8Array)break;if("string"==typeof a)o[n]=(0,_util.stringToBytes)(a);else if("object"!==_typeof(a)||null===a||isNaN(a.length)){if(!(0,_util.isArrayBuffer)(a))throw new Error("Invalid PDF binary data: either typed array, string, or array-like object is expected in the data property.");o[n]=new Uint8Array(a)}else o[n]=new Uint8Array(a)}continue}o[n]=a}if(o.rangeChunkSize=o.rangeChunkSize||DEFAULT_RANGE_CHUNK_SIZE,o.CMapReaderFactory=o.CMapReaderFactory||DefaultCMapReaderFactory,o.ignoreErrors=!0!==o.stopAtErrors,o.fontExtraProperties=!0===o.fontExtraProperties,o.pdfBug=!0===o.pdfBug,o.enableXfa=!0===o.enableXfa,("string"!=typeof o.docBaseUrl||(0,_display_utils.isDataScheme)(o.docBaseUrl))&&(o.docBaseUrl=null),Number.isInteger(o.maxImageSize)||(o.maxImageSize=-1),"boolean"!=typeof o.isEvalSupported&&(o.isEvalSupported=!0),"boolean"!=typeof o.disableFontFace&&(o.disableFontFace=_api_compatibility.apiCompatibilityParams.disableFontFace||!1),void 0===o.ownerDocument&&(o.ownerDocument=globalThis.document),"boolean"!=typeof o.disableRange&&(o.disableRange=!1),"boolean"!=typeof o.disableStream&&(o.disableStream=!1),"boolean"!=typeof o.disableAutoFetch&&(o.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(o.verbosity),!l){var i={verbosity:o.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};l=i.port?PDFWorker.fromPort(i):new PDFWorker(i),s._worker=l}var c=s.docId;return l.promise.then(function(){if(s.destroyed)throw new Error("Loading aborted");var e=_fetchDocument(l,o,r,c),t=new Promise(function(e){var t;r?t=new _transport_stream.PDFDataTransportStream({length:o.length,initialData:o.initialData,progressiveDone:o.progressiveDone,contentDispositionFilename:o.contentDispositionFilename,disableRange:o.disableRange,disableStream:o.disableStream},r):o.data||(t=createPDFNetworkStream({url:o.url,length:o.length,httpHeaders:o.httpHeaders,withCredentials:o.withCredentials,rangeChunkSize:o.rangeChunkSize,disableRange:o.disableRange,disableStream:o.disableStream})),e(t)});return Promise.all([e,t]).then(function(e){var t=_slicedToArray(e,2),r=t[0],n=t[1];if(s.destroyed)throw new Error("Loading aborted");var a=new _message_handler.MessageHandler(c,r,l.port);a.postMessageTransfers=l.postMessageTransfers;var i=new WorkerTransport(a,s,n,o);s._transport=i,a.send("Ready",null)})}).catch(s._capability.reject),s}function _fetchDocument(t,e,r,n){return t.destroyed?Promise.reject(new Error("Worker was destroyed")):(r&&(e.length=r.length,e.initialData=r.initialData,e.progressiveDone=r.progressiveDone,e.contentDispositionFilename=r.contentDispositionFilename),t.messageHandler.sendWithPromise("GetDocRequest",{docId:n,apiVersion:"2.8.335",source:{data:e.data,url:e.url,password:e.password,disableAutoFetch:e.disableAutoFetch,rangeChunkSize:e.rangeChunkSize,length:e.length},maxImageSize:e.maxImageSize,disableFontFace:e.disableFontFace,postMessageTransfers:t.postMessageTransfers,docBaseUrl:e.docBaseUrl,ignoreErrors:e.ignoreErrors,isEvalSupported:e.isEvalSupported,fontExtraProperties:e.fontExtraProperties,enableXfa:e.enableXfa}).then(function(e){if(t.destroyed)throw new Error("Worker was destroyed");return e}))}exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;var PDFDocumentLoadingTask=(zn=0,function(){function e(){_classCallCheck(this,e),this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d"+zn++,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}return _createClass(e,[{key:"promise",get:function(){return this._capability.promise}},{key:"destroy",value:function(){var e=this;return this.destroyed=!0,(this._transport?this._transport.destroy():Promise.resolve()).then(function(){e._transport=null,e._worker&&(e._worker.destroy(),e._worker=null)})}}]),e}()),zn,PDFDataRangeTransport=function(){function a(e,t){var r=2<arguments.length&&void 0!==arguments[2]&&arguments[2],n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,a),this.length=e,this.initialData=t,this.progressiveDone=r,this.contentDispositionFilename=n,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}return _createClass(a,[{key:"addRangeListener",value:function(e){this._rangeListeners.push(e)}},{key:"addProgressListener",value:function(e){this._progressListeners.push(e)}},{key:"addProgressiveReadListener",value:function(e){this._progressiveReadListeners.push(e)}},{key:"addProgressiveDoneListener",value:function(e){this._progressiveDoneListeners.push(e)}},{key:"onDataRange",value:function(e,t){var r,n=_createForOfIteratorHelper(this._rangeListeners);try{for(n.s();!(r=n.n()).done;){(0,r.value)(e,t)}}catch(e){n.e(e)}finally{n.f()}}},{key:"onDataProgress",value:function(r,n){var a=this;this._readyCapability.promise.then(function(){var e,t=_createForOfIteratorHelper(a._progressListeners);try{for(t.s();!(e=t.n()).done;){(0,e.value)(r,n)}}catch(e){t.e(e)}finally{t.f()}})}},{key:"onDataProgressiveRead",value:function(r){var n=this;this._readyCapability.promise.then(function(){var e,t=_createForOfIteratorHelper(n._progressiveReadListeners);try{for(t.s();!(e=t.n()).done;){(0,e.value)(r)}}catch(e){t.e(e)}finally{t.f()}})}},{key:"onDataProgressiveDone",value:function(){var r=this;this._readyCapability.promise.then(function(){var e,t=_createForOfIteratorHelper(r._progressiveDoneListeners);try{for(t.s();!(e=t.n()).done;){(0,e.value)()}}catch(e){t.e(e)}finally{t.f()}})}},{key:"transportReady",value:function(){this._readyCapability.resolve()}},{key:"requestDataRange",value:function(e,t){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}},{key:"abort",value:function(){}}]),a}();exports.PDFDataRangeTransport=PDFDataRangeTransport;var PDFDocumentProxy=function(){function r(e,t){_classCallCheck(this,r),this._pdfInfo=e,this._transport=t}return _createClass(r,[{key:"annotationStorage",get:function(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}},{key:"numPages",get:function(){return this._pdfInfo.numPages}},{key:"fingerprint",get:function(){return this._pdfInfo.fingerprint}},{key:"isPureXfa",get:function(){return this._pdfInfo.isPureXfa}},{key:"getPage",value:function(e){return this._transport.getPage(e)}},{key:"getPageIndex",value:function(e){return this._transport.getPageIndex(e)}},{key:"getDestinations",value:function(){return this._transport.getDestinations()}},{key:"getDestination",value:function(e){return this._transport.getDestination(e)}},{key:"getPageLabels",value:function(){return this._transport.getPageLabels()}},{key:"getPageLayout",value:function(){return this._transport.getPageLayout()}},{key:"getPageMode",value:function(){return this._transport.getPageMode()}},{key:"getViewerPreferences",value:function(){return this._transport.getViewerPreferences()}},{key:"getOpenAction",value:function(){return this._transport.getOpenAction()}},{key:"getAttachments",value:function(){return this._transport.getAttachments()}},{key:"getJavaScript",value:function(){return this._transport.getJavaScript()}},{key:"getJSActions",value:function(){return this._transport.getDocJSActions()}},{key:"getOutline",value:function(){return this._transport.getOutline()}},{key:"getOptionalContentConfig",value:function(){return this._transport.getOptionalContentConfig()}},{key:"getPermissions",value:function(){return this._transport.getPermissions()}},{key:"getMetadata",value:function(){return this._transport.getMetadata()}},{key:"getMarkInfo",value:function(){return this._transport.getMarkInfo()}},{key:"getData",value:function(){return this._transport.getData()}},{key:"getDownloadInfo",value:function(){return this._transport.downloadInfoCapability.promise}},{key:"getStats",value:function(){return this._transport.getStats()}},{key:"cleanup",value:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];return this._transport.startCleanup(e||this.isPureXfa)}},{key:"destroy",value:function(){return this.loadingTask.destroy()}},{key:"loadingParams",get:function(){return this._transport.loadingParams}},{key:"loadingTask",get:function(){return this._transport.loadingTask}},{key:"saveDocument",value:function(e){return this._transport.saveDocument(e)}},{key:"getFieldObjects",value:function(){return this._transport.getFieldObjects()}},{key:"hasJSActions",value:function(){return this._transport.hasJSActions()}},{key:"getCalculationOrderIds",value:function(){return this._transport.getCalculationOrderIds()}}]),r}();exports.PDFDocumentProxy=PDFDocumentProxy;var PDFPageProxy=function(){function i(e,t,r,n){var a=4<arguments.length&&void 0!==arguments[4]&&arguments[4];_classCallCheck(this,i),this._pageIndex=e,this._pageInfo=t,this._ownerDocument=n,this._transport=r,this._stats=a?new _display_utils.StatTimer:null,this._pdfBug=a,this.commonObjs=r.commonObjs,this.objs=new PDFObjects,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this.destroyed=!1}return _createClass(i,[{key:"pageNumber",get:function(){return this._pageIndex+1}},{key:"rotate",get:function(){return this._pageInfo.rotate}},{key:"ref",get:function(){return this._pageInfo.ref}},{key:"userUnit",get:function(){return this._pageInfo.userUnit}},{key:"view",get:function(){return this._pageInfo.view}},{key:"getViewport",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.scale,r=e.rotation,n=void 0===r?this.rotate:r,a=e.offsetX,i=void 0===a?0:a,s=e.offsetY,o=void 0===s?0:s,l=e.dontFlip,c=void 0!==l&&l;return new _display_utils.PageViewport({viewBox:this.view,scale:t,rotation:n,offsetX:i,offsetY:o,dontFlip:c})}},{key:"getAnnotations",value:function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).intent,t=void 0===e?null:e;return this._annotationsPromise&&this._annotationsIntent===t||(this._annotationsPromise=this._transport.getAnnotations(this._pageIndex,t),this._annotationsIntent=t),this._annotationsPromise}},{key:"getJSActions",value:function(){return this._jsActionsPromise||(this._jsActionsPromise=this._transport.getPageJSActions(this._pageIndex))}},{key:"getXfa",value:function(){return this._xfaPromise||(this._xfaPromise=this._transport.getPageXfa(this._pageIndex))}},{key:"render",value:function(e){var t,a=this,r=e.canvasContext,n=e.viewport,i=e.intent,s=void 0===i?"display":i,o=e.enableWebGL,l=void 0!==o&&o,c=e.renderInteractiveForms,u=void 0!==c&&c,h=e.transform,d=void 0===h?null:h,f=e.imageLayer,p=void 0===f?null:f,v=e.canvasFactory,g=void 0===v?null:v,m=e.background,_=void 0===m?null:m,y=e.annotationStorage,b=void 0===y?null:y,A=e.optionalContentConfigPromise,k=void 0===A?null:A;this._stats&&this._stats.time("Overall");var C="print"===s?"print":"display";this.pendingCleanup=!1,k||(k=this._transport.getOptionalContentConfig());var S=this._intentStates.get(C);S||(S=Object.create(null),this._intentStates.set(C,S)),S.streamReaderCancelTimeout&&(clearTimeout(S.streamReaderCancelTimeout),S.streamReaderCancelTimeout=null);var x=g||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),w=new _webgl.WebGLContext({enable:l});S.displayReadyCapability||(S.displayReadyCapability=(0,_util.createPromiseCapability)(),S.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList({pageIndex:this._pageIndex,intent:C,renderInteractiveForms:!0===u,annotationStorage:(null==b?void 0:b.serializable)||null}));var P=function(e){S.renderTasks.delete(R),(a.cleanupAfterRender||"print"===C)&&(a.pendingCleanup=!0),a._tryCleanup(),e?(R.capability.reject(e),a._abortOperatorList({intentState:S,reason:e})):R.capability.resolve(),a._stats&&(a._stats.timeEnd("Rendering"),a._stats.timeEnd("Overall"))},R=new InternalRenderTask({callback:P,params:{canvasContext:r,viewport:n,transform:d,imageLayer:p,background:_},objs:this.objs,commonObjs:this.commonObjs,operatorList:S.operatorList,pageIndex:this._pageIndex,canvasFactory:x,webGLContext:w,useRequestAnimationFrame:"print"!==C,pdfBug:this._pdfBug});((t=S).renderTasks||(t.renderTasks=new Set)).add(R);var T=R.task;return Promise.all([S.displayReadyCapability.promise,k]).then(function(e){var t=_slicedToArray(e,2),r=t[0],n=t[1];a.pendingCleanup?P():(a._stats&&a._stats.time("Rendering"),R.initializeGraphics({transparency:r,optionalContentConfig:n}),R.operatorListChanged())}).catch(P),T}},{key:"getOperatorList",value:function(){var e,t,r="oplist",n=this._intentStates.get(r);(n||(n=Object.create(null),this._intentStates.set(r,n)),n.opListReadCapability)||((e=Object.create(null)).operatorListChanged=function(){n.operatorList.lastChunk&&(n.opListReadCapability.resolve(n.operatorList),n.renderTasks.delete(e))},n.opListReadCapability=(0,_util.createPromiseCapability)(),((t=n).renderTasks||(t.renderTasks=new Set)).add(e),n.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList({pageIndex:this._pageIndex,intent:r}));return n.opListReadCapability.promise}},{key:"streamTextContent",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.normalizeWhitespace,r=void 0!==t&&t,n=e.disableCombineTextItems,a=void 0!==n&&n;return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,normalizeWhitespace:!0===r,combineTextItems:!0!==a},{highWaterMark:100,size:function(e){return e.items.length}})}},{key:"getTextContent",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r=this.streamTextContent(e);return new Promise(function(a,e){var t=r.getReader(),i={items:[],styles:Object.create(null)};!function n(){t.read().then(function(e){var t,r=e.value;e.done?a(i):(Object.assign(i.styles,r.styles),(t=i.items).push.apply(t,_toConsumableArray(r.items)),n())},e)}()})}},{key:"_destroy",value:function(){this.destroyed=!0,this._transport.pageCache[this._pageIndex]=null;var e,t=[],r=_createForOfIteratorHelper(this._intentStates);try{for(r.s();!(e=r.n()).done;){var n=_slicedToArray(e.value,2),a=n[0],i=n[1];if(this._abortOperatorList({intentState:i,reason:new Error("Page was destroyed."),force:!0}),"oplist"!==a){var s,o=_createForOfIteratorHelper(i.renderTasks);try{for(o.s();!(s=o.n()).done;){var l=s.value;t.push(l.completed),l.cancel()}}catch(e){o.e(e)}finally{o.f()}}}}catch(e){r.e(e)}finally{r.f()}return this.objs.clear(),this._annotationsPromise=null,this._jsActionsPromise=null,this._xfaPromise=null,this.pendingCleanup=!1,Promise.all(t)}},{key:"cleanup",value:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];return this.pendingCleanup=!0,this._tryCleanup(e)}},{key:"_tryCleanup",value:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];if(!this.pendingCleanup)return!1;var t,r=_createForOfIteratorHelper(this._intentStates.values());try{for(r.s();!(t=r.n()).done;){var n=t.value,a=n.renderTasks,i=n.operatorList;if(0<a.size||!i.lastChunk)return!1}}catch(e){r.e(e)}finally{r.f()}return this._intentStates.clear(),this.objs.clear(),this._annotationsPromise=null,this._jsActionsPromise=null,this._xfaPromise=null,e&&this._stats&&(this._stats=new _display_utils.StatTimer),!(this.pendingCleanup=!1)}},{key:"_startRenderPage",value:function(e,t){var r=this._intentStates.get(t);r&&(this._stats&&this._stats.timeEnd("Page Request"),r.displayReadyCapability&&r.displayReadyCapability.resolve(e))}},{key:"_renderPageChunk",value:function(e,t){for(var r=0,n=e.length;r<n;r++)t.operatorList.fnArray.push(e.fnArray[r]),t.operatorList.argsArray.push(e.argsArray[r]);t.operatorList.lastChunk=e.lastChunk;var a,i=_createForOfIteratorHelper(t.renderTasks);try{for(i.s();!(a=i.n()).done;){a.value.operatorListChanged()}}catch(e){i.e(e)}finally{i.f()}e.lastChunk&&this._tryCleanup()}},{key:"_pumpOperatorList",value:function(e){var n=this;(0,_util.assert)(e.intent,'PDFPageProxy._pumpOperatorList: Expected "intent" argument.');var t=this._transport.messageHandler.sendWithStream("GetOperatorList",e).getReader(),a=this._intentStates.get(e.intent);a.streamReader=t;!function r(){t.read().then(function(e){var t=e.value;e.done?a.streamReader=null:n._transport.destroyed||(n._renderPageChunk(t,a),r())},function(e){if(a.streamReader=null,!n._transport.destroyed){if(a.operatorList){a.operatorList.lastChunk=!0;var t,r=_createForOfIteratorHelper(a.renderTasks);try{for(r.s();!(t=r.n()).done;)t.value.operatorListChanged()}catch(e){r.e(e)}finally{r.f()}n._tryCleanup()}if(a.displayReadyCapability)a.displayReadyCapability.reject(e);else{if(!a.opListReadCapability)throw e;a.opListReadCapability.reject(e)}}})}()}},{key:"_abortOperatorList",value:function(e){var t=this,r=e.intentState,n=e.reason,a=e.force,i=void 0!==a&&a;if((0,_util.assert)(n instanceof Error||"object"===_typeof(n)&&null!==n,'PDFPageProxy._abortOperatorList: Expected "reason" argument.'),r.streamReader){if(!i){if(0<r.renderTasks.size)return;if(n instanceof _display_utils.RenderingCancelledException)return void(r.streamReaderCancelTimeout=setTimeout(function(){t._abortOperatorList({intentState:r,reason:n,force:!0}),r.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT))}if(r.streamReader.cancel(new _util.AbortException(null==n?void 0:n.message)),r.streamReader=null,!this._transport.destroyed){var s,o=_createForOfIteratorHelper(this._intentStates);try{for(o.s();!(s=o.n()).done;){var l=_slicedToArray(s.value,2),c=l[0];if(l[1]===r){this._intentStates.delete(c);break}}}catch(e){o.e(e)}finally{o.f()}this.cleanup()}}}},{key:"stats",get:function(){return this._stats}}]),i}();exports.PDFPageProxy=PDFPageProxy;var LoopbackPort=function(){function e(){_classCallCheck(this,e),this._listeners=[],this._deferred=Promise.resolve(void 0)}return _createClass(e,[{key:"postMessage",value:function(e,g){var r=this;var m=new WeakMap,n={data:function e(t){if("object"!==_typeof(t)||null===t)return t;if(m.has(t))return m.get(t);var r,n;if((r=t.buffer)&&(0,_util.isArrayBuffer)(r))return n=null!=g&&g.includes(r)?new t.constructor(r,t.byteOffset,t.byteLength):new t.constructor(t),m.set(t,n),n;if(t instanceof Map){n=new Map,m.set(t,n);var a,i=_createForOfIteratorHelper(t);try{for(i.s();!(a=i.n()).done;){var s=_slicedToArray(a.value,2),o=s[0],l=s[1];n.set(o,e(l))}}catch(e){i.e(e)}finally{i.f()}return n}if(t instanceof Set){n=new Set,m.set(t,n);var c,u=_createForOfIteratorHelper(t);try{for(u.s();!(c=u.n()).done;){var h=c.value;n.add(e(h))}}catch(e){u.e(e)}finally{u.f()}return n}for(var d in n=Array.isArray(t)?[]:{},m.set(t,n),t){for(var f,p=void 0,v=t;!(p=Object.getOwnPropertyDescriptor(v,d));)v=Object.getPrototypeOf(v);if(void 0!==p.value)if("function"!=typeof p.value)n[d]=e(p.value);else if(null!==(f=t.hasOwnProperty)&&void 0!==f&&f.call(t,d))throw new Error("LoopbackPort.postMessage - cannot clone: ".concat(t[d]))}return n}(e)};this._deferred.then(function(){var e,t=_createForOfIteratorHelper(r._listeners);try{for(t.s();!(e=t.n()).done;){e.value.call(r,n)}}catch(e){t.e(e)}finally{t.f()}})}},{key:"addEventListener",value:function(e,t){this._listeners.push(t)}},{key:"removeEventListener",value:function(e,t){var r=this._listeners.indexOf(t);this._listeners.splice(r,1)}},{key:"terminate",value:function(){this._listeners.length=0}}]),e}();exports.LoopbackPort=LoopbackPort;var PDFWorker=function PDFWorkerClosure(){var pdfWorkerPorts=new WeakMap,isWorkerDisabled=!1,fallbackWorkerSrc,nextFakeWorkerId=0,fakeWorkerCapability;if(_is_node.isNodeJS&&"function"==typeof require)isWorkerDisabled=!0,fallbackWorkerSrc="./pdf.worker.js";else if("object"===("undefined"==typeof document?"undefined":_typeof(document))&&"currentScript"in document){var _document$currentScri,pdfjsFilePath=null===(_document$currentScri=document.currentScript)||void 0===_document$currentScri?void 0:_document$currentScri.src;pdfjsFilePath&&(fallbackWorkerSrc=pdfjsFilePath.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}function _getWorkerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(void 0!==fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}function getMainThreadWorkerMessageHandler(){var e;try{var t;e=null===(t=globalThis.pdfjsWorker)||void 0===t?void 0:t.WorkerMessageHandler}catch(e){}return e||null}function setupFakeWorkerGlobal(){if(fakeWorkerCapability)return fakeWorkerCapability.promise;fakeWorkerCapability=(0,_util.createPromiseCapability)();var loader=function(){var _ref20=_asyncToGenerator(_regeneratorRuntime().mark(function _callee3(){var mainWorkerMessageHandler,worker;return _regeneratorRuntime().wrap(function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(mainWorkerMessageHandler=getMainThreadWorkerMessageHandler(),mainWorkerMessageHandler)return _context3.abrupt("return",mainWorkerMessageHandler);_context3.next=3;break;case 3:if(_is_node.isNodeJS&&"function"==typeof require)return worker=eval("require")(_getWorkerSrc()),_context3.abrupt("return",worker.WorkerMessageHandler);_context3.next=6;break;case 6:return _context3.next=8,(0,_display_utils.loadScript)(_getWorkerSrc());case 8:return _context3.abrupt("return",window.pdfjsWorker.WorkerMessageHandler);case 9:case"end":return _context3.stop()}},_callee3)}));return function(){return _ref20.apply(this,arguments)}}();return loader().then(fakeWorkerCapability.resolve,fakeWorkerCapability.reject),fakeWorkerCapability.promise}function createCDNWrapper(e){var t="importScripts('"+e+"');";return URL.createObjectURL(new Blob([t]))}var PDFWorker=function(){function o(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.name,r=void 0===t?null:t,n=e.port,a=void 0===n?null:n,i=e.verbosity,s=void 0===i?(0,_util.getVerbosityLevel)():i;if(_classCallCheck(this,o),a&&pdfWorkerPorts.has(a))throw new Error("Cannot use more than one PDFWorker per port");if(this.name=r,this.destroyed=!1,this.postMessageTransfers=!0,this.verbosity=s,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,a)return pdfWorkerPorts.set(a,this),void this._initializeFromPort(a);this._initialize()}return _createClass(o,[{key:"promise",get:function(){return this._readyCapability.promise}},{key:"port",get:function(){return this._port}},{key:"messageHandler",get:function(){return this._messageHandler}},{key:"_initializeFromPort",value:function(e){this._port=e,this._messageHandler=new _message_handler.MessageHandler("main","worker",e),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}},{key:"_initialize",value:function(){var r=this;if("undefined"!=typeof Worker&&!isWorkerDisabled&&!getMainThreadWorkerMessageHandler()){var e=_getWorkerSrc();try{(0,_util.isSameOrigin)(window.location.href,e)||(e=createCDNWrapper(new URL(e,window.location).href));var t=new Worker(e),n=new _message_handler.MessageHandler("main","worker",t),a=function(){t.removeEventListener("error",i),n.destroy(),t.terminate(),r.destroyed?r._readyCapability.reject(new Error("Worker was destroyed")):r._setupFakeWorker()},i=function(){r._webWorker||a()};t.addEventListener("error",i),n.on("test",function(e){t.removeEventListener("error",i),r.destroyed?a():e?(r._messageHandler=n,r._port=t,r._webWorker=t,e.supportTransfers||(r.postMessageTransfers=!1),r._readyCapability.resolve(),n.send("configure",{verbosity:r.verbosity})):(r._setupFakeWorker(),n.destroy(),t.terminate())}),n.on("ready",function(e){if(t.removeEventListener("error",i),r.destroyed)a();else try{s()}catch(e){r._setupFakeWorker()}});var s=function(){var t=new Uint8Array([r.postMessageTransfers?255:0]);try{n.send("test",t,[t.buffer])}catch(e){(0,_util.warn)("Cannot use postMessage transfers."),t[0]=0,n.send("test",t)}};return void s()}catch(e){(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}},{key:"_setupFakeWorker",value:function(){var i=this;isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),isWorkerDisabled=!0),setupFakeWorkerGlobal().then(function(e){if(i.destroyed)i._readyCapability.reject(new Error("Worker was destroyed"));else{var t=new LoopbackPort;i._port=t;var r="fake"+nextFakeWorkerId++,n=new _message_handler.MessageHandler(r+"_worker",r,t);e.setup(n,t);var a=new _message_handler.MessageHandler(r,r+"_worker",t);i._messageHandler=a,i._readyCapability.resolve(),a.send("configure",{verbosity:i.verbosity})}}).catch(function(e){i._readyCapability.reject(new Error('Setting up fake worker failed: "'.concat(e.message,'".')))})}},{key:"destroy",value:function(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),pdfWorkerPorts.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}}],[{key:"fromPort",value:function(e){if(!e||!e.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return pdfWorkerPorts.has(e.port)?pdfWorkerPorts.get(e.port):new o(e)}},{key:"getWorkerSrc",value:function(){return _getWorkerSrc()}}]),o}();return PDFWorker}();exports.PDFWorker=PDFWorker;var WorkerTransport=function(){function a(e,t,r,n){_classCallCheck(this,a),this.messageHandler=e,this.loadingTask=t,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:t.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:n.ownerDocument}),this._params=n,this.CMapReaderFactory=new n.CMapReaderFactory({baseUrl:n.cMapUrl,isCompressed:n.cMapPacked}),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.pageCache=[],this.pagePromises=[],this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}var e;return _createClass(a,[{key:"loadingTaskSettled",get:function(){return this.loadingTask._capability.settled}},{key:"destroy",value:function(){var e=this;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));var t=[];this.pageCache.forEach(function(e){e&&t.push(e._destroy())}),this.pageCache.length=0,this.pagePromises.length=0;var r=this.messageHandler.sendWithPromise("Terminate",null);if(t.push(r),this.loadingTaskSettled){var n=this.loadingTask.promise.then(function(e){e.hasOwnProperty("annotationStorage")&&e.annotationStorage.resetModified()}).catch(function(){});t.push(n)}return Promise.all(t).then(function(){e.commonObjs.clear(),e.fontLoader.clear(),e._hasJSActionsPromise=null,e._networkStream&&e._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),e.messageHandler&&(e.messageHandler.destroy(),e.messageHandler=null),e.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}},{key:"setupMessageHandler",value:function(){var u=this,h=this.messageHandler,n=this.loadingTask;h.on("GetReader",function(e,r){(0,_util.assert)(u._networkStream,"GetReader - no `IPDFStream` instance available."),u._fullReader=u._networkStream.getFullReader(),u._fullReader.onProgress=function(e){u._lastProgress={loaded:e.loaded,total:e.total}},r.onPull=function(){u._fullReader.read().then(function(e){var t=e.value;e.done?r.close():((0,_util.assert)((0,_util.isArrayBuffer)(t),"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(t),1,[t]))}).catch(function(e){r.error(e)})},r.onCancel=function(e){u._fullReader.cancel(e),r.ready.catch(function(e){if(!u.destroyed)throw e})}}),h.on("ReaderHeadersReady",function(e){var t=(0,_util.createPromiseCapability)(),r=u._fullReader;return r.headersReady.then(function(){r.isStreamingSupported&&r.isRangeSupported||(u._lastProgress&&n.onProgress&&n.onProgress(u._lastProgress),r.onProgress=function(e){n.onProgress&&n.onProgress({loaded:e.loaded,total:e.total})}),t.resolve({isStreamingSupported:r.isStreamingSupported,isRangeSupported:r.isRangeSupported,contentLength:r.contentLength})},t.reject),t.promise}),h.on("GetRangeReader",function(e,r){(0,_util.assert)(u._networkStream,"GetRangeReader - no `IPDFStream` instance available.");var t=u._networkStream.getRangeReader(e.begin,e.end);t?(r.onPull=function(){t.read().then(function(e){var t=e.value;e.done?r.close():((0,_util.assert)((0,_util.isArrayBuffer)(t),"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(t),1,[t]))}).catch(function(e){r.error(e)})},r.onCancel=function(e){t.cancel(e),r.ready.catch(function(e){if(!u.destroyed)throw e})}):r.close()}),h.on("GetDoc",function(e){var t=e.pdfInfo;u._numPages=t.numPages,n._capability.resolve(new PDFDocumentProxy(t,u))}),h.on("DocException",function(e){var t;switch(e.name){case"PasswordException":t=new _util.PasswordException(e.message,e.code);break;case"InvalidPDFException":t=new _util.InvalidPDFException(e.message);break;case"MissingPDFException":t=new _util.MissingPDFException(e.message);break;case"UnexpectedResponseException":t=new _util.UnexpectedResponseException(e.message,e.status);break;case"UnknownErrorException":t=new _util.UnknownErrorException(e.message,e.details)}if(!(t instanceof Error)){(0,_util.warn)("DocException - expected a valid Error.")}n._capability.reject(t)}),h.on("PasswordRequest",function(e){if(u._passwordCapability=(0,_util.createPromiseCapability)(),n.onPassword){try{n.onPassword(function(e){u._passwordCapability.resolve({password:e})},e.code)}catch(e){u._passwordCapability.reject(e)}}else u._passwordCapability.reject(new _util.PasswordException(e.message,e.code));return u._passwordCapability.promise}),h.on("DataLoaded",function(e){n.onProgress&&n.onProgress({loaded:e.length,total:e.length}),u.downloadInfoCapability.resolve(e)}),h.on("StartRenderPage",function(e){u.destroyed||u.pageCache[e.pageIndex]._startRenderPage(e.transparency,e.intent)}),h.on("commonobj",function(e){var t;if(!u.destroyed){var r=_slicedToArray(e,3),n=r[0],a=r[1],i=r[2];if(!u.commonObjs.has(n))switch(a){case"Font":var s=u._params;if("error"in i){var o=i.error;(0,_util.warn)("Error during font loading: ".concat(o)),u.commonObjs.resolve(n,o);break}var l=null;s.pdfBug&&null!==(t=globalThis.FontInspector)&&void 0!==t&&t.enabled&&(l={registerFont:function(e,t){globalThis.FontInspector.fontAdded(e,t)}});var c=new _font_loader.FontFaceObject(i,{isEvalSupported:s.isEvalSupported,disableFontFace:s.disableFontFace,ignoreErrors:s.ignoreErrors,onUnsupportedFeature:u._onUnsupportedFeature.bind(u),fontRegistry:l});u.fontLoader.bind(c).catch(function(e){return h.sendWithPromise("FontFallback",{id:n})}).finally(function(){!s.fontExtraProperties&&c.data&&(c.data=null),u.commonObjs.resolve(n,c)});break;case"FontPath":case"Image":u.commonObjs.resolve(n,i);break;default:throw new Error("Got unknown common object type ".concat(a))}}}),h.on("obj",function(e){var t;if(!u.destroyed){var r=_slicedToArray(e,4),n=r[0],a=r[1],i=r[2],s=r[3],o=u.pageCache[a];if(!o.objs.has(n))switch(i){case"Image":o.objs.resolve(n,s);8e6<(null==s?void 0:null===(t=s.data)||void 0===t?void 0:t.length)&&(o.cleanupAfterRender=!0);break;default:throw new Error("Got unknown object type ".concat(i))}}}),h.on("DocProgress",function(e){u.destroyed||n.onProgress&&n.onProgress({loaded:e.loaded,total:e.total})}),h.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),h.on("FetchBuiltInCMap",function(e,t){if(u.destroyed)t.error(new Error("Worker was destroyed"));else{var r=!1;t.onPull=function(){r?t.close():(r=!0,u.CMapReaderFactory.fetch(e).then(function(e){t.enqueue(e,1,[e.cMapData.buffer])}).catch(function(e){t.error(e)}))}}})}},{key:"_onUnsupportedFeature",value:function(e){var t=e.featureId;this.destroyed||this.loadingTask.onUnsupportedFeature&&this.loadingTask.onUnsupportedFeature(t)}},{key:"getData",value:function(){return this.messageHandler.sendWithPromise("GetData",null)}},{key:"getPage",value:function(e){var r=this;if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request"));var n=e-1;if(n in this.pagePromises)return this.pagePromises[n];var t=this.messageHandler.sendWithPromise("GetPage",{pageIndex:n}).then(function(e){if(r.destroyed)throw new Error("Transport destroyed");var t=new PDFPageProxy(n,e,r,r._params.ownerDocument,r._params.pdfBug);return r.pageCache[n]=t});return this.pagePromises[n]=t}},{key:"getPageIndex",value:function(e){return this.messageHandler.sendWithPromise("GetPageIndex",{ref:e}).catch(function(e){return Promise.reject(new Error(e))})}},{key:"getAnnotations",value:function(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}},{key:"saveDocument",value:function(e){var t,r;return this.messageHandler.sendWithPromise("SaveDocument",{numPages:this._numPages,annotationStorage:(null==e?void 0:e.serializable)||null,filename:null!==(t=null===(r=this._fullReader)||void 0===r?void 0:r.filename)&&void 0!==t?t:null}).finally(function(){e&&e.resetModified()})}},{key:"getFieldObjects",value:function(){return this.messageHandler.sendWithPromise("GetFieldObjects",null)}},{key:"hasJSActions",value:function(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}},{key:"getCalculationOrderIds",value:function(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}},{key:"getDestinations",value:function(){return this.messageHandler.sendWithPromise("GetDestinations",null)}},{key:"getDestination",value:function(e){return"string"!=typeof e?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}},{key:"getPageLabels",value:function(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}},{key:"getPageLayout",value:function(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}},{key:"getPageMode",value:function(){return this.messageHandler.sendWithPromise("GetPageMode",null)}},{key:"getViewerPreferences",value:function(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}},{key:"getOpenAction",value:function(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}},{key:"getAttachments",value:function(){return this.messageHandler.sendWithPromise("GetAttachments",null)}},{key:"getJavaScript",value:function(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}},{key:"getDocJSActions",value:function(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}},{key:"getPageJSActions",value:function(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}},{key:"getPageXfa",value:function(e){return this.messageHandler.sendWithPromise("GetPageXfa",{pageIndex:e})}},{key:"getOutline",value:function(){return this.messageHandler.sendWithPromise("GetOutline",null)}},{key:"getOptionalContentConfig",value:function(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(function(e){return new _optional_content_config.OptionalContentConfig(e)})}},{key:"getPermissions",value:function(){return this.messageHandler.sendWithPromise("GetPermissions",null)}},{key:"getMetadata",value:function(){var i=this;return this.messageHandler.sendWithPromise("GetMetadata",null).then(function(e){var t,r,n,a;return{info:e[0],metadata:e[1]?new _metadata.Metadata(e[1]):null,contentDispositionFilename:null!==(t=null===(r=i._fullReader)||void 0===r?void 0:r.filename)&&void 0!==t?t:null,contentLength:null!==(n=null===(a=i._fullReader)||void 0===a?void 0:a.contentLength)&&void 0!==n?n:null}})}},{key:"getMarkInfo",value:function(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}},{key:"getStats",value:function(){return this.messageHandler.sendWithPromise("GetStats",null)}},{key:"startCleanup",value:(e=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,r,n,a,i=arguments;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<i.length&&void 0!==i[0]&&i[0],e.next=3,this.messageHandler.sendWithPromise("Cleanup",null);case 3:if(this.destroyed)return e.abrupt("return");e.next=5;break;case 5:r=0,n=this.pageCache.length;case 6:if(!(r<n)){e.next=16;break}if(a=this.pageCache[r]){e.next=10;break}return e.abrupt("continue",13);case 10:if(a.cleanup()){e.next=13;break}throw new Error("startCleanup: Page ".concat(r+1," is currently rendering."));case 13:r++,e.next=6;break;case 16:this.commonObjs.clear(),t||this.fontLoader.clear(),this._hasJSActionsPromise=null;case 19:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"loadingParams",get:function(){var e=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:e.disableAutoFetch,disableFontFace:e.disableFontFace})}}]),a}(),PDFObjects=function(){function e(){_classCallCheck(this,e),this._objs=Object.create(null)}return _createClass(e,[{key:"_ensureObj",value:function(e){return this._objs[e]?this._objs[e]:this._objs[e]={capability:(0,_util.createPromiseCapability)(),data:null,resolved:!1}}},{key:"get",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;if(t)return this._ensureObj(e).capability.promise.then(t),null;var r=this._objs[e];if(!r||!r.resolved)throw new Error("Requesting object that isn't resolved yet ".concat(e,"."));return r.data}},{key:"has",value:function(e){var t=this._objs[e];return(null==t?void 0:t.resolved)||!1}},{key:"resolve",value:function(e,t){var r=this._ensureObj(e);r.resolved=!0,r.data=t,r.capability.resolve(t)}},{key:"clear",value:function(){this._objs=Object.create(null)}}]),e}(),RenderTask=function(){function t(e){_classCallCheck(this,t),this._internalRenderTask=e,this.onContinue=null}return _createClass(t,[{key:"promise",get:function(){return this._internalRenderTask.capability.promise}},{key:"cancel",value:function(){this._internalRenderTask.cancel()}}]),t}(),InternalRenderTask=(Pw=new WeakSet,function(){function f(e){var t=e.callback,r=e.params,n=e.objs,a=e.commonObjs,i=e.operatorList,s=e.pageIndex,o=e.canvasFactory,l=e.webGLContext,c=e.useRequestAnimationFrame,u=void 0!==c&&c,h=e.pdfBug,d=void 0!==h&&h;_classCallCheck(this,f),this.callback=t,this.params=r,this.objs=n,this.commonObjs=a,this.operatorListIdx=null,this.operatorList=i,this._pageIndex=s,this.canvasFactory=o,this.webGLContext=l,this._pdfBug=d,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===u&&"undefined"!=typeof window,this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=r.canvasContext.canvas}var e;return _createClass(f,[{key:"completed",get:function(){return this.capability.promise.catch(function(){})}},{key:"initializeGraphics",value:function(e){var t,r=e.transparency,n=void 0!==r&&r,a=e.optionalContentConfig;if(!this.cancelled){if(this._canvas){if(Pw.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Pw.add(this._canvas)}this._pdfBug&&null!==(t=globalThis.StepperManager)&&void 0!==t&&t.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());var i=this.params,s=i.canvasContext,o=i.viewport,l=i.transform,c=i.imageLayer,u=i.background;this.gfx=new _canvas.CanvasGraphics(s,this.commonObjs,this.objs,this.canvasFactory,this.webGLContext,c,a),this.gfx.beginDrawing({transform:l,viewport:o,transparency:n,background:u}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}}},{key:"cancel",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&Pw.delete(this._canvas),this.callback(e||new _display_utils.RenderingCancelledException("Rendering cancelled, page ".concat(this._pageIndex+1),"canvas"))}},{key:"operatorListChanged",value:function(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),this.running||this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}},{key:"_continue",value:function(){this.running=!0,this.cancelled||(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}},{key:"_scheduleNext",value:function(){var e=this;this._useRequestAnimationFrame?window.requestAnimationFrame(function(){e._nextBound().catch(e._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}},{key:"_next",value:(e=_asyncToGenerator(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.cancelled)return e.abrupt("return");e.next=2;break;case 2:this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&Pw.delete(this._canvas),this.callback()));case 4:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})}]),f}()),Pw,version="2.8.335";exports.version=version;var build="228adbf67";exports.build=build},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.FontLoader=t.FontFaceObject=void 0;var n,b=r(2),a=function(){function i(e){var t=e.docId,r=e.onUnsupportedFeature,n=e.ownerDocument,a=void 0===n?globalThis.document:n;_classCallCheck(this,i),this.constructor===i&&(0,b.unreachable)("Cannot initialize BaseFontLoader."),this.docId=t,this._onUnsupportedFeature=r,this._document=a,this.nativeFontFaces=[],this.styleElement=null}var t;return _createClass(i,[{key:"addNativeFontFace",value:function(e){this.nativeFontFaces.push(e),this._document.fonts.add(e)}},{key:"insertRule",value:function(e){var t=this.styleElement;t||((t=this.styleElement=this._document.createElement("style")).id="PDFJS_FONT_STYLE_TAG_".concat(this.docId),this._document.documentElement.getElementsByTagName("head")[0].appendChild(t));var r=t.sheet;r.insertRule(e,r.cssRules.length)}},{key:"clear",value:function(){var t=this;this.nativeFontFaces.forEach(function(e){t._document.fonts.delete(e)}),this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}},{key:"bind",value:(t=_asyncToGenerator(_regeneratorRuntime().mark(function e(r){var t,n,a=this;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r.attached||r.missingFile)return e.abrupt("return");e.next=2;break;case 2:if(r.attached=!0,!this.isFontLoadingAPISupported){e.next=19;break}if(t=r.createNativeFontFace())return this.addNativeFontFace(t),e.prev=7,e.next=10,t.loaded;e.next=18;break;case 10:e.next=18;break;case 12:throw e.prev=12,e.t0=e.catch(7),this._onUnsupportedFeature({featureId:b.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,b.warn)("Failed to load font '".concat(t.family,"': '").concat(e.t0,"'.")),r.disableFontFace=!0,e.t0;case 18:return e.abrupt("return");case 19:if(!(n=r.createFontFaceRule())){e.next=26;break}if(this.insertRule(n),this.isSyncFontLoadingSupported)return e.abrupt("return");e.next=24;break;case 24:return e.next=26,new Promise(function(e){var t=a._queueLoadingCallback(e);a._prepareFontLoadEvent([n],[r],t)});case 26:case"end":return e.stop()}},e,this,[[7,12]])})),function(e){return t.apply(this,arguments)})},{key:"_queueLoadingCallback",value:function(e){(0,b.unreachable)("Abstract method `_queueLoadingCallback`.")}},{key:"isFontLoadingAPISupported",get:function(){var e;return(0,b.shadow)(this,"isFontLoadingAPISupported",!(null===(e=this._document)||void 0===e||!e.fonts))}},{key:"isSyncFontLoadingSupported",get:function(){(0,b.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}},{key:"_loadTestFont",get:function(){(0,b.unreachable)("Abstract method `_loadTestFont`.")}},{key:"_prepareFontLoadEvent",value:function(e,t,r){(0,b.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}]),i}();t.FontLoader=n,t.FontLoader=n=function(e){_inherits(n,a);var r=_createSuper(n);function n(e){var t;return _classCallCheck(this,n),(t=r.call(this,e)).loadingContext={requests:[],nextRequestId:0},t.loadTestFontId=0,t}return _createClass(n,[{key:"isSyncFontLoadingSupported",get:function(){var e=!1;if("undefined"==typeof navigator)e=!0;else{var t=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);14<=(null==t?void 0:t[1])&&(e=!0)}return(0,b.shadow)(this,"isSyncFontLoadingSupported",e)}},{key:"_queueLoadingCallback",value:function(e){var t=this.loadingContext,r={id:"pdfjs-font-loading-".concat(t.nextRequestId++),done:!1,complete:function(){for((0,b.assert)(!r.done,"completeRequest() cannot be called twice."),r.done=!0;0<t.requests.length&&t.requests[0].done;){var e=t.requests.shift();setTimeout(e.callback,0)}},callback:e};return t.requests.push(r),r}},{key:"_loadTestFont",get:function(){return(0,b.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}},{key:"_prepareFontLoadEvent",value:function(e,t,r){var n,a,i=this;function s(e,t){return e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|255&e.charCodeAt(t+3)}function o(e,t,r,n){return e.substring(0,t)+n+e.substring(t+r)}var l=this._document.createElement("canvas");l.width=1,l.height=1;var c=l.getContext("2d"),u=0;var h="lt".concat(Date.now()).concat(this.loadTestFontId++),d=this._loadTestFont,f=1482184792,p=s(d=o(d,976,h.length,h),16);for(n=0,a=h.length-3;n<a;n+=4)p=p-f+s(h,n)|0;n<h.length&&(p=p-f+s(h+"XXX",n)|0),d=o(d,16,4,(0,b.string32)(p));var v="url(data:font/opentype;base64,".concat(btoa(d),");"),g='@font-face {font-family:"'.concat(h,'";src:').concat(v,"}");this.insertRule(g);var m=[];for(n=0,a=t.length;n<a;n++)m.push(t[n].loadedName);m.push(h);var _=this._document.createElement("div");for(_.style.visibility="hidden",_.style.width=_.style.height="10px",_.style.position="absolute",_.style.top=_.style.left="0px",n=0,a=m.length;n<a;++n){var y=this._document.createElement("span");y.textContent="Hi",y.style.fontFamily=m[n],_.appendChild(y)}this._document.body.appendChild(_),function e(t,r){if(30<++u)return(0,b.warn)("Load test font never loaded."),void r();c.font="30px "+t,c.fillText(".",0,20),0<c.getImageData(0,0,1,1).data[3]?r():setTimeout(e.bind(null,t,r))}(h,function(){i._document.body.removeChild(_),r.complete()})}}]),n}();var i=function(){function d(e,t){var r=t.isEvalSupported,n=void 0===r||r,a=t.disableFontFace,i=void 0!==a&&a,s=t.ignoreErrors,o=void 0!==s&&s,l=t.onUnsupportedFeature,c=t.fontRegistry,u=void 0===c?null:c;for(var h in _classCallCheck(this,d),this.compiledGlyphs=Object.create(null),e)this[h]=e[h];this.isEvalSupported=!1!==n,this.disableFontFace=!0===i,this.ignoreErrors=!0===o,this._onUnsupportedFeature=l,this.fontRegistry=u}return _createClass(d,[{key:"createNativeFontFace",value:function(){if(!this.data||this.disableFontFace)return null;var e=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),e}},{key:"createFontFaceRule",value:function(){if(!this.data||this.disableFontFace)return null;var e=(0,b.bytesToString)(new Uint8Array(this.data)),t="url(data:".concat(this.mimetype,";base64,").concat(btoa(e),");"),r='@font-face {font-family:"'.concat(this.loadedName,'";src:').concat(t,"}");return this.fontRegistry&&this.fontRegistry.registerFont(this,t),r}},{key:"getPathGenerator",value:function(e,t){if(void 0!==this.compiledGlyphs[t])return this.compiledGlyphs[t];var a,i;try{a=e.get(this.loadedName+"_path_"+t)}catch(e){if(!this.ignoreErrors)throw e;return this._onUnsupportedFeature({featureId:b.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,b.warn)('getPathGenerator - ignoring character: "'.concat(e,'".')),this.compiledGlyphs[t]=function(e,t){}}if(this.isEvalSupported&&b.IsEvalSupportedCached.value){for(var r,n="",s=0,o=a.length;s<o;s++)r=void 0!==(i=a[s]).args?i.args.join(","):"",n+="c."+i.cmd+"("+r+");\n";return this.compiledGlyphs[t]=new Function("c","size",n)}return this.compiledGlyphs[t]=function(e,t){for(var r=0,n=a.length;r<n;r++)"scale"===(i=a[r]).cmd&&(i.args=[t,-t]),e[i.cmd].apply(e,i.args)}}}]),d}();t.FontFaceObject=i},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.NodeCMapReaderFactory=t.NodeCanvasFactory=void 0;var n=r(1),a=r(4),i=r(2),s=_createClass(function e(){_classCallCheck(this,e),(0,i.unreachable)("Not implemented: NodeCanvasFactory")});t.NodeCanvasFactory=s;var o=_createClass(function e(){_classCallCheck(this,e),(0,i.unreachable)("Not implemented: NodeCMapReaderFactory")});t.NodeCMapReaderFactory=o,a.isNodeJS&&(t.NodeCanvasFactory=s=function(e){_inherits(r,n.BaseCanvasFactory);var t=_createSuper(r);function r(){return _classCallCheck(this,r),t.apply(this,arguments)}return _createClass(r,[{key:"create",value:function(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");var r=require("canvas").createCanvas(e,t);return{canvas:r,context:r.getContext("2d")}}}]),r}(),t.NodeCMapReaderFactory=o=function(e){_inherits(r,n.BaseCMapReaderFactory);var t=_createSuper(r);function r(){return _classCallCheck(this,r),t.apply(this,arguments)}return _createClass(r,[{key:"_fetchData",value:function(e,a){return new Promise(function(r,n){require("fs").readFile(e,function(e,t){!e&&t?r({cMapData:new Uint8Array(t),compressionType:a}):n(new Error(e))})})}}]),r}())},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationStorage=void 0;var n=r(1),a=r(2),i=function(){function e(){_classCallCheck(this,e),this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null}return _createClass(e,[{key:"getValue",value:function(e,t){var r=this._storage.get(e);return void 0!==r?r:t}},{key:"getOrCreateValue",value:function(e,t){return(0,n.deprecated)("Use getValue instead."),this._storage.has(e)?this._storage.get(e):(this._storage.set(e,t),t)}},{key:"setValue",value:function(e,t){var r=this._storage.get(e),n=!1;if(void 0!==r)for(var a=0,i=Object.entries(t);a<i.length;a++){var s=_slicedToArray(i[a],2),o=s[0],l=s[1];r[o]!==l&&(n=!0,r[o]=l)}else this._storage.set(e,t),n=!0;n&&this._setModified()}},{key:"getAll",value:function(){return 0<this._storage.size?(0,a.objectFromMap)(this._storage):null}},{key:"size",get:function(){return this._storage.size}},{key:"_setModified",value:function(){this._modified||(this._modified=!0,"function"==typeof this.onSetModified&&this.onSetModified())}},{key:"resetModified",value:function(){this._modified&&(this._modified=!1,"function"==typeof this.onResetModified&&this.onResetModified())}},{key:"serializable",get:function(){return 0<this._storage.size?this._storage:null}}]),e}();t.AnnotationStorage=i},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.apiCompatibilityParams=void 0;var n=r(4),a=Object.create(null);n.isNodeJS&&(a.disableFontFace=!0);var i=Object.freeze(a);t.apiCompatibilityParams=i},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasGraphics=void 0;var U=r(2),b=r(11),A=4096,n=1.000001;function o(o){if(!o.mozCurrentTransform){o._originalSave=o.save,o._originalRestore=o.restore,o._originalRotate=o.rotate,o._originalScale=o.scale,o._originalTranslate=o.translate,o._originalTransform=o.transform,o._originalSetTransform=o.setTransform,o._originalResetTransform=o.resetTransform,o._transformMatrix=o._transformMatrix||[1,0,0,1,0,0],o._transformStack=[];try{var e=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(o),"lineWidth");o._setLineWidth=e.set,o._getLineWidth=e.get,Object.defineProperty(o,"lineWidth",{set:function(e){this._setLineWidth(e*n)},get:function(){return this._getLineWidth()}})}catch(e){}Object.defineProperty(o,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(o,"mozCurrentTransformInverse",{get:function(){var e=this._transformMatrix,t=e[0],r=e[1],n=e[2],a=e[3],i=e[4],s=e[5],o=t*a-r*n,l=r*n-t*a;return[a/o,r/l,n/l,t/o,(a*i-n*s)/l,(r*i-t*s)/o]}}),o.save=function(){var e=this._transformMatrix;this._transformStack.push(e),this._transformMatrix=e.slice(0,6),this._originalSave()},o.restore=function(){var e=this._transformStack.pop();e&&(this._transformMatrix=e,this._originalRestore())},o.translate=function(e,t){var r=this._transformMatrix;r[4]=r[0]*e+r[2]*t+r[4],r[5]=r[1]*e+r[3]*t+r[5],this._originalTranslate(e,t)},o.scale=function(e,t){var r=this._transformMatrix;r[0]=r[0]*e,r[1]=r[1]*e,r[2]=r[2]*t,r[3]=r[3]*t,this._originalScale(e,t)},o.transform=function(e,t,r,n,a,i){var s=this._transformMatrix;this._transformMatrix=[s[0]*e+s[2]*t,s[1]*e+s[3]*t,s[0]*r+s[2]*n,s[1]*r+s[3]*n,s[0]*a+s[2]*i+s[4],s[1]*a+s[3]*i+s[5]],o._originalTransform(e,t,r,n,a,i)},o.setTransform=function(e,t,r,n,a,i){this._transformMatrix=[e,t,r,n,a,i],o._originalSetTransform(e,t,r,n,a,i)},o.resetTransform=function(){this._transformMatrix=[1,0,0,1,0,0],o._originalResetTransform()},o.rotate=function(e){var t=Math.cos(e),r=Math.sin(e),n=this._transformMatrix;this._transformMatrix=[n[0]*t+n[2]*r,n[1]*t+n[3]*r,n[0]*-r+n[2]*t,n[1]*-r+n[3]*t,n[4],n[5]],this._originalRotate(e)}}}var l=function(){function e(e){this.canvasFactory=e,this.cache=Object.create(null)}return e.prototype={getCanvas:function(e,t,r,n){var a;return void 0!==this.cache[e]?(a=this.cache[e],this.canvasFactory.reset(a,t,r),a.context.setTransform(1,0,0,1,0,0)):(a=this.canvasFactory.create(t,r),this.cache[e]=a),n&&o(a.context),a},clear:function(){for(var e in this.cache){var t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}},e}();var c=function(){function e(){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=U.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=U.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=U.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.resumeSMaskCtx=null,this.transferMaps=null}return e.prototype={clone:function(){return Object.create(this)},setCurrentPoint:function(e,t){this.x=e,this.y=t}},e}(),a=function(){function s(e,t,r,n,a,i,s){this.ctx=e,this.current=new c,this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=r,this.canvasFactory=n,this.webGLContext=a,this.imageLayer=i,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=s,this.cachedCanvases=new l(this.canvasFactory),e&&o(e),this._cachedGetSinglePixelWidth=null}function g(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if("undefined"!=typeof ImageData&&t instanceof ImageData)e.putImageData(t,0,0);else{var n,a,i,s,o,l,c,u,h,d=t.height,f=t.width,p=d%16,v=(d-p)/16,g=0===p?v:v+1,m=e.createImageData(f,16),_=0,y=t.data,b=m.data;if(r)switch(r.length){case 1:l=r[0],c=r[0],u=r[0],h=r[0];break;case 4:l=r[0],c=r[1],u=r[2],h=r[3]}if(t.kind===U.ImageKind.GRAYSCALE_1BPP){var A=y.byteLength,k=new Uint32Array(b.buffer,0,b.byteLength>>2),C=k.length,S=f+7>>3,x=4294967295,w=U.IsLittleEndianCached.value?4278190080:255;if(h&&255===h[0]&&0===h[255]){var P=[w,x];x=P[0],w=P[1]}for(a=0;a<g;a++){for(s=a<v?16:p,i=n=0;i<s;i++){for(var R=A-_,T=0,E=S<R?f:8*R-7,F=-8&E,L=0,O=0;T<F;T+=8)O=y[_++],k[n++]=128&O?x:w,k[n++]=64&O?x:w,k[n++]=32&O?x:w,k[n++]=16&O?x:w,k[n++]=8&O?x:w,k[n++]=4&O?x:w,k[n++]=2&O?x:w,k[n++]=1&O?x:w;for(;T<E;T++)0===L&&(O=y[_++],L=128),k[n++]=O&L?x:w,L>>=1}for(;n<C;)k[n++]=0;e.putImageData(m,0,16*a)}}else if(t.kind===U.ImageKind.RGBA_32BPP){var M=!!(l||c||u);for(o=16*f*4,a=i=0;a<v;a++){if(b.set(y.subarray(_,_+o)),_+=o,M)for(var I=0;I<o;I+=4)l&&(b[I+0]=l[b[I+0]]),c&&(b[I+1]=c[b[I+1]]),u&&(b[I+2]=u[b[I+2]]);e.putImageData(m,0,i),i+=16}if(a<g){if(o=f*p*4,b.set(y.subarray(_,_+o)),M)for(var D=0;D<o;D+=4)l&&(b[D+0]=l[b[D+0]]),c&&(b[D+1]=c[b[D+1]]),u&&(b[D+2]=u[b[D+2]]);e.putImageData(m,0,i)}}else{if(t.kind!==U.ImageKind.RGB_24BPP)throw new Error("bad image kind: ".concat(t.kind));var N=!!(l||c||u);for(o=f*(s=16),a=0;a<g;a++){for(v<=a&&(o=f*(s=p)),n=0,i=o;i--;)b[n++]=y[_++],b[n++]=y[_++],b[n++]=y[_++],b[n++]=255;if(N)for(var j=0;j<n;j+=4)l&&(b[j+0]=l[b[j+0]]),c&&(b[j+1]=c[b[j+1]]),u&&(b[j+2]=u[b[j+2]]);e.putImageData(m,0,16*a)}}}}function v(e,t){for(var r=t.height,n=t.width,a=r%16,i=(r-a)/16,s=0===a?i:i+1,o=e.createImageData(n,16),l=0,c=t.data,u=o.data,h=0;h<s;h++){for(var d=h<i?16:a,f=3,p=0;p<d;p++)for(var v=void 0,g=0,m=0;m<n;m++)g||(v=c[l++],g=128),u[f]=v&g?0:255,f+=4,g>>=1;e.putImageData(o,0,16*h)}}function p(e,t){for(var r=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"],n=0,a=r.length;n<a;n++){var i=r[n];void 0!==e[i]&&(t[i]=e[i])}void 0!==e.setLineDash&&(t.setLineDash(e.getLineDash()),t.lineDashOffset=e.lineDashOffset)}function u(e){e.strokeStyle="#000000",e.fillStyle="#000000",e.fillRule="nonzero",e.globalAlpha=1,e.lineWidth=1,e.lineCap="butt",e.lineJoin="miter",e.miterLimit=10,e.globalCompositeOperation="source-over",e.font="10px sans-serif",void 0!==e.setLineDash&&(e.setLineDash([]),e.lineDashOffset=0)}function m(e,t,r,n){for(var a=e.length,i=3;i<a;i+=4){var s=e[i];if(0===s)e[i-3]=t,e[i-2]=r,e[i-1]=n;else if(s<255){var o=255-s;e[i-3]=e[i-3]*s+t*o>>8,e[i-2]=e[i-2]*s+r*o>>8,e[i-1]=e[i-1]*s+n*o>>8}}}function _(e,t,r){for(var n=e.length,a=3;a<n;a+=4){var i=r?r[e[a]]:e[a];t[a]=t[a]*i*(1/255)|0}}function y(e,t,r){for(var n=e.length,a=3;a<n;a+=4){var i=77*e[a-3]+152*e[a-2]+28*e[a-1];t[a]=r?t[a]*r[i>>8]>>8:t[a]*i>>16}}function r(e,t,r,n){var a=t.canvas,i=t.context;e.setTransform(t.scaleX,0,0,t.scaleY,t.offsetX,t.offsetY);var s=t.backdrop||null;if(!t.transferMap&&n.isEnabled){var o=n.composeSMask({layer:r.canvas,mask:a,properties:{subtype:t.subtype,backdrop:s}});return e.setTransform(1,0,0,1,0,0),void e.drawImage(o,t.offsetX,t.offsetY)}!function(e,t,r,n,a,i,s){var o,l=!!i,c=l?i[0]:0,u=l?i[1]:0,h=l?i[2]:0;o="Luminosity"===a?y:_;for(var d=Math.min(n,Math.ceil(1048576/r)),f=0;f<n;f+=d){var p=Math.min(d,n-f),v=e.getImageData(0,f,r,p),g=t.getImageData(0,f,r,p);l&&m(v.data,c,u,h),o(v.data,g.data,s),e.putImageData(g,0,f)}}(i,r,a.width,a.height,t.subtype,s,t.transferMap),e.drawImage(a,0,0)}var t=["butt","round","square"],n=["miter","round","bevel"],e={},a={};for(var i in s.prototype={beginDrawing:function(e){var t=e.transform,r=e.viewport,n=e.transparency,a=void 0!==n&&n,i=e.background,s=void 0===i?null:i,o=this.ctx.canvas.width,l=this.ctx.canvas.height;if(this.ctx.save(),this.ctx.fillStyle=s||"rgb(255, 255, 255)",this.ctx.fillRect(0,0,o,l),this.ctx.restore(),a){var c=this.cachedCanvases.getCanvas("transparent",o,l,!0);this.compositeCtx=this.ctx,this.transparentCanvas=c.canvas,this.ctx=c.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),u(this.ctx),t&&this.ctx.transform.apply(this.ctx,t),this.ctx.transform.apply(this.ctx,r.transform),this.baseTransform=this.ctx.mozCurrentTransform.slice(),this._combinedScaleFactor=Math.hypot(this.baseTransform[0],this.baseTransform[2]),this.imageLayer&&this.imageLayer.beginLayout()},executeOperatorList:function(e,t,r,n){var a=e.argsArray,i=e.fnArray,s=t||0,o=a.length;if(o===s)return s;for(var l,c=10<o-s&&"function"==typeof r,u=c?Date.now()+15:0,h=0,d=this.commonObjs,f=this.objs;;){if(void 0!==n&&s===n.nextBreakPoint)return n.breakIt(s,r),s;if((l=i[s])!==U.OPS.dependency)this[l].apply(this,a[s]);else{var p,v=_createForOfIteratorHelper(a[s]);try{for(v.s();!(p=v.n()).done;){var g=p.value,m=g.startsWith("g_")?d:f;if(!m.has(g))return m.get(g,r),s}}catch(e){v.e(e)}finally{v.f()}}if(++s===o)return s;if(c&&10<++h){if(Date.now()>u)return r(),s;h=0}}},endDrawing:function(){for(;this.stateStack.length||null!==this.current.activeSMask;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.webGLContext.clear(),this.imageLayer&&this.imageLayer.endLayout()},setLineWidth:function(e){this.current.lineWidth=e,this.ctx.lineWidth=e},setLineCap:function(e){this.ctx.lineCap=t[e]},setLineJoin:function(e){this.ctx.lineJoin=n[e]},setMiterLimit:function(e){this.ctx.miterLimit=e},setDash:function(e,t){var r=this.ctx;void 0!==r.setLineDash&&(r.setLineDash(e),r.lineDashOffset=t)},setRenderingIntent:function(e){},setFlatness:function(e){},setGState:function(e){for(var t=0,r=e.length;t<r;t++){var n=e[t],a=n[0],i=n[1];switch(a){case"LW":this.setLineWidth(i);break;case"LC":this.setLineCap(i);break;case"LJ":this.setLineJoin(i);break;case"ML":this.setMiterLimit(i);break;case"D":this.setDash(i[0],i[1]);break;case"RI":this.setRenderingIntent(i);break;case"FL":this.setFlatness(i);break;case"Font":this.setFont(i[0],i[1]);break;case"CA":this.current.strokeAlpha=n[1];break;case"ca":this.current.fillAlpha=n[1],this.ctx.globalAlpha=n[1];break;case"BM":this.ctx.globalCompositeOperation=i;break;case"SMask":this.current.activeSMask&&(0<this.stateStack.length&&this.stateStack[this.stateStack.length-1].activeSMask===this.current.activeSMask?this.suspendSMaskGroup():this.endSMaskGroup()),this.current.activeSMask=i?this.tempSMask:null,this.current.activeSMask&&this.beginSMaskGroup(),this.tempSMask=null;break;case"TR":this.current.transferMaps=i}}},beginSMaskGroup:function(){var e=this.current.activeSMask,t=e.canvas.width,r=e.canvas.height,n="smaskGroupAt"+this.groupLevel,a=this.cachedCanvases.getCanvas(n,t,r,!0),i=this.ctx,s=i.mozCurrentTransform;this.ctx.save();var o=a.context;o.scale(1/e.scaleX,1/e.scaleY),o.translate(-e.offsetX,-e.offsetY),o.transform.apply(o,s),e.startTransformInverse=o.mozCurrentTransformInverse,p(i,o),this.ctx=o,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(i),this.groupLevel++},suspendSMaskGroup:function(){var e=this.ctx;this.groupLevel--,this.ctx=this.groupStack.pop(),r(this.ctx,this.current.activeSMask,e,this.webGLContext),this.ctx.restore(),this.ctx.save(),p(e,this.ctx),this.current.resumeSMaskCtx=e;var t=U.Util.transform(this.current.activeSMask.startTransformInverse,e.mozCurrentTransform);this.ctx.transform.apply(this.ctx,t),e.save(),e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,e.canvas.width,e.canvas.height),e.restore()},resumeSMaskGroup:function(){var e=this.current.resumeSMaskCtx,t=this.ctx;this.ctx=e,this.groupStack.push(t),this.groupLevel++},endSMaskGroup:function(){var e=this.ctx;this.groupLevel--,this.ctx=this.groupStack.pop(),r(this.ctx,this.current.activeSMask,e,this.webGLContext),this.ctx.restore(),p(e,this.ctx);var t=U.Util.transform(this.current.activeSMask.startTransformInverse,e.mozCurrentTransform);this.ctx.transform.apply(this.ctx,t)},save:function(){this.ctx.save();var e=this.current;this.stateStack.push(e),this.current=e.clone(),this.current.resumeSMaskCtx=null},restore:function(){this.current.resumeSMaskCtx&&this.resumeSMaskGroup(),null===this.current.activeSMask||0!==this.stateStack.length&&this.stateStack[this.stateStack.length-1].activeSMask===this.current.activeSMask||this.endSMaskGroup(),0!==this.stateStack.length?(this.current=this.stateStack.pop(),this.ctx.restore(),this.pendingClip=null,this._cachedGetSinglePixelWidth=null):this.current.activeSMask=null},transform:function(e,t,r,n,a,i){this.ctx.transform(e,t,r,n,a,i),this._cachedGetSinglePixelWidth=null},constructPath:function(e,t){for(var r=this.ctx,n=this.current,a=n.x,i=n.y,s=0,o=0,l=e.length;s<l;s++)switch(0|e[s]){case U.OPS.rectangle:a=t[o++],i=t[o++];var c=t[o++],u=t[o++],h=a+c,d=i+u;r.moveTo(a,i),0===c||0===u?r.lineTo(h,d):(r.lineTo(h,i),r.lineTo(h,d),r.lineTo(a,d)),r.closePath();break;case U.OPS.moveTo:a=t[o++],i=t[o++],r.moveTo(a,i);break;case U.OPS.lineTo:a=t[o++],i=t[o++],r.lineTo(a,i);break;case U.OPS.curveTo:a=t[o+4],i=t[o+5],r.bezierCurveTo(t[o],t[o+1],t[o+2],t[o+3],a,i),o+=6;break;case U.OPS.curveTo2:r.bezierCurveTo(a,i,t[o],t[o+1],t[o+2],t[o+3]),a=t[o+2],i=t[o+3],o+=4;break;case U.OPS.curveTo3:a=t[o+2],i=t[o+3],r.bezierCurveTo(t[o],t[o+1],a,i,a,i),o+=4;break;case U.OPS.closePath:r.closePath()}n.setCurrentPoint(a,i)},closePath:function(){this.ctx.closePath()},stroke:function(e){e=void 0===e||e;var t=this.ctx,r=this.current.strokeColor;if(t.globalAlpha=this.current.strokeAlpha,this.contentVisible)if("object"===_typeof(r)&&null!=r&&r.getPattern){t.save();var n=t.mozCurrentTransform,a=U.Util.singularValueDecompose2dScale(n)[0];t.strokeStyle=r.getPattern(t,this);var i=this.getSinglePixelWidth(),s=this.current.lineWidth*a;i<0&&s<=-i?(t.resetTransform(),t.lineWidth=Math.round(this._combinedScaleFactor)):t.lineWidth=Math.max(i,s),t.stroke(),t.restore()}else{var o=this.getSinglePixelWidth();o<0&&-o>=this.current.lineWidth?(t.save(),t.resetTransform(),t.lineWidth=Math.round(this._combinedScaleFactor),t.stroke(),t.restore()):(t.lineWidth=Math.max(o,this.current.lineWidth),t.stroke())}e&&this.consumePath(),t.globalAlpha=this.current.fillAlpha},closeStroke:function(){this.closePath(),this.stroke()},fill:function(e){e=void 0===e||e;var t=this.ctx,r=this.current.fillColor,n=!1;this.current.patternFill&&(t.save(),this.baseTransform&&t.setTransform.apply(t,this.baseTransform),t.fillStyle=r.getPattern(t,this),n=!0),this.contentVisible&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),n&&t.restore(),e&&this.consumePath()},eoFill:function(){this.pendingEOFill=!0,this.fill()},fillStroke:function(){this.fill(!1),this.stroke(!1),this.consumePath()},eoFillStroke:function(){this.pendingEOFill=!0,this.fillStroke()},closeFillStroke:function(){this.closePath(),this.fillStroke()},closeEOFillStroke:function(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()},endPath:function(){this.consumePath()},clip:function(){this.pendingClip=e},eoClip:function(){this.pendingClip=a},beginText:function(){this.current.textMatrix=U.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0},endText:function(){var e=this.pendingTextPaths,t=this.ctx;if(void 0!==e){t.save(),t.beginPath();for(var r=0;r<e.length;r++){var n=e[r];t.setTransform.apply(t,n.transform),t.translate(n.x,n.y),n.addToPath(t,n.fontSize)}t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}else t.beginPath()},setCharSpacing:function(e){this.current.charSpacing=e},setWordSpacing:function(e){this.current.wordSpacing=e},setHScale:function(e){this.current.textHScale=e/100},setLeading:function(e){this.current.leading=-e},setFont:function(e,t){var r=this.commonObjs.get(e),n=this.current;if(!r)throw new Error("Can't find font for ".concat(e));if(n.fontMatrix=r.fontMatrix||U.FONT_IDENTITY_MATRIX,0!==n.fontMatrix[0]&&0!==n.fontMatrix[3]||(0,U.warn)("Invalid font matrix for font "+e),n.fontDirection=t<0?(t=-t,-1):1,this.current.font=r,this.current.fontSize=t,!r.isType3Font){var a=r.loadedName||"sans-serif",i="normal";r.black?i="900":r.bold&&(i="bold");var s=r.italic?"italic":"normal",o='"'.concat(a,'", ').concat(r.fallbackName),l=t;t<16?l=16:100<t&&(l=100),this.current.fontSizeScale=t/l,this.ctx.font="".concat(s," ").concat(i," ").concat(l,"px ").concat(o)}},setTextRenderingMode:function(e){this.current.textRenderingMode=e},setTextRise:function(e){this.current.textRise=e},moveText:function(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t},setLeadingMoveText:function(e,t){this.setLeading(-t),this.moveText(e,t)},setTextMatrix:function(e,t,r,n,a,i){this.current.textMatrix=[e,t,r,n,a,i],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0},nextLine:function(){this.moveText(0,this.current.leading)},paintChar:function(e,t,r,n,a){var i,s=this.ctx,o=this.current,l=o.font,c=o.textRenderingMode,u=o.fontSize/o.fontSizeScale,h=c&U.TextRenderingMode.FILL_STROKE_MASK,d=!!(c&U.TextRenderingMode.ADD_TO_PATH_FLAG),f=o.patternFill&&!l.missingFile;((l.disableFontFace||d||f)&&(i=l.getPathGenerator(this.commonObjs,e)),l.disableFontFace||f?(s.save(),s.translate(t,r),s.beginPath(),i(s,u),n&&s.setTransform.apply(s,n),h!==U.TextRenderingMode.FILL&&h!==U.TextRenderingMode.FILL_STROKE||s.fill(),h!==U.TextRenderingMode.STROKE&&h!==U.TextRenderingMode.FILL_STROKE||(a&&(s.resetTransform(),s.lineWidth=Math.round(this._combinedScaleFactor)),s.stroke()),s.restore()):(h!==U.TextRenderingMode.FILL&&h!==U.TextRenderingMode.FILL_STROKE||s.fillText(e,t,r),h!==U.TextRenderingMode.STROKE&&h!==U.TextRenderingMode.FILL_STROKE||(a?(s.save(),s.moveTo(t,r),s.resetTransform(),s.lineWidth=Math.round(this._combinedScaleFactor),s.strokeText(e,0,0),s.restore()):s.strokeText(e,t,r))),d)&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:s.mozCurrentTransform,x:t,y:r,fontSize:u,addToPath:i})},get isFontSubpixelAAEnabled(){var e=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10).context;e.scale(1.5,1),e.fillText("I",0,10);for(var t=e.getImageData(0,0,10,10).data,r=!1,n=3;n<t.length;n+=4)if(0<t[n]&&t[n]<255){r=!0;break}return(0,U.shadow)(this,"isFontSubpixelAAEnabled",r)},showText:function(e){var t=this.current,r=t.font;if(r.isType3Font)return this.showType3Text(e);var n=t.fontSize;if(0!==n){var a,i=this.ctx,s=t.fontSizeScale,o=t.charSpacing,l=t.wordSpacing,c=t.fontDirection,u=t.textHScale*c,h=e.length,d=r.vertical,f=d?1:-1,p=r.defaultVMetrics,v=n*t.fontMatrix[0],g=t.textRenderingMode===U.TextRenderingMode.FILL&&!r.disableFontFace&&!t.patternFill;if(i.save(),t.patternFill){i.save();var m=t.fillColor.getPattern(i,this);a=i.mozCurrentTransform,i.restore(),i.fillStyle=m}i.transform.apply(i,t.textMatrix),i.translate(t.x,t.y+t.textRise),0<c?i.scale(u,-1):i.scale(u,1);var _=t.lineWidth,y=!1,b=t.textMatrixScale;if(0===b||0===_){var A=t.textRenderingMode&U.TextRenderingMode.FILL_STROKE_MASK;A!==U.TextRenderingMode.STROKE&&A!==U.TextRenderingMode.FILL_STROKE||(this._cachedGetSinglePixelWidth=null,y=(_=this.getSinglePixelWidth())<0)}else _/=b;1!==s&&(i.scale(s,s),_/=s),i.lineWidth=_;var k,C=0;for(k=0;k<h;++k){var S=e[k];if((0,U.isNum)(S))C+=f*S*n/1e3;else{var x=!1,w=(S.isSpace?l:0)+o,P=S.fontChar,R=S.accent,T=void 0,E=void 0,F=S.width;if(d){var L=S.vmetric||p,O=-(S.vmetric?L[1]:.5*F)*v,M=L[2]*v;F=L?-L[0]:F,T=O/s,E=(C+M)/s}else T=C/s,E=0;if(r.remeasure&&0<F){var I=1e3*i.measureText(P).width/n*s;if(F<I&&this.isFontSubpixelAAEnabled){var D=F/I;x=!0,i.save(),i.scale(D,1),T/=D}else F!==I&&(T+=(F-I)/2e3*n/s)}if(this.contentVisible&&(S.isInFont||r.missingFile))if(g&&!R)i.fillText(P,T,E);else if(this.paintChar(P,T,E,a,y),R){var N=T+n*R.offset.x/s,j=E-n*R.offset.y/s;this.paintChar(R.fontChar,N,j,a,y)}C+=d?F*v-w*c:F*v+w*c,x&&i.restore()}}d?t.y-=C:t.x+=C*u,i.restore()}},showType3Text:function(e){var t,r,n,a,i=this.ctx,s=this.current,o=s.font,l=s.fontSize,c=s.fontDirection,u=o.vertical?1:-1,h=s.charSpacing,d=s.wordSpacing,f=s.textHScale*c,p=s.fontMatrix||U.FONT_IDENTITY_MATRIX,v=e.length;if(!(s.textRenderingMode===U.TextRenderingMode.INVISIBLE)&&0!==l){for(this._cachedGetSinglePixelWidth=null,i.save(),i.transform.apply(i,s.textMatrix),i.translate(s.x,s.y),i.scale(f,c),t=0;t<v;++t)if(r=e[t],(0,U.isNum)(r))a=u*r*l/1e3,this.ctx.translate(a,0),s.x+=a*f;else{var g=(r.isSpace?d:0)+h,m=o.charProcOperatorList[r.operatorListId];if(m)this.contentVisible&&(this.processingType3=r,this.save(),i.scale(l,l),i.transform.apply(i,p),this.executeOperatorList(m),this.restore()),n=U.Util.applyTransform([r.width,0],p)[0]*l+g,i.translate(n,0),s.x+=n*f;else(0,U.warn)('Type3 character "'.concat(r.operatorListId,'" is not available.'))}i.restore(),this.processingType3=null}},setCharWidth:function(e,t){},setCharWidthAndBounds:function(e,t,r,n,a,i){this.ctx.rect(r,n,a-r,i-n),this.clip(),this.endPath()},getColorN_Pattern:function(e){var t,r=this;if("TilingPattern"===e[0]){var n=e[1],a=this.baseTransform||this.ctx.mozCurrentTransform.slice(),i={createCanvasGraphics:function(e){return new s(e,r.commonObjs,r.objs,r.canvasFactory,r.webGLContext)}};t=new b.TilingPattern(e,n,this.ctx,i,a)}else t=(0,b.getShadingPatternFromIR)(e);return t},setStrokeColorN:function(){this.current.strokeColor=this.getColorN_Pattern(arguments)},setFillColorN:function(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0},setStrokeRGBColor:function(e,t,r){var n=U.Util.makeHexColor(e,t,r);this.ctx.strokeStyle=n,this.current.strokeColor=n},setFillRGBColor:function(e,t,r){var n=U.Util.makeHexColor(e,t,r);this.ctx.fillStyle=n,this.current.fillColor=n,this.current.patternFill=!1},shadingFill:function(e){if(this.contentVisible){var t=this.ctx;this.save();var r=(0,b.getShadingPatternFromIR)(e);t.fillStyle=r.getPattern(t,this,!0);var n=t.mozCurrentTransformInverse;if(n){var a=t.canvas,i=a.width,s=a.height,o=U.Util.applyTransform([0,0],n),l=U.Util.applyTransform([0,s],n),c=U.Util.applyTransform([i,0],n),u=U.Util.applyTransform([i,s],n),h=Math.min(o[0],l[0],c[0],u[0]),d=Math.min(o[1],l[1],c[1],u[1]),f=Math.max(o[0],l[0],c[0],u[0]),p=Math.max(o[1],l[1],c[1],u[1]);this.ctx.fillRect(h,d,f-h,p-d)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.restore()}},beginInlineImage:function(){(0,U.unreachable)("Should not call beginInlineImage")},beginImageData:function(){(0,U.unreachable)("Should not call beginImageData")},paintFormXObjectBegin:function(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(e)&&6===e.length&&this.transform.apply(this,e),this.baseTransform=this.ctx.mozCurrentTransform,t)){var r=t[2]-t[0],n=t[3]-t[1];this.ctx.rect(t[0],t[1],r,n),this.clip(),this.endPath()}},paintFormXObjectEnd:function(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())},beginGroup:function(e){if(this.contentVisible){this.save();var t=this.ctx;e.isolated||(0,U.info)("TODO: Support non-isolated groups."),e.knockout&&(0,U.warn)("Knockout groups not supported.");var r=t.mozCurrentTransform;if(e.matrix&&t.transform.apply(t,e.matrix),!e.bbox)throw new Error("Bounding box is required.");var n=U.Util.getAxialAlignedBoundingBox(e.bbox,t.mozCurrentTransform),a=[0,0,t.canvas.width,t.canvas.height];n=U.Util.intersect(n,a)||[0,0,0,0];var i=Math.floor(n[0]),s=Math.floor(n[1]),o=Math.max(Math.ceil(n[2])-i,1),l=Math.max(Math.ceil(n[3])-s,1),c=1,u=1;A<o&&(c=o/A,o=A),A<l&&(u=l/A,l=A);var h="groupAt"+this.groupLevel;e.smask&&(h+="_smask_"+this.smaskCounter++%2);var d=this.cachedCanvases.getCanvas(h,o,l,!0),f=d.context;f.scale(1/c,1/u),f.translate(-i,-s),f.transform.apply(f,r),e.smask?this.smaskStack.push({canvas:d.canvas,context:f,offsetX:i,offsetY:s,scaleX:c,scaleY:u,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(i,s),t.scale(c,u)),p(t,f),this.ctx=f,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++,this.current.activeSMask=null}},endGroup:function(e){if(this.contentVisible){this.groupLevel--;var t=this.ctx;this.ctx=this.groupStack.pop(),void 0!==this.ctx.imageSmoothingEnabled?this.ctx.imageSmoothingEnabled=!1:this.ctx.mozImageSmoothingEnabled=!1,e.smask?this.tempSMask=this.smaskStack.pop():this.ctx.drawImage(t.canvas,0,0),this.restore()}},beginAnnotations:function(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)},endAnnotations:function(){this.restore()},beginAnnotation:function(e,t,r){if(this.save(),u(this.ctx),this.current=new c,Array.isArray(e)&&4===e.length){var n=e[2]-e[0],a=e[3]-e[1];this.ctx.rect(e[0],e[1],n,a),this.clip(),this.endPath()}this.transform.apply(this,t),this.transform.apply(this,r)},endAnnotation:function(){this.restore()},paintImageMaskXObject:function(e){if(this.contentVisible){var t=this.ctx,r=e.width,n=e.height,a=this.current.fillColor,i=this.current.patternFill,s=this.processingType3;if(s&&void 0===s.compiled&&(s.compiled=r<=1e3&&n<=1e3?function(e){var t,r,n,a,s=e.width,o=e.height,i=s+1,l=new Uint8Array(i*(o+1)),c=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),u=s+7&-8,h=e.data,d=new Uint8Array(u*o),f=0;for(t=0,r=h.length;t<r;t++)for(var p=h[t],v=128;0<v;)d[f++]=p&v?0:255,v>>=1;var g=0;for((f=0)!==d[f]&&(l[0]=1,++g),n=1;n<s;n++)d[f]!==d[f+1]&&(l[n]=d[f]?2:1,++g),f++;for(0!==d[f]&&(l[n]=2,++g),t=1;t<o;t++){a=t*i,d[(f=t*u)-u]!==d[f]&&(l[a]=d[f]?1:8,++g);var m=(d[f]?4:0)+(d[f-u]?8:0);for(n=1;n<s;n++)c[m=(m>>2)+(d[f+1]?4:0)+(d[f-u+1]?8:0)]&&(l[a+n]=c[m],++g),f++;if(d[f-u]!==d[f]&&(l[a+n]=d[f]?2:4,++g),1e3<g)return null}for(a=t*i,0!==d[f=u*(o-1)]&&(l[a]=8,++g),n=1;n<s;n++)d[f]!==d[f+1]&&(l[a+n]=d[f]?4:8,++g),f++;if(0!==d[f]&&(l[a+n]=4,++g),1e3<g)return null;var _=new Int32Array([0,i,-1,0,-i,0,0,0,1]),y=[];for(t=0;g&&t<=o;t++){for(var b=t*i,A=b+s;b<A&&!l[b];)b++;if(b!==A){var k=[b%i,t],C=b,S=l[b];do{for(var x=_[S];!l[b+=x];);var w=l[b];5!==w&&10!==w?(S=w,l[b]=0):(S=w&51*S>>4,l[b]&=S>>2|S<<2),k.push(b%i),k.push(b/i|0),l[b]||--g}while(C!==b);y.push(k),--t}}return function(e){e.save(),e.scale(1/s,-1/o),e.translate(0,-o),e.beginPath();for(var t=0,r=y.length;t<r;t++){var n=y[t];e.moveTo(n[0],n[1]);for(var a=2,i=n.length;a<i;a+=2)e.lineTo(n[a],n[a+1])}e.fill(),e.beginPath(),e.restore()}}({data:e.data,width:r,height:n}):null),null!=s&&s.compiled)s.compiled(t);else{var o=this.cachedCanvases.getCanvas("maskCanvas",r,n),l=o.context;l.save(),v(l,e),l.globalCompositeOperation="source-in",l.fillStyle=i?a.getPattern(l,this):a,l.fillRect(0,0,r,n),l.restore(),this.paintInlineImageXObject(o.canvas)}}},paintImageMaskXObjectRepeat:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,a=4<arguments.length?arguments[4]:void 0,i=5<arguments.length?arguments[5]:void 0;if(this.contentVisible){var s=e.width,o=e.height,l=this.current.fillColor,c=this.current.patternFill,u=this.cachedCanvases.getCanvas("maskCanvas",s,o),h=u.context;h.save(),v(h,e),h.globalCompositeOperation="source-in",h.fillStyle=c?l.getPattern(h,this):l,h.fillRect(0,0,s,o),h.restore();for(var d=this.ctx,f=0,p=i.length;f<p;f+=2)d.save(),d.transform(t,r,n,a,i[f],i[f+1]),d.scale(1,-1),d.drawImage(u.canvas,0,0,s,o,0,-1,1,1),d.restore()}},paintImageMaskXObjectGroup:function(e){if(this.contentVisible)for(var t=this.ctx,r=this.current.fillColor,n=this.current.patternFill,a=0,i=e.length;a<i;a++){var s=e[a],o=s.width,l=s.height,c=this.cachedCanvases.getCanvas("maskCanvas",o,l),u=c.context;u.save(),v(u,s),u.globalCompositeOperation="source-in",u.fillStyle=n?r.getPattern(u,this):r,u.fillRect(0,0,o,l),u.restore(),t.save(),t.transform.apply(t,s.transform),t.scale(1,-1),t.drawImage(c.canvas,0,0,o,l,0,-1,1,1),t.restore()}},paintImageXObject:function(e){if(this.contentVisible){var t=e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e);t?this.paintInlineImageXObject(t):(0,U.warn)("Dependent image isn't ready yet")}},paintImageXObjectRepeat:function(e,t,r,n){if(this.contentVisible){var a=e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e);if(a){for(var i=a.width,s=a.height,o=[],l=0,c=n.length;l<c;l+=2)o.push({transform:[t,0,0,r,n[l],n[l+1]],x:0,y:0,w:i,h:s});this.paintInlineImageXObjectGroup(a,o)}else(0,U.warn)("Dependent image isn't ready yet")}},paintInlineImageXObject:function(e){if(this.contentVisible){var t=e.width,r=e.height,n=this.ctx;this.save(),n.scale(1/t,-1/r);var a,i,s,o=n.mozCurrentTransformInverse,l=Math.max(Math.hypot(o[0],o[1]),1),c=Math.max(Math.hypot(o[2],o[3]),1);a="function"==typeof HTMLElement&&e instanceof HTMLElement||!e.data?e:(g(s=(i=this.cachedCanvases.getCanvas("inlineImage",t,r)).context,e,this.current.transferMaps),i.canvas);for(var u=t,h=r,d="prescale1";2<l&&1<u||2<c&&1<h;){var f=u,p=h;2<l&&1<u&&(l/=u/(f=Math.ceil(u/2))),2<c&&1<h&&(c/=h/(p=Math.ceil(h/2))),(s=(i=this.cachedCanvases.getCanvas(d,f,p)).context).clearRect(0,0,f,p),s.drawImage(a,0,0,u,h,0,0,f,p),a=i.canvas,u=f,h=p,d="prescale1"===d?"prescale2":"prescale1"}if(n.drawImage(a,0,0,u,h,0,-r,t,r),this.imageLayer){var v=this.getCanvasPosition(0,-r);this.imageLayer.appendImage({imgData:e,left:v[0],top:v[1],width:t/o[0],height:r/o[3]})}this.restore()}},paintInlineImageXObjectGroup:function(e,t){if(this.contentVisible){var r=this.ctx,n=e.width,a=e.height,i=this.cachedCanvases.getCanvas("inlineImage",n,a);g(i.context,e,this.current.transferMaps);for(var s=0,o=t.length;s<o;s++){var l=t[s];if(r.save(),r.transform.apply(r,l.transform),r.scale(1,-1),r.drawImage(i.canvas,l.x,l.y,l.w,l.h,0,-1,1,1),this.imageLayer){var c=this.getCanvasPosition(l.x,l.y);this.imageLayer.appendImage({imgData:e,left:c[0],top:c[1],width:n,height:a})}r.restore()}}},paintSolidColorImageMask:function(){this.contentVisible&&this.ctx.fillRect(0,0,1,1)},markPoint:function(e){},markPointProps:function(e,t){},beginMarkedContent:function(e){this.markedContentStack.push({visible:!0})},beginMarkedContentProps:function(e,t){"OC"===e?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()},endMarkedContent:function(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()},beginCompat:function(){},endCompat:function(){},consumePath:function(){var e=this.ctx;this.pendingClip&&(this.pendingClip===a?e.clip("evenodd"):e.clip(),this.pendingClip=null),e.beginPath()},getSinglePixelWidth:function(){if(null===this._cachedGetSinglePixelWidth){var e=this.ctx.mozCurrentTransform,t=Math.abs(e[0]*e[3]-e[2]*e[1]),r=Math.pow(e[0],2)+Math.pow(e[2],2),n=Math.pow(e[1],2)+Math.pow(e[3],2),a=Math.sqrt(Math.max(r,n))/t;r!==n&&1<this._combinedScaleFactor*a?this._cachedGetSinglePixelWidth=-this._combinedScaleFactor*a:t>Number.EPSILON?this._cachedGetSinglePixelWidth=a:this._cachedGetSinglePixelWidth=1}return this._cachedGetSinglePixelWidth},getCanvasPosition:function(e,t){var r=this.ctx.mozCurrentTransform;return[r[0]*e+r[2]*t+r[4],r[1]*e+r[3]*t+r[5]]},isContentVisible:function(){for(var e=this.markedContentStack.length-1;0<=e;e--)if(!this.markedContentStack[e].visible)return!1;return!0}},U.OPS)s.prototype[U.OPS[i]]=s.prototype[i];return s}();t.CanvasGraphics=a},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.getShadingPatternFromIR=function(e){var t=n[e[0]];if(t)return t.fromIR(e);throw new Error("Unknown IR type: ".concat(e[0]))},t.TilingPattern=void 0;var A=r(2),n={};function f(e,t){if(t&&"undefined"!=typeof Path2D){var r=t[2]-t[0],n=t[3]-t[1],a=new Path2D;a.rect(t[0],t[1],r,n),e.clip(a)}}n.RadialAxial={fromIR:function(e){var i=e[1],s=e[2],o=e[3],l=e[4],c=e[5],u=e[6],h=e[7];return{getPattern:function(e){var t;f(e,s),"axial"===i?t=e.createLinearGradient(l[0],l[1],c[0],c[1]):"radial"===i&&(t=e.createRadialGradient(l[0],l[1],u,c[0],c[1],h));for(var r=0,n=o.length;r<n;++r){var a=o[r];t.addColorStop(a[0],a[1])}return t}}}};var p=function(){function d(e,t,r,n,a,i,s,o){var l,c=t.coords,u=t.colors,h=e.data,d=4*e.width;c[r+1]>c[n+1]&&(l=r,r=n,n=l,l=i,i=s,s=l),c[n+1]>c[a+1]&&(l=n,n=a,a=l,l=s,s=o,o=l),c[r+1]>c[n+1]&&(l=r,r=n,n=l,l=i,i=s,s=l);var f=(c[r]+t.offsetX)*t.scaleX,p=(c[r+1]+t.offsetY)*t.scaleY,v=(c[n]+t.offsetX)*t.scaleX,g=(c[n+1]+t.offsetY)*t.scaleY,m=(c[a]+t.offsetX)*t.scaleX,_=(c[a+1]+t.offsetY)*t.scaleY;if(!(_<=p))for(var y,b,A,k,C,S,x,w,P=u[i],R=u[i+1],T=u[i+2],E=u[s],F=u[s+1],L=u[s+2],O=u[o],M=u[o+1],I=u[o+2],D=Math.round(p),N=Math.round(_),j=D;j<=N;j++){if(j<g){var U=void 0;y=f-(f-v)*(U=j<p?0:p===g?1:(p-j)/(p-g)),b=P-(P-E)*U,A=R-(R-F)*U,k=T-(T-L)*U}else{var G=void 0;y=v-(v-m)*(G=_<j?1:g===_?0:(g-j)/(g-_)),b=E-(E-O)*G,A=F-(F-M)*G,k=L-(L-I)*G}var W=void 0;C=f-(f-m)*(W=j<p?0:_<j?1:(p-j)/(p-_)),S=P-(P-O)*W,x=R-(R-M)*W,w=T-(T-I)*W;for(var q=Math.round(Math.min(y,C)),B=Math.round(Math.max(y,C)),H=d*j+4*q,V=q;V<=B;V++)(W=(y-V)/(y-C))<0?W=0:1<W&&(W=1),h[H++]=b-(b-S)*W|0,h[H++]=A-(A-x)*W|0,h[H++]=k-(k-w)*W|0,h[H++]=255}}function w(e,t,r){var n,a,i=t.coords,s=t.colors;switch(t.type){case"lattice":var o=t.verticesPerRow,l=Math.floor(i.length/o)-1,c=o-1;for(n=0;n<l;n++)for(var u=n*o,h=0;h<c;h++,u++)d(e,r,i[u],i[u+1],i[u+o],s[u],s[u+1],s[u+o]),d(e,r,i[u+o+1],i[u+1],i[u+o],s[u+o+1],s[u+1],s[u+o]);break;case"triangles":for(n=0,a=i.length;n<a;n+=3)d(e,r,i[n],i[n+1],i[n+2],s[n],s[n+1],s[n+2]);break;default:throw new Error("illegal figure")}}return function(e,t,r,n,a,i,s,o){var l,c,u,h,d=Math.floor(e[0]),f=Math.floor(e[1]),p=Math.ceil(e[2])-d,v=Math.ceil(e[3])-f,g=Math.min(Math.ceil(Math.abs(p*t[0]*1.1)),3e3),m=Math.min(Math.ceil(Math.abs(v*t[1]*1.1)),3e3),_=p/g,y=v/m,b={coords:r,colors:n,offsetX:-d,offsetY:-f,scaleX:1/_,scaleY:1/y},A=g+4,k=m+4;if(o.isEnabled)l=o.drawFigures({width:g,height:m,backgroundColor:i,figures:a,context:b}),(c=s.getCanvas("mesh",A,k,!1)).context.drawImage(l,2,2),l=c.canvas;else{var C=(c=s.getCanvas("mesh",A,k,!1)).context,S=C.createImageData(g,m);if(i){var x=S.data;for(u=0,h=x.length;u<h;u+=4)x[u]=i[0],x[u+1]=i[1],x[u+2]=i[2],x[u+3]=255}for(u=0;u<a.length;u++)w(S,a[u],b);C.putImageData(S,2,2),l=c.canvas}return{canvas:l,offsetX:d-2*_,offsetY:f-2*y,scaleX:_,scaleY:y}}}();n.Mesh={fromIR:function(e){var s=e[2],o=e[3],l=e[4],c=e[5],u=e[6],h=e[7],d=e[8];return{getPattern:function(e,t,r){var n;if(f(e,h),r)n=A.Util.singularValueDecompose2dScale(e.mozCurrentTransform);else if(n=A.Util.singularValueDecompose2dScale(t.baseTransform),u){var a=A.Util.singularValueDecompose2dScale(u);n=[n[0]*a[0],n[1]*a[1]]}var i=p(c,n,s,o,l,r?null:d,t.cachedCanvases,t.webGLContext);return r||(e.setTransform.apply(e,t.baseTransform),u&&e.transform.apply(e,u)),e.translate(i.offsetX,i.offsetY),e.scale(i.scaleX,i.scaleY),e.createPattern(i.canvas,"no-repeat")}}}},n.Dummy={fromIR:function(){return{getPattern:function(){return"hotpink"}}}};var a=function(){var o=1,l=2;function e(e,t,r,n,a){this.operatorList=e[2],this.matrix=e[3]||[1,0,0,1,0,0],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.canvasGraphicsFactory=n,this.baseTransform=a,this.ctx=r}return e.prototype={createPatternCanvas:function(e){var t=this.operatorList,r=this.bbox,n=this.xstep,a=this.ystep,i=this.paintType,s=this.tilingType,o=this.color,l=this.canvasGraphicsFactory;(0,A.info)("TilingType: "+s);var c=r[0],u=r[1],h=r[2],d=r[3],f=A.Util.singularValueDecompose2dScale(this.matrix),p=A.Util.singularValueDecompose2dScale(this.baseTransform),v=[f[0]*p[0],f[1]*p[1]],g=this.getSizeAndScale(n,this.ctx.canvas.width,v[0]),m=this.getSizeAndScale(a,this.ctx.canvas.height,v[1]),_=e.cachedCanvases.getCanvas("pattern",g.size,m.size,!0),y=_.context,b=l.createCanvasGraphics(y);return b.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(b,i,o),b.transform(g.scale,0,0,m.scale,0,0),b.transform(1,0,0,1,-c,-u),this.clipBbox(b,r,c,u,h,d),b.executeOperatorList(t),this.ctx.transform(1,0,0,1,c,u),this.ctx.scale(1/g.scale,1/m.scale),_.canvas},getSizeAndScale:function(e,t,r){e=Math.abs(e);var n=Math.max(3e3,t),a=Math.ceil(e*r);return n<=a?a=n:r=a/e,{scale:r,size:a}},clipBbox:function(e,t,r,n,a,i){if(Array.isArray(t)&&4===t.length){var s=a-r,o=i-n;e.ctx.rect(r,n,s,o),e.clip(),e.endPath()}},setFillAndStrokeStyleToContext:function(e,t,r){var n=e.ctx,a=e.current;switch(t){case o:var i=this.ctx;n.fillStyle=i.fillStyle,n.strokeStyle=i.strokeStyle,a.fillColor=i.fillStyle,a.strokeColor=i.strokeStyle;break;case l:var s=A.Util.makeHexColor(r[0],r[1],r[2]);n.fillStyle=s,n.strokeStyle=s,a.fillColor=s,a.strokeColor=s;break;default:throw new A.FormatError("Unsupported paint type: ".concat(t))}},getPattern:function(e,t){(e=this.ctx).setTransform.apply(e,this.baseTransform),e.transform.apply(e,this.matrix);var r=this.createPatternCanvas(t);return e.createPattern(r,"repeat")}},e}();t.TilingPattern=a},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalWorkerOptions=void 0;var r=Object.create(null);(t.GlobalWorkerOptions=r).workerPort=void 0===r.workerPort?null:r.workerPort,r.workerSrc=void 0===r.workerSrc?"":r.workerSrc},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.MessageHandler=void 0;var u=r(2),c=1,h=2,d=1,l=2,f=3,p=4,v=5,g=6,m=7,_=8;function y(e){if("object"!==_typeof(e)||null===e)return e;switch(e.name){case"AbortException":return new u.AbortException(e.message);case"MissingPDFException":return new u.MissingPDFException(e.message);case"UnexpectedResponseException":return new u.UnexpectedResponseException(e.message,e.status);case"UnknownErrorException":return new u.UnknownErrorException(e.message,e.details);default:return new u.UnknownErrorException(e.message,e.toString())}}var n=function(){function r(e,t,o){var l=this;_classCallCheck(this,r),this.sourceName=e,this.targetName=t,this.comObj=o,this.callbackId=1,this.streamId=1,this.postMessageTransfers=!0,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=function(e){var t=e.data;if(t.targetName===l.sourceName)if(t.stream)l._processStreamMessage(t);else if(t.callback){var r=t.callbackId,n=l.callbackCapabilities[r];if(!n)throw new Error("Cannot resolve callback ".concat(r));if(delete l.callbackCapabilities[r],t.callback===c)n.resolve(t.data);else{if(t.callback!==h)throw new Error("Unexpected callback case");n.reject(y(t.reason))}}else{var a=l.actionHandler[t.action];if(!a)throw new Error("Unknown action from worker: ".concat(t.action));if(t.callbackId){var i=l.sourceName,s=t.sourceName;new Promise(function(e){e(a(t.data))}).then(function(e){o.postMessage({sourceName:i,targetName:s,callback:c,callbackId:t.callbackId,data:e})},function(e){o.postMessage({sourceName:i,targetName:s,callback:h,callbackId:t.callbackId,reason:y(e)})})}else t.streamId?l._createStreamSink(t):a(t.data)}},o.addEventListener("message",this._onComObjOnMessage)}var t;return _createClass(r,[{key:"on",value:function(e,t){var r=this.actionHandler;if(r[e])throw new Error('There is already an actionName called "'.concat(e,'"'));r[e]=t}},{key:"send",value:function(e,t,r){this._postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},r)}},{key:"sendWithPromise",value:function(e,t,r){var n=this.callbackId++,a=(0,u.createPromiseCapability)();this.callbackCapabilities[n]=a;try{this._postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:n,data:t},r)}catch(e){a.reject(e)}return a.promise}},{key:"sendWithStream",value:function(r,n,e,a){var i=this,s=this.streamId++,o=this.sourceName,l=this.targetName,c=this.comObj;return new ReadableStream({start:function(e){var t=(0,u.createPromiseCapability)();return i.streamControllers[s]={controller:e,startCall:t,pullCall:null,cancelCall:null,isClosed:!1},i._postMessage({sourceName:o,targetName:l,action:r,streamId:s,data:n,desiredSize:e.desiredSize},a),t.promise},pull:function(e){var t=(0,u.createPromiseCapability)();return i.streamControllers[s].pullCall=t,c.postMessage({sourceName:o,targetName:l,stream:g,streamId:s,desiredSize:e.desiredSize}),t.promise},cancel:function(e){(0,u.assert)(e instanceof Error,"cancel must have a valid reason");var t=(0,u.createPromiseCapability)();return i.streamControllers[s].cancelCall=t,i.streamControllers[s].isClosed=!0,c.postMessage({sourceName:o,targetName:l,stream:d,streamId:s,reason:y(e)}),t.promise}},e)}},{key:"_createStreamSink",value:function(t){var a=this,r=this.actionHandler[t.action],i=t.streamId,s=this.sourceName,o=t.sourceName,n=this.comObj,l={enqueue:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,r=2<arguments.length?arguments[2]:void 0;if(!this.isCancelled){var n=this.desiredSize;this.desiredSize-=t,0<n&&this.desiredSize<=0&&(this.sinkCapability=(0,u.createPromiseCapability)(),this.ready=this.sinkCapability.promise),a._postMessage({sourceName:s,targetName:o,stream:p,streamId:i,chunk:e},r)}},close:function(){this.isCancelled||(this.isCancelled=!0,n.postMessage({sourceName:s,targetName:o,stream:f,streamId:i}),delete a.streamSinks[i])},error:function(e){(0,u.assert)(e instanceof Error,"error must have a valid reason"),this.isCancelled||(this.isCancelled=!0,n.postMessage({sourceName:s,targetName:o,stream:v,streamId:i,reason:y(e)}))},sinkCapability:(0,u.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[i]=l,new Promise(function(e){e(r(t.data,l))}).then(function(){n.postMessage({sourceName:s,targetName:o,stream:_,streamId:i,success:!0})},function(e){n.postMessage({sourceName:s,targetName:o,stream:_,streamId:i,reason:y(e)})})}},{key:"_processStreamMessage",value:function(t){var r=t.streamId,n=this.sourceName,a=t.sourceName,i=this.comObj;switch(t.stream){case _:t.success?this.streamControllers[r].startCall.resolve():this.streamControllers[r].startCall.reject(y(t.reason));break;case m:t.success?this.streamControllers[r].pullCall.resolve():this.streamControllers[r].pullCall.reject(y(t.reason));break;case g:if(!this.streamSinks[r]){i.postMessage({sourceName:n,targetName:a,stream:m,streamId:r,success:!0});break}this.streamSinks[r].desiredSize<=0&&0<t.desiredSize&&this.streamSinks[r].sinkCapability.resolve(),this.streamSinks[r].desiredSize=t.desiredSize;var s=this.streamSinks[t.streamId].onPull;new Promise(function(e){e(s&&s())}).then(function(){i.postMessage({sourceName:n,targetName:a,stream:m,streamId:r,success:!0})},function(e){i.postMessage({sourceName:n,targetName:a,stream:m,streamId:r,reason:y(e)})});break;case p:if((0,u.assert)(this.streamControllers[r],"enqueue should have stream controller"),this.streamControllers[r].isClosed)break;this.streamControllers[r].controller.enqueue(t.chunk);break;case f:if((0,u.assert)(this.streamControllers[r],"close should have stream controller"),this.streamControllers[r].isClosed)break;this.streamControllers[r].isClosed=!0,this.streamControllers[r].controller.close(),this._deleteStreamController(r);break;case v:(0,u.assert)(this.streamControllers[r],"error should have stream controller"),this.streamControllers[r].controller.error(y(t.reason)),this._deleteStreamController(r);break;case l:t.success?this.streamControllers[r].cancelCall.resolve():this.streamControllers[r].cancelCall.reject(y(t.reason)),this._deleteStreamController(r);break;case d:if(!this.streamSinks[r])break;var o=this.streamSinks[t.streamId].onCancel;new Promise(function(e){e(o&&o(y(t.reason)))}).then(function(){i.postMessage({sourceName:n,targetName:a,stream:l,streamId:r,success:!0})},function(e){i.postMessage({sourceName:n,targetName:a,stream:l,streamId:r,reason:y(e)})}),this.streamSinks[r].sinkCapability.reject(y(t.reason)),this.streamSinks[r].isCancelled=!0,delete this.streamSinks[r];break;default:throw new Error("Unexpected stream case")}}},{key:"_deleteStreamController",value:(t=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.allSettled([this.streamControllers[t].startCall,this.streamControllers[t].pullCall,this.streamControllers[t].cancelCall].map(function(e){return e&&e.promise}));case 2:delete this.streamControllers[t];case 3:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"_postMessage",value:function(e,t){t&&this.postMessageTransfers?this.comObj.postMessage(e,t):this.comObj.postMessage(e)}},{key:"destroy",value:function(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}]),r}();t.MessageHandler=n},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.Metadata=void 0;var a=r(2),n=function(){function n(e){var t=e.parsedData,r=e.rawData;_classCallCheck(this,n),this._metadataMap=t,this._data=r}return _createClass(n,[{key:"getRaw",value:function(){return this._data}},{key:"get",value:function(e){var t;return null!==(t=this._metadataMap.get(e))&&void 0!==t?t:null}},{key:"getAll",value:function(){return(0,a.objectFromMap)(this._metadataMap)}},{key:"has",value:function(e){return this._metadataMap.has(e)}}]),n}();t.Metadata=n},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.OptionalContentConfig=void 0;var f=r(2),p=_createClass(function e(t,r){_classCallCheck(this,e),this.visible=!0,this.name=t,this.intent=r}),n=function(){function d(e){if(_classCallCheck(this,d),this.name=null,this.creator=null,this._order=null,this._groups=new Map,null!==e){this.name=e.name,this.creator=e.creator,this._order=e.order;var t,r=_createForOfIteratorHelper(e.groups);try{for(r.s();!(t=r.n()).done;){var n=t.value;this._groups.set(n.id,new p(n.name,n.intent))}}catch(e){r.e(e)}finally{r.f()}if("OFF"===e.baseState){var a,i=_createForOfIteratorHelper(this._groups);try{for(i.s();!(a=i.n()).done;){a.value.visible=!1}}catch(e){i.e(e)}finally{i.f()}}var s,o=_createForOfIteratorHelper(e.on);try{for(o.s();!(s=o.n()).done;){var l=s.value;this._groups.get(l).visible=!0}}catch(e){o.e(e)}finally{o.f()}var c,u=_createForOfIteratorHelper(e.off);try{for(u.s();!(c=u.n()).done;){var h=c.value;this._groups.get(h).visible=!1}}catch(e){u.e(e)}finally{u.f()}}}return _createClass(d,[{key:"isVisible",value:function(e){if("OCG"===e.type)return this._groups.has(e.id)?this._groups.get(e.id).visible:((0,f.warn)("Optional content group not found: ".concat(e.id)),!0);if("OCMD"!==e.type)return(0,f.warn)("Unknown group type ".concat(e.type,".")),!0;if(e.expression&&(0,f.warn)("Visibility expression not supported yet."),!e.policy||"AnyOn"===e.policy){var t,r=_createForOfIteratorHelper(e.ids);try{for(r.s();!(t=r.n()).done;){var n=t.value;if(!this._groups.has(n))return(0,f.warn)("Optional content group not found: ".concat(n)),!0;if(this._groups.get(n).visible)return!0}}catch(e){r.e(e)}finally{r.f()}return!1}if("AllOn"===e.policy){var a,i=_createForOfIteratorHelper(e.ids);try{for(i.s();!(a=i.n()).done;){var s=a.value;if(!this._groups.has(s))return(0,f.warn)("Optional content group not found: ".concat(s)),!0;if(!this._groups.get(s).visible)return!1}}catch(e){i.e(e)}finally{i.f()}return!0}if("AnyOff"===e.policy){var o,l=_createForOfIteratorHelper(e.ids);try{for(l.s();!(o=l.n()).done;){var c=o.value;if(!this._groups.has(c))return(0,f.warn)("Optional content group not found: ".concat(c)),!0;if(!this._groups.get(c).visible)return!0}}catch(e){l.e(e)}finally{l.f()}return!1}if("AllOff"!==e.policy)return(0,f.warn)("Unknown optional content policy ".concat(e.policy,".")),!0;var u,h=_createForOfIteratorHelper(e.ids);try{for(h.s();!(u=h.n()).done;){var d=u.value;if(!this._groups.has(d))return(0,f.warn)("Optional content group not found: ".concat(d)),!0;if(this._groups.get(d).visible)return!1}}catch(e){h.e(e)}finally{h.f()}return!0}},{key:"setVisibility",value:function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];this._groups.has(e)?this._groups.get(e).visible=!!t:(0,f.warn)("Optional content group not found: ".concat(e))}},{key:"getOrder",value:function(){return this._groups.size?this._order?this._order.slice():Array.from(this._groups.keys()):null}},{key:"getGroups",value:function(){return 0<this._groups.size?(0,f.objectFromMap)(this._groups):null}},{key:"getGroup",value:function(e){return this._groups.get(e)||null}}]),d}();t.OptionalContentConfig=n},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.PDFDataTransportStream=void 0;var s=r(2),l=r(1),n=function(){function i(e,t){var r=this;_classCallCheck(this,i),(0,s.assert)(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=e.progressiveDone||!1,this._contentDispositionFilename=e.contentDispositionFilename||null;var n=e.initialData;if(0<(null==n?void 0:n.length)){var a=new Uint8Array(n).buffer;this._queuedChunks.push(a)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._contentLength=e.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener(function(e,t){r._onReceiveData({begin:e,chunk:t})}),this._pdfDataRangeTransport.addProgressListener(function(e,t){r._onProgress({loaded:e,total:t})}),this._pdfDataRangeTransport.addProgressiveReadListener(function(e){r._onReceiveData({chunk:e})}),this._pdfDataRangeTransport.addProgressiveDoneListener(function(){r._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}return _createClass(i,[{key:"_onReceiveData",value:function(t){var r=new Uint8Array(t.chunk).buffer;if(void 0===t.begin)this._fullRequestReader?this._fullRequestReader._enqueue(r):this._queuedChunks.push(r);else{var e=this._rangeReaders.some(function(e){return e._begin===t.begin&&(e._enqueue(r),!0)});(0,s.assert)(e,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}},{key:"_progressiveDataLength",get:function(){var e,t;return null!==(e=null===(t=this._fullRequestReader)||void 0===t?void 0:t._loaded)&&void 0!==e?e:0}},{key:"_onProgress",value:function(e){if(void 0===e.total){var t=this._rangeReaders[0];null!=t&&t.onProgress&&t.onProgress({loaded:e.loaded})}else{var r=this._fullRequestReader;null!=r&&r.onProgress&&r.onProgress({loaded:e.loaded,total:e.total})}}},{key:"_onProgressiveDone",value:function(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}},{key:"_removeRangeReader",value:function(e){var t=this._rangeReaders.indexOf(e);0<=t&&this._rangeReaders.splice(t,1)}},{key:"getFullReader",value:function(){(0,s.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");var e=this._queuedChunks;return this._queuedChunks=null,new a(this,e,this._progressiveDone,this._contentDispositionFilename)}},{key:"getRangeReader",value:function(e,t){if(t<=this._progressiveDataLength)return null;var r=new o(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(r),r}},{key:"cancelAllRequests",value:function(t){this._fullRequestReader&&this._fullRequestReader.cancel(t),this._rangeReaders.slice(0).forEach(function(e){e.cancel(t)}),this._pdfDataRangeTransport.abort()}}]),i}();t.PDFDataTransportStream=n;var a=function(){function o(e,t){var r=2<arguments.length&&void 0!==arguments[2]&&arguments[2],n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,o),this._stream=e,this._done=r||!1,this._filename=(0,l.isPdfFile)(n)?n:null,this._queuedChunks=t||[],this._loaded=0;var a,i=_createForOfIteratorHelper(this._queuedChunks);try{for(i.s();!(a=i.n()).done;){var s=a.value;this._loaded+=s.byteLength}}catch(e){i.e(e)}finally{i.f()}this._requests=[],this._headersReady=Promise.resolve(),(e._fullRequestReader=this).onProgress=null}var e;return _createClass(o,[{key:"_enqueue",value:function(e){if(!this._done){if(0<this._requests.length)this._requests.shift().resolve({value:e,done:!1});else this._queuedChunks.push(e);this._loaded+=e.byteLength}}},{key:"headersReady",get:function(){return this._headersReady}},{key:"filename",get:function(){return this._filename}},{key:"isRangeSupported",get:function(){return this._stream._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._stream._isStreamingSupported}},{key:"contentLength",get:function(){return this._stream._contentLength}},{key:"read",value:(e=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,r;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0<this._queuedChunks.length)return t=this._queuedChunks.shift(),e.abrupt("return",{value:t,done:!1});e.next=3;break;case 3:if(this._done)return e.abrupt("return",{value:void 0,done:!0});e.next=5;break;case 5:return r=(0,s.createPromiseCapability)(),this._requests.push(r),e.abrupt("return",r.promise);case 8:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"cancel",value:function(e){this._done=!0,this._requests.forEach(function(e){e.resolve({value:void 0,done:!0})}),this._requests=[]}},{key:"progressiveDone",value:function(){this._done||(this._done=!0)}}]),o}(),o=function(){function n(e,t,r){_classCallCheck(this,n),this._stream=e,this._begin=t,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}var e;return _createClass(n,[{key:"_enqueue",value:function(e){if(!this._done){if(0===this._requests.length)this._queuedChunk=e;else this._requests.shift().resolve({value:e,done:!1}),this._requests.forEach(function(e){e.resolve({value:void 0,done:!0})}),this._requests=[];this._done=!0,this._stream._removeRangeReader(this)}}},{key:"isStreamingSupported",get:function(){return!1}},{key:"read",value:(e=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,r;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._queuedChunk)return t=this._queuedChunk,this._queuedChunk=null,e.abrupt("return",{value:t,done:!1});e.next=4;break;case 4:if(this._done)return e.abrupt("return",{value:void 0,done:!0});e.next=6;break;case 6:return r=(0,s.createPromiseCapability)(),this._requests.push(r),e.abrupt("return",r.promise);case 9:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"cancel",value:function(e){this._done=!0,this._requests.forEach(function(e){e.resolve({value:void 0,done:!0})}),this._requests=[],this._stream._removeRangeReader(this)}}]),n}()},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.WebGLContext=void 0;var a=r(2),n=function(){function n(e){var t=e.enable,r=void 0!==t&&t;_classCallCheck(this,n),this._enabled=!0===r}return _createClass(n,[{key:"isEnabled",get:function(){var e=this._enabled;return e&&(e=s.tryInitGL()),(0,a.shadow)(this,"isEnabled",e)}},{key:"composeSMask",value:function(e){var t=e.layer,r=e.mask,n=e.properties;return s.composeSMask(t,r,n)}},{key:"drawFigures",value:function(e){var t=e.width,r=e.height,n=e.backgroundColor,a=e.figures,i=e.context;return s.drawFigures(t,r,n,a,i)}},{key:"clear",value:function(){s.cleanup()}}]),n}();t.WebGLContext=n;var s=function(){function r(e,t,r){var n=e.createShader(r);if(e.shaderSource(n,t),e.compileShader(n),e.getShaderParameter(n,e.COMPILE_STATUS))return n;var a=e.getShaderInfoLog(n);throw new Error("Error during shader compilation: "+a)}function F(e,t){return r(e,t,e.VERTEX_SHADER)}function L(e,t){return r(e,t,e.FRAGMENT_SHADER)}function O(e,t){for(var r=e.createProgram(),n=0,a=t.length;n<a;++n)e.attachShader(r,t[n]);if(e.linkProgram(r),e.getProgramParameter(r,e.LINK_STATUS))return r;var i=e.getProgramInfoLog(r);throw new Error("Error during program linking: "+i)}function h(e,t,r){e.activeTexture(r);var n=e.createTexture();return e.bindTexture(e.TEXTURE_2D,n),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t),n}var M,I;function D(){M||(I=document.createElement("canvas"),M=I.getContext("webgl",{premultipliedalpha:!1}))}var d="  attribute vec2 a_position;                                      attribute vec2 a_texCoord;                                                                                                      uniform vec2 u_resolution;                                                                                                      varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec2 clipSpace = (a_position / u_resolution) * 2.0 - 1.0;       gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_texCoord = a_texCoord;                                      }                                                             ",f="  precision mediump float;                                                                                                        uniform vec4 u_backdrop;                                        uniform int u_subtype;                                          uniform sampler2D u_image;                                      uniform sampler2D u_mask;                                                                                                       varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec4 imageColor = texture2D(u_image, v_texCoord);               vec4 maskColor = texture2D(u_mask, v_texCoord);                 if (u_backdrop.a > 0.0) {                                         maskColor.rgb = maskColor.rgb * maskColor.a +                                   u_backdrop.rgb * (1.0 - maskColor.a);         }                                                               float lum;                                                      if (u_subtype == 0) {                                             lum = maskColor.a;                                            } else {                                                          lum = maskColor.r * 0.3 + maskColor.g * 0.59 +                        maskColor.b * 0.11;                                     }                                                               imageColor.a *= lum;                                            imageColor.rgb *= imageColor.a;                                 gl_FragColor = imageColor;                                    }                                                             ",p=null;var N="  attribute vec2 a_position;                                      attribute vec3 a_color;                                                                                                         uniform vec2 u_resolution;                                      uniform vec2 u_scale;                                           uniform vec2 u_offset;                                                                                                          varying vec4 v_color;                                                                                                           void main() {                                                     vec2 position = (a_position + u_offset) * u_scale;              vec2 clipSpace = (position / u_resolution) * 2.0 - 1.0;         gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_color = vec4(a_color / 255.0, 1.0);                         }                                                             ",j="  precision mediump float;                                                                                                        varying vec4 v_color;                                                                                                           void main() {                                                     gl_FragColor = v_color;                                       }                                                             ",U=null;return{tryInitGL:function(){try{return D(),!!M}catch(e){}return!1},composeSMask:function(e,t,r){var n=e.width,a=e.height;p||function(){D();var e=I,t=M;M=I=null;var r=O(t,[F(t,d),L(t,f)]);t.useProgram(r);var n={};n.gl=t,n.canvas=e,n.resolutionLocation=t.getUniformLocation(r,"u_resolution"),n.positionLocation=t.getAttribLocation(r,"a_position"),n.backdropLocation=t.getUniformLocation(r,"u_backdrop"),n.subtypeLocation=t.getUniformLocation(r,"u_subtype");var a=t.getAttribLocation(r,"a_texCoord"),i=t.getUniformLocation(r,"u_image"),s=t.getUniformLocation(r,"u_mask"),o=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,o),t.bufferData(t.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),t.STATIC_DRAW),t.enableVertexAttribArray(a),t.vertexAttribPointer(a,2,t.FLOAT,!1,0,0),t.uniform1i(i,0),t.uniform1i(s,1),p=n}();var i=p,s=i.canvas,o=i.gl;s.width=n,s.height=a,o.viewport(0,0,o.drawingBufferWidth,o.drawingBufferHeight),o.uniform2f(i.resolutionLocation,n,a),r.backdrop?o.uniform4f(i.resolutionLocation,r.backdrop[0],r.backdrop[1],r.backdrop[2],1):o.uniform4f(i.resolutionLocation,0,0,0,0),o.uniform1i(i.subtypeLocation,"Luminosity"===r.subtype?1:0);var l=h(o,e,o.TEXTURE0),c=h(o,t,o.TEXTURE1),u=o.createBuffer();return o.bindBuffer(o.ARRAY_BUFFER,u),o.bufferData(o.ARRAY_BUFFER,new Float32Array([0,0,n,0,0,a,0,a,n,0,n,a]),o.STATIC_DRAW),o.enableVertexAttribArray(i.positionLocation),o.vertexAttribPointer(i.positionLocation,2,o.FLOAT,!1,0,0),o.clearColor(0,0,0,0),o.enable(o.BLEND),o.blendFunc(o.ONE,o.ONE_MINUS_SRC_ALPHA),o.clear(o.COLOR_BUFFER_BIT),o.drawArrays(o.TRIANGLES,0,6),o.flush(),o.deleteTexture(l),o.deleteTexture(c),o.deleteBuffer(u),s},drawFigures:function(e,t,r,n,a){U||function(){D();var e=I,t=M;M=I=null;var r=O(t,[F(t,N),L(t,j)]);t.useProgram(r);var n={};n.gl=t,n.canvas=e,n.resolutionLocation=t.getUniformLocation(r,"u_resolution"),n.scaleLocation=t.getUniformLocation(r,"u_scale"),n.offsetLocation=t.getUniformLocation(r,"u_offset"),n.positionLocation=t.getAttribLocation(r,"a_position"),n.colorLocation=t.getAttribLocation(r,"a_color"),U=n}();var i=U,s=i.canvas,o=i.gl;s.width=e,s.height=t,o.viewport(0,0,o.drawingBufferWidth,o.drawingBufferHeight),o.uniform2f(i.resolutionLocation,e,t);for(var l=0,c=0,u=n.length;c<u;c++)switch(n[c].type){case"lattice":l+=((n[c].coords.length/n[c].verticesPerRow|0)-1)*(n[c].verticesPerRow-1)*6;break;case"triangles":l+=n[c].coords.length}for(var h=new Float32Array(2*l),d=new Uint8Array(3*l),f=a.coords,p=a.colors,v=0,g=0,m=0,_=n.length;m<_;m++){var y=n[m],b=y.coords,A=y.colors;switch(y.type){case"lattice":for(var k=y.verticesPerRow,C=b.length/k|0,S=1;S<C;S++)for(var x=S*k+1,w=1;w<k;w++,x++)h[v]=f[b[x-k-1]],h[v+1]=f[b[x-k-1]+1],h[v+2]=f[b[x-k]],h[v+3]=f[b[x-k]+1],h[v+4]=f[b[x-1]],h[v+5]=f[b[x-1]+1],d[g]=p[A[x-k-1]],d[g+1]=p[A[x-k-1]+1],d[g+2]=p[A[x-k-1]+2],d[g+3]=p[A[x-k]],d[g+4]=p[A[x-k]+1],d[g+5]=p[A[x-k]+2],d[g+6]=p[A[x-1]],d[g+7]=p[A[x-1]+1],d[g+8]=p[A[x-1]+2],h[v+6]=h[v+2],h[v+7]=h[v+3],h[v+8]=h[v+4],h[v+9]=h[v+5],h[v+10]=f[b[x]],h[v+11]=f[b[x]+1],d[g+9]=d[g+3],d[g+10]=d[g+4],d[g+11]=d[g+5],d[g+12]=d[g+6],d[g+13]=d[g+7],d[g+14]=d[g+8],d[g+15]=p[A[x]],d[g+16]=p[A[x]+1],d[g+17]=p[A[x]+2],v+=12,g+=18;break;case"triangles":for(var P=0,R=b.length;P<R;P++)h[v]=f[b[P]],h[v+1]=f[b[P]+1],d[g]=p[A[P]],d[g+1]=p[A[P]+1],d[g+2]=p[A[P]+2],v+=2,g+=3}}r?o.clearColor(r[0]/255,r[1]/255,r[2]/255,1):o.clearColor(0,0,0,0),o.clear(o.COLOR_BUFFER_BIT);var T=o.createBuffer();o.bindBuffer(o.ARRAY_BUFFER,T),o.bufferData(o.ARRAY_BUFFER,h,o.STATIC_DRAW),o.enableVertexAttribArray(i.positionLocation),o.vertexAttribPointer(i.positionLocation,2,o.FLOAT,!1,0,0);var E=o.createBuffer();return o.bindBuffer(o.ARRAY_BUFFER,E),o.bufferData(o.ARRAY_BUFFER,d,o.STATIC_DRAW),o.enableVertexAttribArray(i.colorLocation),o.vertexAttribPointer(i.colorLocation,3,o.UNSIGNED_BYTE,!1,0,0),o.uniform2f(i.scaleLocation,a.scaleX,a.scaleY),o.uniform2f(i.offsetLocation,a.offsetX,a.offsetY),o.drawArrays(o.TRIANGLES,0,l),o.flush(),o.deleteBuffer(T),o.deleteBuffer(E),s},cleanup:function(){var e,t;null!==(e=p)&&void 0!==e&&e.canvas&&(p.canvas.width=0,p.canvas.height=0),null!==(t=U)&&void 0!==t&&t.canvas&&(U.canvas.width=0,U.canvas.height=0),U=p=null}}}()},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationLayer=void 0;var p=r(1),v=r(2),g=r(8),o=r(19),m=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"create",value:function(e){switch(e.data.annotationType){case v.AnnotationType.LINK:return new n(e);case v.AnnotationType.TEXT:return new a(e);case v.AnnotationType.WIDGET:switch(e.data.fieldType){case"Tx":return new l(e);case"Btn":return e.data.radioButton?new u(e):e.data.checkBox?new c(e):new h(e);case"Ch":return new d(e)}return new s(e);case v.AnnotationType.POPUP:return new _(e);case v.AnnotationType.FREETEXT:return new y(e);case v.AnnotationType.LINE:return new b(e);case v.AnnotationType.SQUARE:return new A(e);case v.AnnotationType.CIRCLE:return new k(e);case v.AnnotationType.POLYLINE:return new C(e);case v.AnnotationType.CARET:return new x(e);case v.AnnotationType.INK:return new w(e);case v.AnnotationType.POLYGON:return new S(e);case v.AnnotationType.HIGHLIGHT:return new P(e);case v.AnnotationType.UNDERLINE:return new R(e);case v.AnnotationType.SQUIGGLY:return new T(e);case v.AnnotationType.STRIKEOUT:return new E(e);case v.AnnotationType.STAMP:return new F(e);case v.AnnotationType.FILEATTACHMENT:return new L(e);default:return new i(e)}}}]),e}(),i=function(){function l(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=t.isRenderable,n=void 0!==r&&r,a=t.ignoreBorder,i=void 0!==a&&a,s=t.createQuadrilaterals,o=void 0!==s&&s;_classCallCheck(this,l),this.isRenderable=n,this.data=e.data,this.layer=e.layer,this.page=e.page,this.viewport=e.viewport,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderInteractiveForms=e.renderInteractiveForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._mouseState=e.mouseState,n&&(this.container=this._createContainer(i)),o&&(this.quadrilaterals=this._createQuadrilaterals(i))}return _createClass(l,[{key:"_createContainer",value:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=this.data,r=this.page,n=this.viewport,a=document.createElement("section"),i=t.rect[2]-t.rect[0],s=t.rect[3]-t.rect[1];a.setAttribute("data-annotation-id",t.id);var o=v.Util.normalizeRect([t.rect[0],r.view[3]-t.rect[1]+r.view[1],t.rect[2],r.view[3]-t.rect[3]+r.view[1]]);if(a.style.transform="matrix(".concat(n.transform.join(","),")"),a.style.transformOrigin="".concat(-o[0],"px ").concat(-o[1],"px"),!e&&0<t.borderStyle.width){a.style.borderWidth="".concat(t.borderStyle.width,"px"),t.borderStyle.style!==v.AnnotationBorderStyleType.UNDERLINE&&(i-=2*t.borderStyle.width,s-=2*t.borderStyle.width);var l=t.borderStyle.horizontalCornerRadius,c=t.borderStyle.verticalCornerRadius;if(0<l||0<c){var u="".concat(l,"px / ").concat(c,"px");a.style.borderRadius=u}switch(t.borderStyle.style){case v.AnnotationBorderStyleType.SOLID:a.style.borderStyle="solid";break;case v.AnnotationBorderStyleType.DASHED:a.style.borderStyle="dashed";break;case v.AnnotationBorderStyleType.BEVELED:(0,v.warn)("Unimplemented border style: beveled");break;case v.AnnotationBorderStyleType.INSET:(0,v.warn)("Unimplemented border style: inset");break;case v.AnnotationBorderStyleType.UNDERLINE:a.style.borderBottomStyle="solid"}t.color?a.style.borderColor=v.Util.makeHexColor(0|t.color[0],0|t.color[1],0|t.color[2]):a.style.borderWidth=0}return a.style.left="".concat(o[0],"px"),a.style.top="".concat(o[1],"px"),a.style.width="".concat(i,"px"),a.style.height="".concat(s,"px"),a}},{key:"_createQuadrilaterals",value:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];if(!this.data.quadPoints)return null;var t,r=[],n=this.data.rect,a=_createForOfIteratorHelper(this.data.quadPoints);try{for(a.s();!(t=a.n()).done;){var i=t.value;this.data.rect=[i[2].x,i[2].y,i[1].x,i[1].y],r.push(this._createContainer(e))}}catch(e){a.e(e)}finally{a.f()}return this.data.rect=n,r}},{key:"_createPopup",value:function(e,t){var r=this.container;this.quadrilaterals&&(e=e||this.quadrilaterals,r=this.quadrilaterals[0]),e||((e=document.createElement("div")).style.height=r.style.height,e.style.width=r.style.width,r.appendChild(e));var n=new f({container:r,trigger:e,color:t.color,title:t.title,modificationDate:t.modificationDate,contents:t.contents,hideWrapper:!0}).render();n.style.left=r.style.width,r.appendChild(n)}},{key:"_renderQuadrilaterals",value:function(t){return this.quadrilaterals.forEach(function(e){e.className=t}),this.quadrilaterals}},{key:"render",value:function(){(0,v.unreachable)("Abstract method `AnnotationElement.render` called")}}]),l}(),n=function(e){_inherits(n,i);var r=_createSuper(n);function n(e){_classCallCheck(this,n);var t=!!(e.data.url||e.data.dest||e.data.action||e.data.isTooltipOnly||e.data.actions&&(e.data.actions.Action||e.data.actions["Mouse Up"]||e.data.actions["Mouse Down"]));return r.call(this,e,{isRenderable:t,createQuadrilaterals:!0})}return _createClass(n,[{key:"render",value:function(){var e=this.data,t=this.linkService,n=document.createElement("a");return e.url?(0,p.addLinkAttributes)(n,{url:e.url,target:e.newWindow?p.LinkTarget.BLANK:t.externalLinkTarget,rel:t.externalLinkRel,enabled:t.externalLinkEnabled}):e.action?this._bindNamedAction(n,e.action):e.dest?this._bindLink(n,e.dest):e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions?this._bindJSAction(n,e):this._bindLink(n,""),this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map(function(e,t){var r=0===t?n:n.cloneNode();return e.appendChild(r),e}):(this.container.className="linkAnnotation",this.container.appendChild(n),this.container)}},{key:"_bindLink",value:function(e,t){var r=this;e.href=this.linkService.getDestinationHash(t),e.onclick=function(){return t&&r.linkService.goToDestination(t),!1},(t||""===t)&&(e.className="internalLink")}},{key:"_bindNamedAction",value:function(e,t){var r=this;e.href=this.linkService.getAnchorUrl(""),e.onclick=function(){return r.linkService.executeNamedAction(t),!1},e.className="internalLink"}},{key:"_bindJSAction",value:function(r,n){var a=this;r.href=this.linkService.getAnchorUrl("");for(var i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]),e=function(){var t=o[s],e=i.get(t);if(!e)return"continue";r[e]=function(){var e;return null===(e=a.linkService.eventBus)||void 0===e||e.dispatch("dispatcheventinsandbox",{source:a,detail:{id:n.id,name:t}}),!1}},s=0,o=Object.keys(n.actions);s<o.length;s++)e();r.className="internalLink"}}]),n}(),a=function(e){_inherits(n,i);var r=_createSuper(n);function n(e){_classCallCheck(this,n);var t=!!(e.data.hasPopup||e.data.title||e.data.contents);return r.call(this,e,{isRenderable:t})}return _createClass(n,[{key:"render",value:function(){this.container.className="textAnnotation";var e=document.createElement("img");return e.style.height=this.container.style.height,e.style.width=this.container.style.width,e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.alt="[ Annotation]",e.dataset.l10nId="text_annotation_type",e.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(e,this.data),this.container.appendChild(e),this.container}}]),n}(),s=function(e){_inherits(r,i);var t=_createSuper(r);function r(){return _classCallCheck(this,r),t.apply(this,arguments)}return _createClass(r,[{key:"render",value:function(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}},{key:"_getKeyModifier",value:function(e){return navigator.platform.includes("Win")&&e.ctrlKey||navigator.platform.includes("Mac")&&e.metaKey}},{key:"_setEventListener",value:function(e,t,r,n){var a=this;t.includes("mouse")?e.addEventListener(t,function(e){var t;null===(t=a.linkService.eventBus)||void 0===t||t.dispatch("dispatcheventinsandbox",{source:a,detail:{id:a.data.id,name:r,value:n(e),shift:e.shiftKey,modifier:a._getKeyModifier(e)}})}):e.addEventListener(t,function(e){var t;null===(t=a.linkService.eventBus)||void 0===t||t.dispatch("dispatcheventinsandbox",{source:a,detail:{id:a.data.id,name:r,value:e.target.checked}})})}},{key:"_setEventListeners",value:function(e,t,r){var n,a=_createForOfIteratorHelper(t);try{for(a.s();!(n=a.n()).done;){var i,s=_slicedToArray(n.value,2),o=s[0],l=s[1];("Action"===l||null!==(i=this.data.actions)&&void 0!==i&&i[l])&&this._setEventListener(e,o,l,r)}}catch(e){a.e(e)}finally{a.f()}}},{key:"_setColor",value:function(e){for(var t=e.detail,r=e.target.style,n=0,a=["bgColor","fillColor","fgColor","textColor","borderColor","strokeColor"];n<a.length;n++){var i=a[n],s=t[i];if(s)switch(s=o.ColorConverters["".concat(s[0],"_HTML")](s.slice(1)),i){case"bgColor":case"fillColor":r.backgroundColor=s;break;case"fgColor":case"textColor":r.color=s;break;case"borderColor":case"strokeColor":r.borderColor=s}}}}]),r}(),l=function(e){_inherits(n,s);var r=_createSuper(n);function n(e){_classCallCheck(this,n);var t=e.renderInteractiveForms||!e.data.hasAppearance&&!!e.data.fieldValue;return r.call(this,e,{isRenderable:t})}return _createClass(n,[{key:"render",value:function(){var i=this,r=this.annotationStorage,s=this.data.id;this.container.className="textWidgetAnnotation";var e=null;if(this.renderInteractiveForms){var t=r.getValue(s,{value:this.data.fieldValue,valueAsString:this.data.fieldValue}),n=t.valueAsString||t.value||"",o={userValue:null,formattedValue:null,beforeInputSelectionRange:null,beforeInputValue:null};this.data.multiLine?(e=document.createElement("textarea")).textContent=n:((e=document.createElement("input")).type="text",e.setAttribute("value",n)),o.userValue=n,e.setAttribute("id",s),e.addEventListener("input",function(e){r.setValue(s,{value:e.target.value})});var a=function(e){o.formattedValue&&(e.target.value=o.formattedValue),e.target.setSelectionRange(0,0),o.beforeInputSelectionRange=null};if(this.enableScripting&&this.hasJSActions){var l;e.addEventListener("focus",function(e){o.userValue&&(e.target.value=o.userValue)}),e.addEventListener("updatefromsandbox",function(n){var a=n.detail,t={value:function(){o.userValue=a.value||"",r.setValue(s,{value:o.userValue.toString()}),o.formattedValue||(n.target.value=o.userValue)},valueAsString:function(){o.formattedValue=a.valueAsString||"",n.target!==document.activeElement&&(n.target.value=o.formattedValue),r.setValue(s,{formattedValue:o.formattedValue})},focus:function(){setTimeout(function(){return n.target.focus({preventScroll:!1})},0)},userName:function(){n.target.title=a.userName},hidden:function(){n.target.style.visibility=a.hidden?"hidden":"visible",r.setValue(s,{hidden:a.hidden})},editable:function(){n.target.disabled=!a.editable},selRange:function(){var e=_slicedToArray(a.selRange,2),t=e[0],r=e[1];0<=t&&r<n.target.value.length&&n.target.setSelectionRange(t,r)}};Object.keys(a).filter(function(e){return e in t}).forEach(function(e){return t[e]()}),i._setColor(n)}),e.addEventListener("keydown",function(e){var t;o.beforeInputValue=e.target.value;var r=-1;"Escape"===e.key?r=0:"Enter"===e.key?r=2:"Tab"===e.key&&(r=3),-1!==r&&(o.userValue=e.target.value,null===(t=i.linkService.eventBus)||void 0===t||t.dispatch("dispatcheventinsandbox",{source:i,detail:{id:s,name:"Keystroke",value:e.target.value,willCommit:!0,commitKey:r,selStart:e.target.selectionStart,selEnd:e.target.selectionEnd}}))});var c=a;a=null,e.addEventListener("blur",function(e){var t;i._mouseState.isDown&&(o.userValue=e.target.value,null===(t=i.linkService.eventBus)||void 0===t||t.dispatch("dispatcheventinsandbox",{source:i,detail:{id:s,name:"Keystroke",value:e.target.value,willCommit:!0,commitKey:1,selStart:e.target.selectionStart,selEnd:e.target.selectionEnd}}));c(e)}),e.addEventListener("mousedown",function(e){o.beforeInputValue=e.target.value,o.beforeInputSelectionRange=null}),e.addEventListener("keyup",function(e){e.target.selectionStart===e.target.selectionEnd&&(o.beforeInputSelectionRange=null)}),e.addEventListener("select",function(e){o.beforeInputSelectionRange=[e.target.selectionStart,e.target.selectionEnd]}),null!==(l=this.data.actions)&&void 0!==l&&l.Keystroke&&e.addEventListener("input",function(e){var t,r=-1,n=-1;if(o.beforeInputSelectionRange){var a=_slicedToArray(o.beforeInputSelectionRange,2);r=a[0],n=a[1]}null===(t=i.linkService.eventBus)||void 0===t||t.dispatch("dispatcheventinsandbox",{source:i,detail:{id:s,name:"Keystroke",value:o.beforeInputValue,change:e.data,willCommit:!1,selStart:r,selEnd:n}})}),this._setEventListeners(e,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],function(e){return e.target.value})}if(a&&e.addEventListener("blur",a),e.disabled=this.data.readOnly,e.name=this.data.fieldName,null!==this.data.maxLen&&(e.maxLength=this.data.maxLen),this.data.comb){var u=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;e.classList.add("comb"),e.style.letterSpacing="calc(".concat(u,"px - 1ch)")}}else(e=document.createElement("div")).textContent=this.data.fieldValue,e.style.verticalAlign="middle",e.style.display="table-cell";return this._setTextStyle(e),this.container.appendChild(e),this.container}},{key:"_setTextStyle",value:function(e){var t=this.data.defaultAppearanceData,r=t.fontSize,n=t.fontColor,a=e.style;r&&(a.fontSize="".concat(r,"px")),a.color=v.Util.makeHexColor(n[0],n[1],n[2]),null!==this.data.textAlignment&&(a.textAlign=["left","center","right"][this.data.textAlignment])}}]),n}(),c=function(e){_inherits(r,s);var t=_createSuper(r);function r(e){return _classCallCheck(this,r),t.call(this,e,{isRenderable:e.renderInteractiveForms})}return _createClass(r,[{key:"render",value:function(){var n=this,i=this.annotationStorage,e=this.data,s=e.id,t=i.getValue(s,{value:e.fieldValue&&(e.exportValue&&e.exportValue===e.fieldValue||!e.exportValue&&"Off"!==e.fieldValue)}).value;this.container.className="buttonWidgetAnnotation checkBox";var r=document.createElement("input");return r.disabled=e.readOnly,r.type="checkbox",r.name=this.data.fieldName,t&&r.setAttribute("checked",!0),r.setAttribute("id",s),r.addEventListener("change",function(e){var t,r=e.target.name,n=_createForOfIteratorHelper(document.getElementsByName(r));try{for(n.s();!(t=n.n()).done;){var a=t.value;a!==e.target&&(a.checked=!1,i.setValue(a.parentNode.getAttribute("data-annotation-id"),{value:!1}))}}catch(e){n.e(e)}finally{n.f()}i.setValue(s,{value:e.target.checked})}),this.enableScripting&&this.hasJSActions&&(r.addEventListener("updatefromsandbox",function(e){var t=e.detail,r={value:function(){e.target.checked="Off"!==t.value,i.setValue(s,{value:e.target.checked})},focus:function(){setTimeout(function(){return e.target.focus({preventScroll:!1})},0)},hidden:function(){e.target.style.visibility=t.hidden?"hidden":"visible",i.setValue(s,{hidden:t.hidden})},editable:function(){e.target.disabled=!t.editable}};Object.keys(t).filter(function(e){return e in r}).forEach(function(e){return r[e]()}),n._setColor(e)}),this._setEventListeners(r,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],function(e){return e.target.checked})),this.container.appendChild(r),this.container}}]),r}(),u=function(e){_inherits(r,s);var t=_createSuper(r);function r(e){return _classCallCheck(this,r),t.call(this,e,{isRenderable:e.renderInteractiveForms})}return _createClass(r,[{key:"render",value:function(){var e=this;this.container.className="buttonWidgetAnnotation radioButton";var o=this.annotationStorage,t=this.data,l=t.id,r=o.getValue(l,{value:t.fieldValue===t.buttonValue}).value,n=document.createElement("input");if(n.disabled=t.readOnly,n.type="radio",n.name=t.fieldName,r&&n.setAttribute("checked",!0),n.setAttribute("id",l),n.addEventListener("change",function(e){var t,r=e.target,n=_createForOfIteratorHelper(document.getElementsByName(r.name));try{for(n.s();!(t=n.n()).done;){var a=t.value;a!==r&&o.setValue(a.getAttribute("id"),{value:!1})}}catch(e){n.e(e)}finally{n.f()}o.setValue(l,{value:r.checked})}),this.enableScripting&&this.hasJSActions){var c=t.buttonValue;n.addEventListener("updatefromsandbox",function(i){var s=i.detail,t={value:function(){var e,t=c===s.value,r=_createForOfIteratorHelper(document.getElementsByName(i.target.name));try{for(r.s();!(e=r.n()).done;){var n=e.value,a=n.getAttribute("id");n.checked=a===l&&t,o.setValue(a,{value:n.checked})}}catch(e){r.e(e)}finally{r.f()}},focus:function(){setTimeout(function(){return i.target.focus({preventScroll:!1})},0)},hidden:function(){i.target.style.visibility=s.hidden?"hidden":"visible",o.setValue(l,{hidden:s.hidden})},editable:function(){i.target.disabled=!s.editable}};Object.keys(s).filter(function(e){return e in t}).forEach(function(e){return t[e]()}),e._setColor(i)}),this._setEventListeners(n,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],function(e){return e.target.checked})}return this.container.appendChild(n),this.container}}]),r}(),h=function(e){_inherits(r,n);var t=_createSuper(r);function r(){return _classCallCheck(this,r),t.apply(this,arguments)}return _createClass(r,[{key:"render",value:function(){var e=_get(_getPrototypeOf(r.prototype),"render",this).call(this);return e.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(e.title=this.data.alternativeText),e}}]),r}(),d=function(e){_inherits(r,s);var t=_createSuper(r);function r(e){return _classCallCheck(this,r),t.call(this,e,{isRenderable:e.renderInteractiveForms})}return _createClass(r,[{key:"render",value:function(){var a=this;this.container.className="choiceWidgetAnnotation";var c=this.annotationStorage,u=this.data.id;c.getValue(u,{value:0<this.data.fieldValue.length?this.data.fieldValue[0]:void 0});var h=document.createElement("select");h.disabled=this.data.readOnly,h.name=this.data.fieldName,h.setAttribute("id",u),this.data.combo||(h.size=this.data.options.length,this.data.multiSelect&&(h.multiple=!0));var e,t=_createForOfIteratorHelper(this.data.options);try{for(t.s();!(e=t.n()).done;){var r=e.value,n=document.createElement("option");n.textContent=r.displayValue,n.value=r.exportValue,this.data.fieldValue.includes(r.exportValue)&&n.setAttribute("selected",!0),h.appendChild(n)}}catch(e){t.e(e)}finally{t.f()}var d=function(e,t){var r=t?"value":"textContent",n=e.target.options;return e.target.multiple?Array.prototype.filter.call(n,function(e){return e.selected}).map(function(e){return e[r]}):-1===n.selectedIndex?null:n[n.selectedIndex][r]},f=function(e){var t=e.target.options;return Array.prototype.map.call(t,function(e){return{displayValue:e.textContent,exportValue:e.value}})};return this.enableScripting&&this.hasJSActions?(h.addEventListener("updatefromsandbox",function(o){var l=o.detail,t={value:function(){var e=h.options,t=l.value,r=new Set(Array.isArray(t)?t:[t]);Array.prototype.forEach.call(e,function(e){e.selected=r.has(e.value)}),c.setValue(u,{value:d(o,!0)})},multipleSelection:function(){h.multiple=!0},remove:function(){var e=h.options,t=l.remove;(e[t].selected=!1,h.remove(t),0<e.length)&&(-1===Array.prototype.findIndex.call(e,function(e){return e.selected})&&(e[0].selected=!0));c.setValue(u,{value:d(o,!0),items:f(o)})},clear:function(){for(;0!==h.length;)h.remove(0);c.setValue(u,{value:null,items:[]})},insert:function(){var e=l.insert,t=e.index,r=e.displayValue,n=e.exportValue,a=document.createElement("option");a.textContent=r,a.value=n,h.insertBefore(a,h.children[t]),c.setValue(u,{value:d(o,!0),items:f(o)})},items:function(){for(var e=l.items;0!==h.length;)h.remove(0);var t,r=_createForOfIteratorHelper(e);try{for(r.s();!(t=r.n()).done;){var n=t.value,a=n.displayValue,i=n.exportValue,s=document.createElement("option");s.textContent=a,s.value=i,h.appendChild(s)}}catch(e){r.e(e)}finally{r.f()}0<h.options.length&&(h.options[0].selected=!0),c.setValue(u,{value:d(o,!0),items:f(o)})},indices:function(){var r=new Set(l.indices),e=o.target.options;Array.prototype.forEach.call(e,function(e,t){e.selected=r.has(t)}),c.setValue(u,{value:d(o,!0)})},focus:function(){setTimeout(function(){return o.target.focus({preventScroll:!1})},0)},hidden:function(){o.target.style.visibility=l.hidden?"hidden":"visible",c.setValue(u,{hidden:l.hidden})},editable:function(){o.target.disabled=!l.editable}};Object.keys(l).filter(function(e){return e in t}).forEach(function(e){return t[e]()}),a._setColor(o)}),h.addEventListener("input",function(e){var t,r=d(e,!0),n=d(e,!1);c.setValue(u,{value:r}),null===(t=a.linkService.eventBus)||void 0===t||t.dispatch("dispatcheventinsandbox",{source:a,detail:{id:u,name:"Keystroke",value:n,changeEx:r,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(h,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],function(e){return e.target.checked})):h.addEventListener("input",function(e){c.setValue(u,{value:d(e)})}),this.container.appendChild(h),this.container}}]),r}(),_=function(e){_inherits(n,i);var r=_createSuper(n);function n(e){_classCallCheck(this,n);var t=!(!e.data.title&&!e.data.contents);return r.call(this,e,{isRenderable:t})}return _createClass(n,[{key:"render",value:function(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;var e='[data-annotation-id="'.concat(this.data.parentId,'"]'),t=this.layer.querySelectorAll(e);if(0===t.length)return this.container;var r=new f({container:this.container,trigger:Array.from(t),color:this.data.color,title:this.data.title,modificationDate:this.data.modificationDate,contents:this.data.contents}),n=this.page,a=v.Util.normalizeRect([this.data.parentRect[0],n.view[3]-this.data.parentRect[1]+n.view[1],this.data.parentRect[2],n.view[3]-this.data.parentRect[3]+n.view[1]]),i=a[0]+this.data.parentRect[2]-this.data.parentRect[0],s=a[1];return this.container.style.transformOrigin="".concat(-i,"px ").concat(-s,"px"),this.container.style.left="".concat(i,"px"),this.container.style.top="".concat(s,"px"),this.container.appendChild(r.render()),this.container}}]),n}(),f=function(){function t(e){_classCallCheck(this,t),this.container=e.container,this.trigger=e.trigger,this.color=e.color,this.title=e.title,this.modificationDate=e.modificationDate,this.contents=e.contents,this.hideWrapper=e.hideWrapper||!1,this.pinned=!1}return _createClass(t,[{key:"render",value:function(){var t=this,e=document.createElement("div");e.className="popupWrapper",this.hideElement=this.hideWrapper?e:this.container,this.hideElement.hidden=!0;var r=document.createElement("div");r.className="popup";var n=this.color;if(n){var a=.7*(255-n[0])+n[0],i=.7*(255-n[1])+n[1],s=.7*(255-n[2])+n[2];r.style.backgroundColor=v.Util.makeHexColor(0|a,0|i,0|s)}var o=document.createElement("h1");o.textContent=this.title,r.appendChild(o);var l=p.PDFDateString.toDateObject(this.modificationDate);if(l){var c=document.createElement("span");c.textContent="1762013335189, ",c.dataset.l10nId="annotation_date_string",c.dataset.l10nArgs=JSON.stringify({date:l.toLocaleDateString(),time:l.toLocaleTimeString()}),r.appendChild(c)}var u=this._formatContents(this.contents);return r.appendChild(u),Array.isArray(this.trigger)||(this.trigger=[this.trigger]),this.trigger.forEach(function(e){e.addEventListener("click",t._toggle.bind(t)),e.addEventListener("mouseover",t._show.bind(t,!1)),e.addEventListener("mouseout",t._hide.bind(t,!1))}),r.addEventListener("click",this._hide.bind(this,!0)),e.appendChild(r),e}},{key:"_formatContents",value:function(e){for(var t=document.createElement("p"),r=e.split(/(?:\r\n?|\n)/),n=0,a=r.length;n<a;++n){var i=r[n];t.appendChild(document.createTextNode(i)),n<a-1&&t.appendChild(document.createElement("br"))}return t}},{key:"_toggle",value:function(){this.pinned?this._hide(!0):this._show(!0)}},{key:"_show",value:function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0]&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex+=1)}},{key:"_hide",value:function(){(!(0<arguments.length&&void 0!==arguments[0])||arguments[0])&&(this.pinned=!1),this.hideElement.hidden||this.pinned||(this.hideElement.hidden=!0,this.container.style.zIndex-=1)}}]),t}(),y=function(e){_inherits(n,i);var r=_createSuper(n);function n(e){_classCallCheck(this,n);var t=!!(e.data.hasPopup||e.data.title||e.data.contents);return r.call(this,e,{isRenderable:t,ignoreBorder:!0})}return _createClass(n,[{key:"render",value:function(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}]),n}(),b=function(e){_inherits(n,i);var r=_createSuper(n);function n(e){_classCallCheck(this,n);var t=!!(e.data.hasPopup||e.data.title||e.data.contents);return r.call(this,e,{isRenderable:t,ignoreBorder:!0})}return _createClass(n,[{key:"render",value:function(){this.container.className="lineAnnotation";var e=this.data,t=e.rect[2]-e.rect[0],r=e.rect[3]-e.rect[1],n=this.svgFactory.create(t,r),a=this.svgFactory.createElement("svg:line");return a.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),a.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),a.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),a.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),a.setAttribute("stroke-width",e.borderStyle.width||1),a.setAttribute("stroke","transparent"),n.appendChild(a),this.container.append(n),this._createPopup(a,e),this.container}}]),n}(),A=function(e){_inherits(n,i);var r=_createSuper(n);function n(e){_classCallCheck(this,n);var t=!!(e.data.hasPopup||e.data.title||e.data.contents);return r.call(this,e,{isRenderable:t,ignoreBorder:!0})}return _createClass(n,[{key:"render",value:function(){this.container.className="squareAnnotation";var e=this.data,t=e.rect[2]-e.rect[0],r=e.rect[3]-e.rect[1],n=this.svgFactory.create(t,r),a=e.borderStyle.width,i=this.svgFactory.createElement("svg:rect");return i.setAttribute("x",a/2),i.setAttribute("y",a/2),i.setAttribute("width",t-a),i.setAttribute("height",r-a),i.setAttribute("stroke-width",a||1),i.setAttribute("stroke","transparent"),i.setAttribute("fill","none"),n.appendChild(i),this.container.append(n),this._createPopup(i,e),this.container}}]),n}(),k=function(e){_inherits(n,i);var r=_createSuper(n);function n(e){_classCallCheck(this,n);var t=!!(e.data.hasPopup||e.data.title||e.data.contents);return r.call(this,e,{isRenderable:t,ignoreBorder:!0})}return _createClass(n,[{key:"render",value:function(){this.container.className="circleAnnotation";var e=this.data,t=e.rect[2]-e.rect[0],r=e.rect[3]-e.rect[1],n=this.svgFactory.create(t,r),a=e.borderStyle.width,i=this.svgFactory.createElement("svg:ellipse");return i.setAttribute("cx",t/2),i.setAttribute("cy",r/2),i.setAttribute("rx",t/2-a/2),i.setAttribute("ry",r/2-a/2),i.setAttribute("stroke-width",a||1),i.setAttribute("stroke","transparent"),i.setAttribute("fill","none"),n.appendChild(i),this.container.append(n),this._createPopup(i,e),this.container}}]),n}(),C=function(e){_inherits(a,i);var n=_createSuper(a);function a(e){var t;_classCallCheck(this,a);var r=!!(e.data.hasPopup||e.data.title||e.data.contents);return(t=n.call(this,e,{isRenderable:r,ignoreBorder:!0})).containerClassName="polylineAnnotation",t.svgElementName="svg:polyline",t}return _createClass(a,[{key:"render",value:function(){this.container.className=this.containerClassName;var e,t=this.data,r=t.rect[2]-t.rect[0],n=t.rect[3]-t.rect[1],a=this.svgFactory.create(r,n),i=[],s=_createForOfIteratorHelper(t.vertices);try{for(s.s();!(e=s.n()).done;){var o=e.value,l=o.x-t.rect[0],c=t.rect[3]-o.y;i.push(l+","+c)}}catch(e){s.e(e)}finally{s.f()}i=i.join(" ");var u=this.svgFactory.createElement(this.svgElementName);return u.setAttribute("points",i),u.setAttribute("stroke-width",t.borderStyle.width||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","none"),a.appendChild(u),this.container.append(a),this._createPopup(u,t),this.container}}]),a}(),S=function(e){_inherits(n,C);var r=_createSuper(n);function n(e){var t;return _classCallCheck(this,n),(t=r.call(this,e)).containerClassName="polygonAnnotation",t.svgElementName="svg:polygon",t}return _createClass(n)}(),x=function(e){_inherits(n,i);var r=_createSuper(n);function n(e){_classCallCheck(this,n);var t=!!(e.data.hasPopup||e.data.title||e.data.contents);return r.call(this,e,{isRenderable:t,ignoreBorder:!0})}return _createClass(n,[{key:"render",value:function(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}]),n}(),w=function(e){_inherits(a,i);var n=_createSuper(a);function a(e){var t;_classCallCheck(this,a);var r=!!(e.data.hasPopup||e.data.title||e.data.contents);return(t=n.call(this,e,{isRenderable:r,ignoreBorder:!0})).containerClassName="inkAnnotation",t.svgElementName="svg:polyline",t}return _createClass(a,[{key:"render",value:function(){this.container.className=this.containerClassName;var e,t=this.data,r=t.rect[2]-t.rect[0],n=t.rect[3]-t.rect[1],a=this.svgFactory.create(r,n),i=_createForOfIteratorHelper(t.inkLists);try{for(i.s();!(e=i.n()).done;){var s,o=e.value,l=[],c=_createForOfIteratorHelper(o);try{for(c.s();!(s=c.n()).done;){var u=s.value,h=u.x-t.rect[0],d=t.rect[3]-u.y;l.push("".concat(h,",").concat(d))}}catch(e){c.e(e)}finally{c.f()}l=l.join(" ");var f=this.svgFactory.createElement(this.svgElementName);f.setAttribute("points",l),f.setAttribute("stroke-width",t.borderStyle.width||1),f.setAttribute("stroke","transparent"),f.setAttribute("fill","none"),this._createPopup(f,t),a.appendChild(f)}}catch(e){i.e(e)}finally{i.f()}return this.container.append(a),this.container}}]),a}(),P=function(e){_inherits(n,i);var r=_createSuper(n);function n(e){_classCallCheck(this,n);var t=!!(e.data.hasPopup||e.data.title||e.data.contents);return r.call(this,e,{isRenderable:t,ignoreBorder:!0,createQuadrilaterals:!0})}return _createClass(n,[{key:"render",value:function(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}]),n}(),R=function(e){_inherits(n,i);var r=_createSuper(n);function n(e){_classCallCheck(this,n);var t=!!(e.data.hasPopup||e.data.title||e.data.contents);return r.call(this,e,{isRenderable:t,ignoreBorder:!0,createQuadrilaterals:!0})}return _createClass(n,[{key:"render",value:function(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}]),n}(),T=function(e){_inherits(n,i);var r=_createSuper(n);function n(e){_classCallCheck(this,n);var t=!!(e.data.hasPopup||e.data.title||e.data.contents);return r.call(this,e,{isRenderable:t,ignoreBorder:!0,createQuadrilaterals:!0})}return _createClass(n,[{key:"render",value:function(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}]),n}(),E=function(e){_inherits(n,i);var r=_createSuper(n);function n(e){_classCallCheck(this,n);var t=!!(e.data.hasPopup||e.data.title||e.data.contents);return r.call(this,e,{isRenderable:t,ignoreBorder:!0,createQuadrilaterals:!0})}return _createClass(n,[{key:"render",value:function(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}]),n}(),F=function(e){_inherits(n,i);var r=_createSuper(n);function n(e){_classCallCheck(this,n);var t=!!(e.data.hasPopup||e.data.title||e.data.contents);return r.call(this,e,{isRenderable:t,ignoreBorder:!0})}return _createClass(n,[{key:"render",value:function(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}]),n}(),L=function(e){_inherits(o,i);var s=_createSuper(o);function o(e){var t,r;_classCallCheck(this,o);var n=(r=s.call(this,e,{isRenderable:!0})).data.file,a=n.filename,i=n.content;return r.filename=(0,p.getFilenameFromUrl)(a),r.content=i,null===(t=r.linkService.eventBus)||void 0===t||t.dispatch("fileattachmentannotation",{source:_assertThisInitialized(r),id:(0,v.stringToPDFString)(a),filename:a,content:i}),r}return _createClass(o,[{key:"render",value:function(){this.container.className="fileAttachmentAnnotation";var e=document.createElement("div");return e.style.height=this.container.style.height,e.style.width=this.container.style.width,e.addEventListener("dblclick",this._download.bind(this)),this.data.hasPopup||!this.data.title&&!this.data.contents||this._createPopup(e,this.data),this.container.appendChild(e),this.container}},{key:"_download",value:function(){var e;null===(e=this.downloadManager)||void 0===e||e.openOrDownloadData(this.container,this.content,this.filename)}}]),o}(),O=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"render",value:function(e){var t,r=[],n=[],a=_createForOfIteratorHelper(e.annotations);try{for(a.s();!(t=a.n()).done;){var i=t.value;i&&(i.annotationType!==v.AnnotationType.POPUP?r.push(i):n.push(i))}}catch(e){a.e(e)}finally{a.f()}n.length&&r.push.apply(r,n);for(var s=0,o=r;s<o.length;s++){var l=o[s],c=m.create({data:l,layer:e.div,page:e.page,viewport:e.viewport,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderInteractiveForms:!1!==e.renderInteractiveForms,svgFactory:new p.DOMSVGFactory,annotationStorage:e.annotationStorage||new g.AnnotationStorage,enableScripting:e.enableScripting,hasJSActions:e.hasJSActions,mouseState:e.mouseState||{isDown:!1}});if(c.isRenderable){var u=c.render();if(l.hidden&&(u.style.visibility="hidden"),Array.isArray(u)){var h,d=_createForOfIteratorHelper(u);try{for(d.s();!(h=d.n()).done;){var f=h.value;e.div.appendChild(f)}}catch(e){d.e(e)}finally{d.f()}}else c instanceof _?e.div.prepend(u):e.div.appendChild(u)}}}},{key:"update",value:function(e){var t,r="matrix(".concat(e.viewport.transform.join(","),")"),n=_createForOfIteratorHelper(e.annotations);try{for(n.s();!(t=n.n()).done;){var a=t.value,i=e.div.querySelectorAll('[data-annotation-id="'.concat(a.id,'"]'));i&&i.forEach(function(e){e.style.transform=r})}}catch(e){n.e(e)}finally{n.f()}e.div.hidden=!1}}]),e}();t.AnnotationLayer=O},function(e,t){function l(e){return Math.floor(255*Math.max(0,Math.min(1,e))).toString(16).padStart(2,"0")}Object.defineProperty(t,"__esModule",{value:!0}),t.ColorConverters=void 0;var r=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"CMYK_G",value:function(e){var t=_slicedToArray(e,4),r=t[0],n=t[1],a=t[2],i=t[3];return["G",1-Math.min(1,.3*r+.59*a+.11*n+i)]}},{key:"G_CMYK",value:function(e){return["CMYK",0,0,0,1-_slicedToArray(e,1)[0]]}},{key:"G_RGB",value:function(e){var t=_slicedToArray(e,1)[0];return["RGB",t,t,t]}},{key:"G_HTML",value:function(e){var t=l(_slicedToArray(e,1)[0]);return"#".concat(t).concat(t).concat(t)}},{key:"RGB_G",value:function(e){var t=_slicedToArray(e,3);return["G",.3*t[0]+.59*t[1]+.11*t[2]]}},{key:"RGB_HTML",value:function(e){var t=_slicedToArray(e,3),r=t[0],n=t[1],a=t[2],i=l(r),s=l(n),o=l(a);return"#".concat(i).concat(s).concat(o)}},{key:"T_HTML",value:function(){return"#00000000"}},{key:"CMYK_RGB",value:function(e){var t=_slicedToArray(e,4),r=t[0],n=t[1],a=t[2],i=t[3];return["RGB",1-Math.min(1,r+i),1-Math.min(1,a+i),1-Math.min(1,n+i)]}},{key:"CMYK_HTML",value:function(e){return this.RGB_HTML(this.CMYK_RGB(e))}},{key:"RGB_CMYK",value:function(e){var t=_slicedToArray(e,3),r=1-t[0],n=1-t[1],a=1-t[2];return["CMYK",r,n,a,Math.min(r,n,a)]}}]),e}();t.ColorConverters=r},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.renderTextLayer=void 0;var P=r(2),n=function(){var C=30,S=.8,x=new Map,w=/\S/;function a(e,t,r,n){var a,i=document.createElement("span"),s={angle:0,canvasWidth:0,isWhitespace:!1,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1};if(e._textDivs.push(i),a=t.str,!w.test(a))return s.isWhitespace=!0,void e._textDivProperties.set(i,s);var o=P.Util.transform(e._viewport.transform,t.transform),l=Math.atan2(o[1],o[0]),c=r[t.fontName];c.vertical&&(l+=Math.PI/2);var u,h,d=Math.hypot(o[2],o[3]),f=d*function(e,t){var r=x.get(e);if(r)return r;t.save(),t.font="".concat(C,"px ").concat(e);var n=t.measureText(""),a=n.fontBoundingBoxAscent,i=Math.abs(n.fontBoundingBoxDescent);if(a){t.restore();var s=a/(a+i);return x.set(e,s),s}t.strokeStyle="red",t.clearRect(0,0,C,C),t.strokeText("g",0,0);var o=t.getImageData(0,0,C,C).data;i=0;for(var l=o.length-1-3;0<=l;l-=4)if(0<o[l]){i=Math.ceil(l/4/C);break}t.clearRect(0,0,C,C),t.strokeText("A",0,C);for(var c=a=0,u=(o=t.getImageData(0,0,C,C).data).length;c<u;c+=4)if(0<o[c]){a=C-Math.floor(c/4/C);break}if(t.restore(),a){var h=a/(a+i);return x.set(e,h),h}return x.set(e,S),S}(c.fontFamily,n);h=0===l?(u=o[4],o[5]-f):(u=o[4]+f*Math.sin(l),o[5]-f*Math.cos(l)),i.style.left="".concat(u,"px"),i.style.top="".concat(h,"px"),i.style.fontSize="".concat(d,"px"),i.style.fontFamily=c.fontFamily,i.textContent=t.str,i.dir=t.dir,e._fontInspectorEnabled&&(i.dataset.fontName=t.fontName),0!==l&&(s.angle=l*(180/Math.PI));var p=!1;if(1<t.str.length)p=!0;else if(t.transform[0]!==t.transform[3]){var v=Math.abs(t.transform[0]),g=Math.abs(t.transform[3]);v!==g&&1.5<Math.max(v,g)/Math.min(v,g)&&(p=!0)}if(p&&(c.vertical?s.canvasWidth=t.height*e._viewport.scale:s.canvasWidth=t.width*e._viewport.scale),e._textDivProperties.set(i,s),e._textContentStream&&e._layoutText(i),e._enhanceTextSelection){var m=1,_=0;0!==l&&(m=Math.cos(l),_=Math.sin(l));var y,b,A=(c.vertical?t.height:t.width)*e._viewport.scale,k=d;b=0!==l?(y=[m,_,-_,m,u,h],P.Util.getAxialAlignedBoundingBox([0,0,A,k],y)):[u,h,u+A,h+k],e._bounds.push({left:b[0],top:b[1],right:b[2],bottom:b[3],div:i,size:[A,k],m:y})}}function o(e){if(!e._canceled){var t=e._textDivs,r=e._capability,n=t.length;if(1e5<n)return e._renderingDone=!0,void r.resolve();if(!e._textContentStream)for(var a=0;a<n;a++)e._layoutText(t[a]);e._renderingDone=!0,r.resolve()}}function p(e,t,r){for(var n=0,a=0;a<r;a++){var i=e[t++];0<i&&(n=n?Math.min(i,n):i)}return n}function l(h){for(var d=h._bounds,e=h._viewport,f=function(a,e,t){var i=t.map(function(e,t){return{x1:e.left,y1:e.top,x2:e.right,y2:e.bottom,index:t,x1New:void 0,x2New:void 0}});n(a,i);var s=new Array(t.length);return i.forEach(function(e){var t=e.index;s[t]={left:e.x1New,top:0,right:e.x2New,bottom:0}}),t.map(function(e,t){var r=s[t],n=i[t];n.x1=e.top,n.y1=a-r.right,n.x2=e.bottom,n.y2=a-r.left,n.index=t,n.x1New=void 0,n.x2New=void 0}),n(e,i),i.forEach(function(e){var t=e.index;s[t].top=e.x1New,s[t].bottom=e.x2New}),s}(e.width,e.height,d),t=function(e){var t=d[e].div,r=h._textDivProperties.get(t);if(0===r.angle)return r.paddingLeft=d[e].left-f[e].left,r.paddingTop=d[e].top-f[e].top,r.paddingRight=f[e].right-d[e].right,r.paddingBottom=f[e].bottom-d[e].bottom,h._textDivProperties.set(t,r),"continue";var n=f[e],a=d[e],i=a.m,s=i[0],o=i[1],l=[[0,0],[0,a.size[1]],[a.size[0],0],a.size],c=new Float64Array(64);l.forEach(function(e,t){var r=P.Util.applyTransform(e,i);c[t+0]=s&&(n.left-r[0])/s,c[t+4]=o&&(n.top-r[1])/o,c[t+8]=s&&(n.right-r[0])/s,c[t+12]=o&&(n.bottom-r[1])/o,c[t+16]=o&&(n.left-r[0])/-o,c[t+20]=s&&(n.top-r[1])/s,c[t+24]=o&&(n.right-r[0])/-o,c[t+28]=s&&(n.bottom-r[1])/s,c[t+32]=s&&(n.left-r[0])/-s,c[t+36]=o&&(n.top-r[1])/-o,c[t+40]=s&&(n.right-r[0])/-s,c[t+44]=o&&(n.bottom-r[1])/-o,c[t+48]=o&&(n.left-r[0])/o,c[t+52]=s&&(n.top-r[1])/-s,c[t+56]=o&&(n.right-r[0])/o,c[t+60]=s&&(n.bottom-r[1])/-s});var u=1+Math.min(Math.abs(s),Math.abs(o));r.paddingLeft=p(c,32,16)/u,r.paddingTop=p(c,48,16)/u,r.paddingRight=p(c,0,16)/u,r.paddingBottom=p(c,16,16)/u,h._textDivProperties.set(t,r)},r=0;r<f.length;r++)t(r)}function n(r,e){e.sort(function(e,t){return e.x1-t.x1||e.index-t.index});var f=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];e.forEach(function(e){for(var t=0;t<f.length&&f[t].end<=e.y1;)t++;for(var r,n,a=f.length-1;0<=a&&f[a].start>=e.y2;)a--;var i,s,o=-1/0;for(i=t;i<=a;i++){var l=void 0;o<(l=(n=(r=f[i]).boundary).x2>e.x1?n.index>e.index?n.x1New:e.x1:void 0===n.x2New?(n.x2+e.x1)/2:n.x2New)&&(o=l)}for(e.x1New=o,i=t;i<=a;i++)void 0===(n=(r=f[i]).boundary).x2New?n.x2>e.x1?n.index>e.index&&(n.x2New=n.x2):n.x2New=o:n.x2New>o&&(n.x2New=Math.max(o,n.x2));var c=[],u=null;for(i=t;i<=a;i++){var h=(n=(r=f[i]).boundary).x2>e.x2?n:e;u===h?c[c.length-1].end=r.end:(c.push({start:r.start,end:r.end,boundary:h}),u=h)}for(f[t].start<e.y1&&(c[0].start=e.y1,c.unshift({start:f[t].start,end:e.y1,boundary:f[t].boundary})),e.y2<f[a].end&&(c[c.length-1].end=e.y2,c.push({start:e.y2,end:f[a].end,boundary:f[a].boundary})),i=t;i<=a;i++)if(void 0===(n=(r=f[i]).boundary).x2New){var d=!1;for(s=t-1;!d&&0<=s&&f[s].start>=n.y1;s--)d=f[s].boundary===n;for(s=a+1;!d&&s<f.length&&f[s].end<=n.y2;s++)d=f[s].boundary===n;for(s=0;!d&&s<c.length;s++)d=c[s].boundary===n;d||(n.x2New=o)}Array.prototype.splice.apply(f,[t,a-t+1].concat(c))}),f.forEach(function(e){var t=e.boundary;void 0===t.x2New&&(t.x2New=Math.max(r,t.x2))})}function r(e){var t,r=this,n=e.textContent,a=e.textContentStream,i=e.container,s=e.viewport,o=e.textDivs,l=e.textContentItemsStr,c=e.enhanceTextSelection;this._textContent=n,this._textContentStream=a,this._container=i,this._document=i.ownerDocument,this._viewport=s,this._textDivs=o||[],this._textContentItemsStr=l||[],this._enhanceTextSelection=!!c,this._fontInspectorEnabled=!(null===(t=globalThis.FontInspector)||void 0===t||!t.enabled),this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,P.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally(function(){r._layoutTextCtx&&(r._layoutTextCtx.canvas.width=0,r._layoutTextCtx.canvas.height=0,r._layoutTextCtx=null)}).catch(function(){})}return r.prototype={get promise(){return this._capability.promise},cancel:function(){this._canceled=!0,this._reader&&(this._reader.cancel(new P.AbortException("TextLayer task cancelled.")),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))},_processItems:function(e,t){for(var r=0,n=e.length;r<n;r++)this._textContentItemsStr.push(e[r].str),a(this,e[r],t,this._layoutTextCtx)},_layoutText:function(e){var t=this._textDivProperties.get(e);if(!t.isWhitespace){var r="";if(0!==t.canvasWidth){var n=e.style,a=n.fontSize,i=n.fontFamily;a===this._layoutTextLastFontSize&&i===this._layoutTextLastFontFamily||(this._layoutTextCtx.font="".concat(a," ").concat(i),this._layoutTextLastFontSize=a,this._layoutTextLastFontFamily=i);var s=this._layoutTextCtx.measureText(e.textContent).width;0<s&&(t.scale=t.canvasWidth/s,r="scaleX(".concat(t.scale,")"))}0!==t.angle&&(r="rotate(".concat(t.angle,"deg) ").concat(r)),0<r.length&&(this._enhanceTextSelection&&(t.originalTransform=r),e.style.transform=r),this._textDivProperties.set(e,t),this._container.appendChild(e)}},_render:function(e){var n=this,a=(0,P.createPromiseCapability)(),i=Object.create(null),t=this._document.createElement("canvas");if(t.height=t.width=C,t.mozOpaque=!0,this._layoutTextCtx=t.getContext("2d",{alpha:!1}),this._textContent){var r=this._textContent.items,s=this._textContent.styles;this._processItems(r,s),a.resolve()}else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');this._reader=this._textContentStream.getReader(),function r(){n._reader.read().then(function(e){var t=e.value;e.done?a.resolve():(Object.assign(i,t.styles),n._processItems(t.items,i),r())},a.reject)}()}a.promise.then(function(){i=null,e?n._renderTimer=setTimeout(function(){o(n),n._renderTimer=null},e):o(n)},this._capability.reject)},expandTextDivs:function(e){if(this._enhanceTextSelection&&this._renderingDone){null!==this._bounds&&(l(this),this._bounds=null);for(var t=[],r=[],n=0,a=this._textDivs.length;n<a;n++){var i=this._textDivs[n],s=this._textDivProperties.get(i);s.isWhitespace||(e?(t.length=0,r.length=0,s.originalTransform&&t.push(s.originalTransform),0<s.paddingTop?(r.push("".concat(s.paddingTop,"px")),t.push("translateY(".concat(-s.paddingTop,"px)"))):r.push(0),0<s.paddingRight?r.push("".concat(s.paddingRight/s.scale,"px")):r.push(0),0<s.paddingBottom?r.push("".concat(s.paddingBottom,"px")):r.push(0),0<s.paddingLeft?(r.push("".concat(s.paddingLeft/s.scale,"px")),t.push("translateX(".concat(-s.paddingLeft/s.scale,"px)"))):r.push(0),i.style.padding=r.join(" "),t.length&&(i.style.transform=t.join(" "))):(i.style.padding=null,i.style.transform=s.originalTransform))}}}},function(e){var t=new r({textContent:e.textContent,textContentStream:e.textContentStream,container:e.container,viewport:e.viewport,textDivs:e.textDivs,textContentItemsStr:e.textContentItemsStr,enhanceTextSelection:e.enhanceTextSelection});return t._render(e.timeout),t}}();t.renderTextLayer=n},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.SVGGraphics=void 0;var E=r(2),i=r(1),S=r(4),n=function(){throw new Error("Not implemented: SVGGraphics")};t.SVGGraphics=n;var R=function(e){if(Number.isInteger(e))return e.toString();var t=e.toFixed(10),r=t.length-1;if("0"!==t[r])return t;for(;"0"===t[--r];);return t.substring(0,"."===t[r]?r:r+1)},T=function(e){if(0===e[4]&&0===e[5]){if(0===e[1]&&0===e[2])return 1===e[0]&&1===e[3]?"":"scale(".concat(R(e[0])," ").concat(R(e[3]),")");if(e[0]===e[3]&&e[1]===-e[2]){var t=180*Math.acos(e[0])/Math.PI;return"rotate(".concat(R(t),")")}}else if(1===e[0]&&0===e[1]&&0===e[2]&&1===e[3])return"translate(".concat(R(e[4])," ").concat(R(e[5]),")");return"matrix(".concat(R(e[0])," ").concat(R(e[1])," ").concat(R(e[2])," ").concat(R(e[3])," ").concat(R(e[4])," ")+"".concat(R(e[5]),")")},F="normal",L="normal",O="#000000",s=["butt","round","square"],o=["miter","round","bevel"],l=function(){for(var A=new Uint8Array([137,80,78,71,13,10,26,10]),o=new Int32Array(256),e=0;e<256;e++){for(var t=e,r=0;r<8;r++)t=1&t?3988292384^t>>1&2147483647:t>>1&2147483647;o[e]=t}function k(e,t,r,n){var a=n,i=t.length;r[a]=i>>24&255,r[a+1]=i>>16&255,r[a+2]=i>>8&255,r[a+3]=255&i,r[a+=4]=255&e.charCodeAt(0),r[a+1]=255&e.charCodeAt(1),r[a+2]=255&e.charCodeAt(2),r[a+3]=255&e.charCodeAt(3),a+=4,r.set(t,a);var s=function(e,t,r){for(var n=-1,a=t;a<r;a++){var i=255&(n^e[a]);n=n>>>8^o[i]}return-1^n}(r,n+4,a+=t.length);r[a]=s>>24&255,r[a+1]=s>>16&255,r[a+2]=s>>8&255,r[a+3]=255&s}function C(e){var t=e.length,r=65535,n=Math.ceil(t/r),a=new Uint8Array(2+t+5*n+4),i=0;a[i++]=120,a[i++]=156;for(var s=0;r<t;)a[i++]=0,a[i++]=255,a[i++]=255,a[i++]=0,a[i++]=0,a.set(e.subarray(s,s+r),i),i+=r,s+=r,t-=r;a[i++]=1,a[i++]=255&t,a[i++]=t>>8&255,a[i++]=255&~t,a[i++]=(65535&~t)>>8&255,a.set(e.subarray(s),i),i+=e.length-s;var o=function(e,t,r){for(var n=1,a=0,i=t;i<r;++i)a=(a+(n=(n+(255&e[i]))%65521))%65521;return a<<16|n}(e,0,e.length);return a[i++]=o>>24&255,a[i++]=o>>16&255,a[i++]=o>>8&255,a[i++]=255&o,a}function n(e,t,r,n){var a,i,s,o=e.width,l=e.height,c=e.data;switch(t){case E.ImageKind.GRAYSCALE_1BPP:i=0,a=1,s=o+7>>3;break;case E.ImageKind.RGB_24BPP:i=2,a=8,s=3*o;break;case E.ImageKind.RGBA_32BPP:i=6,a=8,s=4*o;break;default:throw new Error("invalid format")}for(var u=new Uint8Array((1+s)*l),h=0,d=0,f=0;f<l;++f)u[h++]=0,u.set(c.subarray(d,d+s),h),d+=s,h+=s;if(t===E.ImageKind.GRAYSCALE_1BPP&&n)for(var p=h=0;p<l;p++){h++;for(var v=0;v<s;v++)u[h++]^=255}var g=new Uint8Array([o>>24&255,o>>16&255,o>>8&255,255&o,l>>24&255,l>>16&255,l>>8&255,255&l,a,i,0,0,0]),m=function(e){if(!S.isNodeJS)return C(e);try{var t;t=8<=parseInt(process.versions.node)?e:Buffer.from(e);var r=require("zlib").deflateSync(t,{level:9});return r instanceof Uint8Array?r:new Uint8Array(r)}catch(e){(0,E.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+e)}return C(e)}(u),_=A.length+36+g.length+m.length,y=new Uint8Array(_),b=0;return y.set(A,b),k("IHDR",g,y,b+=A.length),k("IDATA",m,y,b+=12+g.length),b+=12+m.length,k("IEND",new Uint8Array(0),y,b),(0,E.createObjectURL)(y,"image/png",r)}return function(e,t,r){return n(e,void 0===e.kind?E.ImageKind.GRAYSCALE_1BPP:e.kind,t,r)}}(),c=function(){function e(){_classCallCheck(this,e),this.fontSizeScale=1,this.fontWeight=L,this.fontSize=0,this.textMatrix=E.IDENTITY_MATRIX,this.fontMatrix=E.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=E.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=O,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}return _createClass(e,[{key:"clone",value:function(){return Object.create(this)}},{key:"setCurrentPoint",value:function(e,t){this.x=e,this.y=t}}]),e}(),u=0,h=0,M=0;t.SVGGraphics=n=function(){function a(e,t){var r=2<arguments.length&&void 0!==arguments[2]&&arguments[2];for(var n in _classCallCheck(this,a),this.svgFactory=new i.DOMSVGFactory,this.current=new c,this.transformMatrix=E.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=e,this.objs=t,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!r,this._operatorIdMapping=[],E.OPS)this._operatorIdMapping[E.OPS[n]]=n}return _createClass(a,[{key:"save",value:function(){this.transformStack.push(this.transformMatrix);var e=this.current;this.extraStack.push(e),this.current=e.clone()}},{key:"restore",value:function(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}},{key:"group",value:function(e){this.save(),this.executeOpTree(e),this.restore()}},{key:"loadDependencies",value:function(e){for(var n=this,t=e.fnArray,r=e.argsArray,a=0,i=t.length;a<i;a++)if(t[a]===E.OPS.dependency){var s,o=_createForOfIteratorHelper(r[a]);try{var l=function(){var t=s.value,r=t.startsWith("g_")?n.commonObjs:n.objs,e=new Promise(function(e){r.get(t,e)});n.current.dependencies.push(e)};for(o.s();!(s=o.n()).done;)l()}catch(e){o.e(e)}finally{o.f()}}return Promise.all(this.current.dependencies)}},{key:"transform",value:function(e,t,r,n,a,i){var s=[e,t,r,n,a,i];this.transformMatrix=E.Util.transform(this.transformMatrix,s),this.tgrp=null}},{key:"getSVG",value:function(e,t){var r=this;this.viewport=t;var n=this._initialize(t);return this.loadDependencies(e).then(function(){return r.transformMatrix=E.IDENTITY_MATRIX,r.executeOpTree(r.convertOpList(e)),n})}},{key:"convertOpList",value:function(e){for(var t=this._operatorIdMapping,r=e.argsArray,n=e.fnArray,a=[],i=0,s=n.length;i<s;i++){var o=n[i];a.push({fnId:o,fn:t[o],args:r[i]})}return function(e){var t,r=[],n=[],a=_createForOfIteratorHelper(e);try{for(a.s();!(t=a.n()).done;){var i=t.value;"save"!==i.fn?"restore"===i.fn?r=n.pop():r.push(i):(r.push({fnId:92,fn:"group",items:[]}),n.push(r),r=r[r.length-1].items)}}catch(e){a.e(e)}finally{a.f()}return r}(a)}},{key:"executeOpTree",value:function(e){var t,r=_createForOfIteratorHelper(e);try{for(r.s();!(t=r.n()).done;){var n=t.value,a=n.fn,i=n.fnId,s=n.args;switch(0|i){case E.OPS.beginText:this.beginText();break;case E.OPS.dependency:break;case E.OPS.setLeading:this.setLeading(s);break;case E.OPS.setLeadingMoveText:this.setLeadingMoveText(s[0],s[1]);break;case E.OPS.setFont:this.setFont(s);break;case E.OPS.showText:case E.OPS.showSpacedText:this.showText(s[0]);break;case E.OPS.endText:this.endText();break;case E.OPS.moveText:this.moveText(s[0],s[1]);break;case E.OPS.setCharSpacing:this.setCharSpacing(s[0]);break;case E.OPS.setWordSpacing:this.setWordSpacing(s[0]);break;case E.OPS.setHScale:this.setHScale(s[0]);break;case E.OPS.setTextMatrix:this.setTextMatrix(s[0],s[1],s[2],s[3],s[4],s[5]);break;case E.OPS.setTextRise:this.setTextRise(s[0]);break;case E.OPS.setTextRenderingMode:this.setTextRenderingMode(s[0]);break;case E.OPS.setLineWidth:this.setLineWidth(s[0]);break;case E.OPS.setLineJoin:this.setLineJoin(s[0]);break;case E.OPS.setLineCap:this.setLineCap(s[0]);break;case E.OPS.setMiterLimit:this.setMiterLimit(s[0]);break;case E.OPS.setFillRGBColor:this.setFillRGBColor(s[0],s[1],s[2]);break;case E.OPS.setStrokeRGBColor:this.setStrokeRGBColor(s[0],s[1],s[2]);break;case E.OPS.setStrokeColorN:this.setStrokeColorN(s);break;case E.OPS.setFillColorN:this.setFillColorN(s);break;case E.OPS.shadingFill:this.shadingFill(s[0]);break;case E.OPS.setDash:this.setDash(s[0],s[1]);break;case E.OPS.setRenderingIntent:this.setRenderingIntent(s[0]);break;case E.OPS.setFlatness:this.setFlatness(s[0]);break;case E.OPS.setGState:this.setGState(s[0]);break;case E.OPS.fill:this.fill();break;case E.OPS.eoFill:this.eoFill();break;case E.OPS.stroke:this.stroke();break;case E.OPS.fillStroke:this.fillStroke();break;case E.OPS.eoFillStroke:this.eoFillStroke();break;case E.OPS.clip:this.clip("nonzero");break;case E.OPS.eoClip:this.clip("evenodd");break;case E.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case E.OPS.paintImageXObject:this.paintImageXObject(s[0]);break;case E.OPS.paintInlineImageXObject:this.paintInlineImageXObject(s[0]);break;case E.OPS.paintImageMaskXObject:this.paintImageMaskXObject(s[0]);break;case E.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(s[0],s[1]);break;case E.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case E.OPS.closePath:this.closePath();break;case E.OPS.closeStroke:this.closeStroke();break;case E.OPS.closeFillStroke:this.closeFillStroke();break;case E.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case E.OPS.nextLine:this.nextLine();break;case E.OPS.transform:this.transform(s[0],s[1],s[2],s[3],s[4],s[5]);break;case E.OPS.constructPath:this.constructPath(s[0],s[1]);break;case E.OPS.endPath:this.endPath();break;case 92:this.group(n.items);break;default:(0,E.warn)("Unimplemented operator ".concat(a))}}}catch(e){r.e(e)}finally{r.f()}}},{key:"setWordSpacing",value:function(e){this.current.wordSpacing=e}},{key:"setCharSpacing",value:function(e){this.current.charSpacing=e}},{key:"nextLine",value:function(){this.moveText(0,this.current.leading)}},{key:"setTextMatrix",value:function(e,t,r,n,a,i){var s=this.current;s.textMatrix=s.lineMatrix=[e,t,r,n,a,i],s.textMatrixScale=Math.hypot(e,t),s.x=s.lineX=0,s.y=s.lineY=0,s.xcoords=[],s.ycoords=[],s.tspan=this.svgFactory.createElement("svg:tspan"),s.tspan.setAttributeNS(null,"font-family",s.fontFamily),s.tspan.setAttributeNS(null,"font-size","".concat(R(s.fontSize),"px")),s.tspan.setAttributeNS(null,"y",R(-s.y)),s.txtElement=this.svgFactory.createElement("svg:text"),s.txtElement.appendChild(s.tspan)}},{key:"beginText",value:function(){var e=this.current;e.x=e.lineX=0,e.y=e.lineY=0,e.textMatrix=E.IDENTITY_MATRIX,e.lineMatrix=E.IDENTITY_MATRIX,e.textMatrixScale=1,e.tspan=this.svgFactory.createElement("svg:tspan"),e.txtElement=this.svgFactory.createElement("svg:text"),e.txtgrp=this.svgFactory.createElement("svg:g"),e.xcoords=[],e.ycoords=[]}},{key:"moveText",value:function(e,t){var r=this.current;r.x=r.lineX+=e,r.y=r.lineY+=t,r.xcoords=[],r.ycoords=[],r.tspan=this.svgFactory.createElement("svg:tspan"),r.tspan.setAttributeNS(null,"font-family",r.fontFamily),r.tspan.setAttributeNS(null,"font-size","".concat(R(r.fontSize),"px")),r.tspan.setAttributeNS(null,"y",R(-r.y))}},{key:"showText",value:function(e){var t=this.current,r=t.font,n=t.fontSize;if(0!==n){var a,i=t.fontSizeScale,s=t.charSpacing,o=t.wordSpacing,l=t.fontDirection,c=t.textHScale*l,u=r.vertical,h=u?1:-1,d=r.defaultVMetrics,f=n*t.fontMatrix[0],p=0,v=_createForOfIteratorHelper(e);try{for(v.s();!(a=v.n()).done;){var g=a.value;if(null!==g)if((0,E.isNum)(g))p+=h*g*n/1e3;else{var m=(g.isSpace?o:0)+s,_=g.fontChar,y=void 0,b=void 0,A=g.width;if(u){var k=void 0,C=g.vmetric||d;k=-(k=g.vmetric?C[1]:.5*A)*f;var S=C[2]*f;A=C?-C[0]:A,y=k/i,b=(p+S)/i}else y=p/i,b=0;(g.isInFont||r.missingFile)&&(t.xcoords.push(t.x+y),u&&t.ycoords.push(-t.y+b),t.tspan.textContent+=_);p+=u?A*f-m*l:A*f+m*l}else p+=l*o}}catch(e){v.e(e)}finally{v.f()}t.tspan.setAttributeNS(null,"x",t.xcoords.map(R).join(" ")),u?t.tspan.setAttributeNS(null,"y",t.ycoords.map(R).join(" ")):t.tspan.setAttributeNS(null,"y",R(-t.y)),u?t.y-=p:t.x+=p*c,t.tspan.setAttributeNS(null,"font-family",t.fontFamily),t.tspan.setAttributeNS(null,"font-size","".concat(R(t.fontSize),"px")),t.fontStyle!==F&&t.tspan.setAttributeNS(null,"font-style",t.fontStyle),t.fontWeight!==L&&t.tspan.setAttributeNS(null,"font-weight",t.fontWeight);var x=t.textRenderingMode&E.TextRenderingMode.FILL_STROKE_MASK;if(x===E.TextRenderingMode.FILL||x===E.TextRenderingMode.FILL_STROKE?(t.fillColor!==O&&t.tspan.setAttributeNS(null,"fill",t.fillColor),t.fillAlpha<1&&t.tspan.setAttributeNS(null,"fill-opacity",t.fillAlpha)):t.textRenderingMode===E.TextRenderingMode.ADD_TO_PATH?t.tspan.setAttributeNS(null,"fill","transparent"):t.tspan.setAttributeNS(null,"fill","none"),x===E.TextRenderingMode.STROKE||x===E.TextRenderingMode.FILL_STROKE){var w=1/(t.textMatrixScale||1);this._setStrokeAttributes(t.tspan,w)}var P=t.textMatrix;0!==t.textRise&&((P=P.slice())[5]+=t.textRise),t.txtElement.setAttributeNS(null,"transform","".concat(T(P)," scale(").concat(R(c),", -1)")),t.txtElement.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),t.txtElement.appendChild(t.tspan),t.txtgrp.appendChild(t.txtElement),this._ensureTransformGroup().appendChild(t.txtElement)}}},{key:"setLeadingMoveText",value:function(e,t){this.setLeading(-t),this.moveText(e,t)}},{key:"addFontStyle",value:function(e){if(!e.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));var t=(0,E.createObjectURL)(e.data,e.mimetype,this.forceDataSchema);this.cssStyle.textContent+='@font-face { font-family: "'.concat(e.loadedName,'";')+" src: url(".concat(t,"); }\n")}},{key:"setFont",value:function(e){var t=this.current,r=this.commonObjs.get(e[0]),n=e[1];t.font=r,!this.embedFonts||r.missingFile||this.embeddedFonts[r.loadedName]||(this.addFontStyle(r),this.embeddedFonts[r.loadedName]=r),t.fontMatrix=r.fontMatrix||E.FONT_IDENTITY_MATRIX;var a="normal";r.black?a="900":r.bold&&(a="bold");var i=r.italic?"italic":"normal";t.fontDirection=n<0?(n=-n,-1):1,t.fontSize=n,t.fontFamily=r.loadedName,t.fontWeight=a,t.fontStyle=i,t.tspan=this.svgFactory.createElement("svg:tspan"),t.tspan.setAttributeNS(null,"y",R(-t.y)),t.xcoords=[],t.ycoords=[]}},{key:"endText",value:function(){var e,t=this.current;t.textRenderingMode&E.TextRenderingMode.ADD_TO_PATH_FLAG&&null!==(e=t.txtElement)&&void 0!==e&&e.hasChildNodes()&&(t.element=t.txtElement,this.clip("nonzero"),this.endPath())}},{key:"setLineWidth",value:function(e){0<e&&(this.current.lineWidth=e)}},{key:"setLineCap",value:function(e){this.current.lineCap=s[e]}},{key:"setLineJoin",value:function(e){this.current.lineJoin=o[e]}},{key:"setMiterLimit",value:function(e){this.current.miterLimit=e}},{key:"setStrokeAlpha",value:function(e){this.current.strokeAlpha=e}},{key:"setStrokeRGBColor",value:function(e,t,r){this.current.strokeColor=E.Util.makeHexColor(e,t,r)}},{key:"setFillAlpha",value:function(e){this.current.fillAlpha=e}},{key:"setFillRGBColor",value:function(e,t,r){this.current.fillColor=E.Util.makeHexColor(e,t,r),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}},{key:"setStrokeColorN",value:function(e){this.current.strokeColor=this._makeColorN_Pattern(e)}},{key:"setFillColorN",value:function(e){this.current.fillColor=this._makeColorN_Pattern(e)}},{key:"shadingFill",value:function(e){var t=this.viewport.width,r=this.viewport.height,n=E.Util.inverseTransform(this.transformMatrix),a=E.Util.applyTransform([0,0],n),i=E.Util.applyTransform([0,r],n),s=E.Util.applyTransform([t,0],n),o=E.Util.applyTransform([t,r],n),l=Math.min(a[0],i[0],s[0],o[0]),c=Math.min(a[1],i[1],s[1],o[1]),u=Math.max(a[0],i[0],s[0],o[0]),h=Math.max(a[1],i[1],s[1],o[1]),d=this.svgFactory.createElement("svg:rect");d.setAttributeNS(null,"x",l),d.setAttributeNS(null,"y",c),d.setAttributeNS(null,"width",u-l),d.setAttributeNS(null,"height",h-c),d.setAttributeNS(null,"fill",this._makeShadingPattern(e)),this.current.fillAlpha<1&&d.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().appendChild(d)}},{key:"_makeColorN_Pattern",value:function(e){return"TilingPattern"===e[0]?this._makeTilingPattern(e):this._makeShadingPattern(e)}},{key:"_makeTilingPattern",value:function(e){var t=e[1],r=e[2],n=e[3]||E.IDENTITY_MATRIX,a=_slicedToArray(e[4],4),i=a[0],s=a[1],o=a[2],l=a[3],c=e[5],u=e[6],h=e[7],d="shading".concat(M++),f=_slicedToArray(E.Util.applyTransform([i,s],n),2),p=f[0],v=f[1],g=_slicedToArray(E.Util.applyTransform([o,l],n),2),m=g[0],_=g[1],y=_slicedToArray(E.Util.singularValueDecompose2dScale(n),2),b=c*y[0],A=u*y[1],k=this.svgFactory.createElement("svg:pattern");k.setAttributeNS(null,"id",d),k.setAttributeNS(null,"patternUnits","userSpaceOnUse"),k.setAttributeNS(null,"width",b),k.setAttributeNS(null,"height",A),k.setAttributeNS(null,"x","".concat(p)),k.setAttributeNS(null,"y","".concat(v));var C=this.svg,S=this.transformMatrix,x=this.current.fillColor,w=this.current.strokeColor,P=this.svgFactory.create(m-p,_-v);if(this.svg=P,this.transformMatrix=n,2===h){var R,T=(R=E.Util).makeHexColor.apply(R,_toConsumableArray(t));this.current.fillColor=T,this.current.strokeColor=T}return this.executeOpTree(this.convertOpList(r)),this.svg=C,this.transformMatrix=S,this.current.fillColor=x,this.current.strokeColor=w,k.appendChild(P.childNodes[0]),this.defs.appendChild(k),"url(#".concat(d,")")}},{key:"_makeShadingPattern",value:function(e){switch(e[0]){case"RadialAxial":var t,r="shading".concat(M++),n=e[3];switch(e[1]){case"axial":var a=e[4],i=e[5];(t=this.svgFactory.createElement("svg:linearGradient")).setAttributeNS(null,"id",r),t.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),t.setAttributeNS(null,"x1",a[0]),t.setAttributeNS(null,"y1",a[1]),t.setAttributeNS(null,"x2",i[0]),t.setAttributeNS(null,"y2",i[1]);break;case"radial":var s=e[4],o=e[5],l=e[6],c=e[7];(t=this.svgFactory.createElement("svg:radialGradient")).setAttributeNS(null,"id",r),t.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),t.setAttributeNS(null,"cx",o[0]),t.setAttributeNS(null,"cy",o[1]),t.setAttributeNS(null,"r",c),t.setAttributeNS(null,"fx",s[0]),t.setAttributeNS(null,"fy",s[1]),t.setAttributeNS(null,"fr",l);break;default:throw new Error("Unknown RadialAxial type: ".concat(e[1]))}var u,h=_createForOfIteratorHelper(n);try{for(h.s();!(u=h.n()).done;){var d=u.value,f=this.svgFactory.createElement("svg:stop");f.setAttributeNS(null,"offset",d[0]),f.setAttributeNS(null,"stop-color",d[1]),t.appendChild(f)}}catch(e){h.e(e)}finally{h.f()}return this.defs.appendChild(t),"url(#".concat(r,")");case"Mesh":return(0,E.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error("Unknown IR type: ".concat(e[0]))}}},{key:"setDash",value:function(e,t){this.current.dashArray=e,this.current.dashPhase=t}},{key:"constructPath",value:function(e,t){var r,n=this.current,a=n.x,i=n.y,s=[],o=0,l=_createForOfIteratorHelper(e);try{for(l.s();!(r=l.n()).done;){switch(0|r.value){case E.OPS.rectangle:a=t[o++],i=t[o++];var c=t[o++],u=t[o++],h=a+c,d=i+u;s.push("M",R(a),R(i),"L",R(h),R(i),"L",R(h),R(d),"L",R(a),R(d),"Z");break;case E.OPS.moveTo:a=t[o++],i=t[o++],s.push("M",R(a),R(i));break;case E.OPS.lineTo:a=t[o++],i=t[o++],s.push("L",R(a),R(i));break;case E.OPS.curveTo:a=t[o+4],i=t[o+5],s.push("C",R(t[o]),R(t[o+1]),R(t[o+2]),R(t[o+3]),R(a),R(i)),o+=6;break;case E.OPS.curveTo2:s.push("C",R(a),R(i),R(t[o]),R(t[o+1]),R(t[o+2]),R(t[o+3])),a=t[o+2],i=t[o+3],o+=4;break;case E.OPS.curveTo3:a=t[o+2],i=t[o+3],s.push("C",R(t[o]),R(t[o+1]),R(a),R(i),R(a),R(i)),o+=4;break;case E.OPS.closePath:s.push("Z")}}}catch(e){l.e(e)}finally{l.f()}s=s.join(" "),n.path&&0<e.length&&e[0]!==E.OPS.rectangle&&e[0]!==E.OPS.moveTo?s=n.path.getAttributeNS(null,"d")+s:(n.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(n.path)),n.path.setAttributeNS(null,"d",s),n.path.setAttributeNS(null,"fill","none"),n.element=n.path,n.setCurrentPoint(a,i)}},{key:"endPath",value:function(){var e=this.current;if(e.path=null,this.pendingClip)if(e.element){var t="clippath".concat(u++),r=this.svgFactory.createElement("svg:clipPath");r.setAttributeNS(null,"id",t),r.setAttributeNS(null,"transform",T(this.transformMatrix));var n=e.element.cloneNode(!0);"evenodd"===this.pendingClip?n.setAttributeNS(null,"clip-rule","evenodd"):n.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,r.appendChild(n),this.defs.appendChild(r),e.activeClipUrl&&(e.clipGroup=null,this.extraStack.forEach(function(e){e.clipGroup=null}),r.setAttributeNS(null,"clip-path",e.activeClipUrl)),e.activeClipUrl="url(#".concat(t,")"),this.tgrp=null}else this.pendingClip=null}},{key:"clip",value:function(e){this.pendingClip=e}},{key:"closePath",value:function(){var e=this.current;if(e.path){var t="".concat(e.path.getAttributeNS(null,"d"),"Z");e.path.setAttributeNS(null,"d",t)}}},{key:"setLeading",value:function(e){this.current.leading=-e}},{key:"setTextRise",value:function(e){this.current.textRise=e}},{key:"setTextRenderingMode",value:function(e){this.current.textRenderingMode=e}},{key:"setHScale",value:function(e){this.current.textHScale=e/100}},{key:"setRenderingIntent",value:function(e){}},{key:"setFlatness",value:function(e){}},{key:"setGState",value:function(e){var t,r=_createForOfIteratorHelper(e);try{for(r.s();!(t=r.n()).done;){var n=_slicedToArray(t.value,2),a=n[0],i=n[1];switch(a){case"LW":this.setLineWidth(i);break;case"LC":this.setLineCap(i);break;case"LJ":this.setLineJoin(i);break;case"ML":this.setMiterLimit(i);break;case"D":this.setDash(i[0],i[1]);break;case"RI":this.setRenderingIntent(i);break;case"FL":this.setFlatness(i);break;case"Font":this.setFont(i);break;case"CA":this.setStrokeAlpha(i);break;case"ca":this.setFillAlpha(i);break;default:(0,E.warn)("Unimplemented graphic state operator ".concat(a))}}}catch(e){r.e(e)}finally{r.f()}}},{key:"fill",value:function(){var e=this.current;e.element&&(e.element.setAttributeNS(null,"fill",e.fillColor),e.element.setAttributeNS(null,"fill-opacity",e.fillAlpha),this.endPath())}},{key:"stroke",value:function(){var e=this.current;e.element&&(this._setStrokeAttributes(e.element),e.element.setAttributeNS(null,"fill","none"),this.endPath())}},{key:"_setStrokeAttributes",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,r=this.current,n=r.dashArray;1!==t&&0<n.length&&(n=n.map(function(e){return t*e})),e.setAttributeNS(null,"stroke",r.strokeColor),e.setAttributeNS(null,"stroke-opacity",r.strokeAlpha),e.setAttributeNS(null,"stroke-miterlimit",R(r.miterLimit)),e.setAttributeNS(null,"stroke-linecap",r.lineCap),e.setAttributeNS(null,"stroke-linejoin",r.lineJoin),e.setAttributeNS(null,"stroke-width",R(t*r.lineWidth)+"px"),e.setAttributeNS(null,"stroke-dasharray",n.map(R).join(" ")),e.setAttributeNS(null,"stroke-dashoffset",R(t*r.dashPhase)+"px")}},{key:"eoFill",value:function(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}},{key:"fillStroke",value:function(){this.stroke(),this.fill()}},{key:"eoFillStroke",value:function(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}},{key:"closeStroke",value:function(){this.closePath(),this.stroke()}},{key:"closeFillStroke",value:function(){this.closePath(),this.fillStroke()}},{key:"closeEOFillStroke",value:function(){this.closePath(),this.eoFillStroke()}},{key:"paintSolidColorImageMask",value:function(){var e=this.svgFactory.createElement("svg:rect");e.setAttributeNS(null,"x","0"),e.setAttributeNS(null,"y","0"),e.setAttributeNS(null,"width","1px"),e.setAttributeNS(null,"height","1px"),e.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(e)}},{key:"paintImageXObject",value:function(e){var t=e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e);t?this.paintInlineImageXObject(t):(0,E.warn)("Dependent image with object ID ".concat(e," is not ready yet"))}},{key:"paintInlineImageXObject",value:function(e,t){var r=e.width,n=e.height,a=l(e,this.forceDataSchema,!!t),i=this.svgFactory.createElement("svg:rect");i.setAttributeNS(null,"x","0"),i.setAttributeNS(null,"y","0"),i.setAttributeNS(null,"width",R(r)),i.setAttributeNS(null,"height",R(n)),this.current.element=i,this.clip("nonzero");var s=this.svgFactory.createElement("svg:image");s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a),s.setAttributeNS(null,"x","0"),s.setAttributeNS(null,"y",R(-n)),s.setAttributeNS(null,"width",R(r)+"px"),s.setAttributeNS(null,"height",R(n)+"px"),s.setAttributeNS(null,"transform","scale(".concat(R(1/r)," ").concat(R(-1/n),")")),t?t.appendChild(s):this._ensureTransformGroup().appendChild(s)}},{key:"paintImageMaskXObject",value:function(e){var t=this.current,r=e.width,n=e.height,a=t.fillColor;t.maskId="mask".concat(h++);var i=this.svgFactory.createElement("svg:mask");i.setAttributeNS(null,"id",t.maskId);var s=this.svgFactory.createElement("svg:rect");s.setAttributeNS(null,"x","0"),s.setAttributeNS(null,"y","0"),s.setAttributeNS(null,"width",R(r)),s.setAttributeNS(null,"height",R(n)),s.setAttributeNS(null,"fill",a),s.setAttributeNS(null,"mask","url(#".concat(t.maskId,")")),this.defs.appendChild(i),this._ensureTransformGroup().appendChild(s),this.paintInlineImageXObject(e,i)}},{key:"paintFormXObjectBegin",value:function(e,t){if(Array.isArray(e)&&6===e.length&&this.transform(e[0],e[1],e[2],e[3],e[4],e[5]),t){var r=t[2]-t[0],n=t[3]-t[1],a=this.svgFactory.createElement("svg:rect");a.setAttributeNS(null,"x",t[0]),a.setAttributeNS(null,"y",t[1]),a.setAttributeNS(null,"width",R(r)),a.setAttributeNS(null,"height",R(n)),this.current.element=a,this.clip("nonzero"),this.endPath()}}},{key:"paintFormXObjectEnd",value:function(){}},{key:"_initialize",value:function(e){var t=this.svgFactory.create(e.width,e.height),r=this.svgFactory.createElement("svg:defs");t.appendChild(r),this.defs=r;var n=this.svgFactory.createElement("svg:g");return n.setAttributeNS(null,"transform",T(e.transform)),t.appendChild(n),this.svg=n,t}},{key:"_ensureClipGroup",value:function(){if(!this.current.clipGroup){var e=this.svgFactory.createElement("svg:g");e.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(e),this.current.clipGroup=e}return this.current.clipGroup}},{key:"_ensureTransformGroup",value:function(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",T(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}]),a}()},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.XfaLayer=void 0;var r=function(){function f(){_classCallCheck(this,f)}return _createClass(f,null,[{key:"setAttributes",value:function(e,t){for(var r=0,n=Object.entries(t);r<n.length;r++){var a=_slicedToArray(n[r],2),i=a[0],s=a[1];null!=s&&("style"!==i?e.setAttribute(i,s):Object.assign(e.style,s))}}},{key:"render",value:function(e){var t=e.xfa,r=document.createElement(t.name);t.attributes&&f.setAttributes(r,t.attributes);var n=[[t,-1,r]],a=e.div;a.appendChild(r);var i=e.viewport.transform.join(",");for(a.style.transform="matrix(".concat(i,")"),a.setAttribute("class","xfaLayer xfaFont");0<n.length;){var s=_slicedToArray(n[n.length-1],3),o=s[0],l=s[1],c=s[2];if(l+1!==o.children.length){var u=o.children[++n[n.length-1][1]];if(null!==u){var h=u.name;if("#text"!==h){var d=document.createElement(h);c.appendChild(d),u.attributes&&f.setAttributes(d,u.attributes),u.children&&0<u.children.length?n.push([u,-1,d]):u.value&&d.appendChild(document.createTextNode(u.value))}else c.appendChild(document.createTextNode(u.value))}}else n.pop()}}},{key:"update",value:function(e){var t="matrix(".concat(e.viewport.transform.join(","),")");e.div.style.transform=t,e.div.hidden=!1}}]),f}();t.XfaLayer=r},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.PDFNodeStream=void 0;var c=r(2),l=r(24),o=require("fs"),u=require("http"),h=require("https"),a=require("url"),d=/^file:\/\/\/[a-zA-Z]:\//;var n=function(){function n(e){var t,r;_classCallCheck(this,n),this.source=e,this.url=(t=e.url,"file:"===(r=a.parse(t)).protocol||r.host?r:/^[a-z]:[/\\]/i.test(t)?a.parse("file:///".concat(t)):(r.host||(r.protocol="file:"),r)),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}return _createClass(n,[{key:"_progressiveDataLength",get:function(){var e,t;return null!==(e=null===(t=this._fullRequestReader)||void 0===t?void 0:t._loaded)&&void 0!==e?e:0}},{key:"getFullReader",value:function(){return(0,c.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new g(this):new s(this),this._fullRequestReader}},{key:"getRangeReader",value:function(e,t){if(t<=this._progressiveDataLength)return null;var r=this.isFsUrl?new m(this,e,t):new v(this,e,t);return this._rangeRequestReaders.push(r),r}},{key:"cancelAllRequests",value:function(t){this._fullRequestReader&&this._fullRequestReader.cancel(t),this._rangeRequestReaders.slice(0).forEach(function(e){e.cancel(t)})}}]),n}();t.PDFNodeStream=n;var i=function(){function r(e){_classCallCheck(this,r),this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;var t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=(0,c.createPromiseCapability)(),this._headersCapability=(0,c.createPromiseCapability)()}var e;return _createClass(r,[{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:(e=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,r;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._readCapability.promise;case 2:if(this._done)return e.abrupt("return",{value:void 0,done:!0});e.next=4;break;case 4:if(this._storedError)throw this._storedError;e.next=6;break;case 6:if(null===(t=this._readableStream.read()))return this._readCapability=(0,c.createPromiseCapability)(),e.abrupt("return",this.read());e.next=10;break;case 10:return this._loaded+=t.length,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),r=new Uint8Array(t).buffer,e.abrupt("return",{value:r,done:!1});case 14:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"cancel",value:function(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}},{key:"_error",value:function(e){this._storedError=e,this._readCapability.resolve()}},{key:"_setReadableStream",value:function(e){var t=this;(this._readableStream=e).on("readable",function(){t._readCapability.resolve()}),e.on("end",function(){e.destroy(),t._done=!0,t._readCapability.resolve()}),e.on("error",function(e){t._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new c.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}]),r}(),f=function(){function r(e){_classCallCheck(this,r),this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,c.createPromiseCapability)();var t=e.source;this._isStreamingSupported=!t.disableStream}var e;return _createClass(r,[{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:(e=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,r;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._readCapability.promise;case 2:if(this._done)return e.abrupt("return",{value:void 0,done:!0});e.next=4;break;case 4:if(this._storedError)throw this._storedError;e.next=6;break;case 6:if(null===(t=this._readableStream.read()))return this._readCapability=(0,c.createPromiseCapability)(),e.abrupt("return",this.read());e.next=10;break;case 10:return this._loaded+=t.length,this.onProgress&&this.onProgress({loaded:this._loaded}),r=new Uint8Array(t).buffer,e.abrupt("return",{value:r,done:!1});case 14:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"cancel",value:function(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}},{key:"_error",value:function(e){this._storedError=e,this._readCapability.resolve()}},{key:"_setReadableStream",value:function(e){var t=this;(this._readableStream=e).on("readable",function(){t._readCapability.resolve()}),e.on("end",function(){e.destroy(),t._done=!0,t._readCapability.resolve()}),e.on("error",function(e){t._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}]),r}();function p(e,t){return{protocol:e.protocol,auth:e.auth,host:e.hostname,port:e.port,path:e.path,method:"GET",headers:t}}var s=function(e){_inherits(r,i);var t=_createSuper(r);function r(s){var o;_classCallCheck(this,r);var e=function(e){if(404===e.statusCode){var t=new c.MissingPDFException('Missing PDF "'.concat(o._url,'".'));return o._storedError=t,void o._headersCapability.reject(t)}o._headersCapability.resolve(),o._setReadableStream(e);var r=function(e){return o._readableStream.headers[e.toLowerCase()]},n=(0,l.validateRangeRequestCapabilities)({getResponseHeader:r,isHttp:s.isHttp,rangeChunkSize:o._rangeChunkSize,disableRange:o._disableRange}),a=n.allowRangeRequests,i=n.suggestedLength;o._isRangeSupported=a,o._contentLength=i||o._contentLength,o._filename=(0,l.extractFilenameFromHeader)(r)};return(o=t.call(this,s))._request=null,"http:"===o._url.protocol?o._request=u.request(p(o._url,s.httpHeaders),e):o._request=h.request(p(o._url,s.httpHeaders),e),o._request.on("error",function(e){o._storedError=e,o._headersCapability.reject(e)}),o._request.end(),o}return _createClass(r)}(),v=function(e){_inherits(l,f);var o=_createSuper(l);function l(e,t,r){var n;for(var a in _classCallCheck(this,l),(n=o.call(this,e))._httpHeaders={},e.httpHeaders){var i=e.httpHeaders[a];void 0!==i&&(n._httpHeaders[a]=i)}n._httpHeaders.Range="bytes=".concat(t,"-").concat(r-1);var s=function(e){if(404!==e.statusCode)n._setReadableStream(e);else{var t=new c.MissingPDFException('Missing PDF "'.concat(n._url,'".'));n._storedError=t}};return n._request=null,"http:"===n._url.protocol?n._request=u.request(p(n._url,n._httpHeaders),s):n._request=h.request(p(n._url,n._httpHeaders),s),n._request.on("error",function(e){n._storedError=e}),n._request.end(),n}return _createClass(l)}(),g=function(e){_inherits(a,i);var t=_createSuper(a);function a(e){var r;_classCallCheck(this,a),r=t.call(this,e);var n=decodeURIComponent(r._url.path);return d.test(r._url.href)&&(n=n.replace(/^\//,"")),o.lstat(n,function(e,t){if(e)return"ENOENT"===e.code&&(e=new c.MissingPDFException('Missing PDF "'.concat(n,'".'))),r._storedError=e,void r._headersCapability.reject(e);r._contentLength=t.size,r._setReadableStream(o.createReadStream(n)),r._headersCapability.resolve()}),r}return _createClass(a)}(),m=function(e){_inherits(s,f);var i=_createSuper(s);function s(e,t,r){var n;_classCallCheck(this,s),n=i.call(this,e);var a=decodeURIComponent(n._url.path);return d.test(n._url.href)&&(a=a.replace(/^\//,"")),n._setReadableStream(o.createReadStream(a,{start:t,end:r-1})),n}return _createClass(s)}()},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.createResponseStatusError=function(e,t){if(404===e||0===e&&t.startsWith("file:"))return new o.MissingPDFException('Missing PDF "'+t+'".');return new o.UnexpectedResponseException("Unexpected server response (".concat(e,') while retrieving PDF "').concat(t,'".'),e)},t.extractFilenameFromHeader=function(e){var t=e("Content-Disposition");if(t){var r=(0,n.getFilenameFromContentDispositionHeader)(t);if(r.includes("%"))try{r=decodeURIComponent(r)}catch(e){}if((0,a.isPdfFile)(r))return r}return null},t.validateRangeRequestCapabilities=function(e){var t=e.getResponseHeader,r=e.isHttp,n=e.rangeChunkSize,a=e.disableRange;(0,o.assert)(0<n,"Range chunk size must be larger than zero");var i={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(t("Content-Length"),10);if(!Number.isInteger(s))return i;if((i.suggestedLength=s)<=2*n)return i;return!a&&r&&"bytes"===t("Accept-Ranges")&&"identity"===(t("Content-Encoding")||"identity")&&(i.allowRangeRequests=!0),i},t.validateResponseStatus=function(e){return 200===e||206===e};var o=r(2),n=r(25),a=r(1)},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getFilenameFromContentDispositionHeader=function(e){var a=!0,t=p("filename\\*","i").exec(e);if(t){var r=v(t=t[1]);return o(r=l(r=g(r=unescape(r))))}if(t=function(e){for(var t,r=[],n=p("filename\\*((?!0\\d)\\d+)(\\*?)","ig");null!==(t=n.exec(e));){var a=t,i=_slicedToArray(a,4),s=i[1],o=i[2],l=i[3];if((s=parseInt(s,10))in r){if(0===s)break}else r[s]=[o,l]}for(var c=[],u=0;u<r.length&&u in r;++u){var h=_slicedToArray(r[u],2),d=h[0],f=h[1];f=v(f),d&&(f=unescape(f),0===u&&(f=g(f))),c.push(f)}return c.join("")}(e)){var n=l(t);return o(n)}if(t=p("filename","i").exec(e)){var i=v(t=t[1]);return o(i=l(i))}function p(e,t){return new RegExp("(?:^|;)\\s*"+e+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',t)}function s(t,r){if(t){if(!/^[\x00-\xFF]+$/.test(r))return r;try{var e=new TextDecoder(t,{fatal:!0}),n=Array.from(r,function(e){return 255&e.charCodeAt(0)});r=e.decode(new Uint8Array(n)),a=!1}catch(e){if(/^utf-?8$/i.test(t))try{r=decodeURIComponent(escape(r)),a=!1}catch(e){}}}return r}function o(e){return a&&/[\x80-\xff]/.test(e)&&(e=s("utf-8",e),a&&(e=s("iso-8859-1",e))),e}function v(e){if(e.startsWith('"')){for(var t=e.slice(1).split('\\"'),r=0;r<t.length;++r){var n=t[r].indexOf('"');-1!==n&&(t[r]=t[r].slice(0,n),t.length=r+1),t[r]=t[r].replace(/\\(.)/g,"$1")}e=t.join('"')}return e}function g(e){var t=e.indexOf("'");if(-1===t)return e;var r=e.slice(0,t),n=e.slice(t+1),a=n.replace(/^[^']*'/,"");return s(r,a)}function l(e){return!e.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(e)?e:e.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(e,t,r,n){if("q"===r||"Q"===r)return n=(n=n.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,function(e,t){return String.fromCharCode(parseInt(t,16))}),s(t,n);try{n=atob(n)}catch(e){}return s(t,n)})}return""}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.PDFNetworkStream=void 0;var c=r(2),s=r(24);var n=function(){function r(e,t){_classCallCheck(this,r),this.url=e,t=t||{},this.isHttp=/^https?:/i.test(e),this.httpHeaders=this.isHttp&&t.httpHeaders||{},this.withCredentials=t.withCredentials||!1,this.getXhr=t.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}return _createClass(r,[{key:"requestRange",value:function(e,t,r){var n={begin:e,end:t};for(var a in r)n[a]=r[a];return this.request(n)}},{key:"requestFull",value:function(e){return this.request(e)}},{key:"request",value:function(t){var r=this.getXhr(),e=this.currXhrId++,n=this.pendingRequests[e]={xhr:r};for(var a in r.open("GET",this.url),r.withCredentials=this.withCredentials,this.httpHeaders){var i=this.httpHeaders[a];void 0!==i&&r.setRequestHeader(a,i)}return this.isHttp&&"begin"in t&&"end"in t?(r.setRequestHeader("Range","bytes=".concat(t.begin,"-").concat(t.end-1)),n.expectedStatus=206):n.expectedStatus=200,r.responseType="arraybuffer",t.onError&&(r.onerror=function(e){t.onError(r.status)}),r.onreadystatechange=this.onStateChange.bind(this,e),r.onprogress=this.onProgress.bind(this,e),n.onHeadersReceived=t.onHeadersReceived,n.onDone=t.onDone,n.onError=t.onError,n.onProgress=t.onProgress,r.send(null),e}},{key:"onProgress",value:function(e,t){var r=this.pendingRequests[e];r&&r.onProgress&&r.onProgress(t)}},{key:"onStateChange",value:function(e,t){var r=this.pendingRequests[e];if(r){var n=r.xhr;if(2<=n.readyState&&r.onHeadersReceived&&(r.onHeadersReceived(),delete r.onHeadersReceived),4===n.readyState&&e in this.pendingRequests)if(delete this.pendingRequests[e],0===n.status&&this.isHttp)r.onError&&r.onError(n.status);else{var a=n.status||200;if(200===a&&206===r.expectedStatus||a===r.expectedStatus){var i,s="string"!=typeof(i=n.response)?i:(0,c.stringToBytes)(i).buffer;if(206===a){var o=n.getResponseHeader("Content-Range"),l=/bytes (\d+)-(\d+)\/(\d+)/.exec(o);r.onDone({begin:parseInt(l[1],10),chunk:s})}else s?r.onDone({begin:0,chunk:s}):r.onError&&r.onError(n.status)}else r.onError&&r.onError(n.status)}}}},{key:"getRequestXhr",value:function(e){return this.pendingRequests[e].xhr}},{key:"isPendingRequest",value:function(e){return e in this.pendingRequests}},{key:"abortRequest",value:function(e){var t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}]),r}(),a=function(){function t(e){_classCallCheck(this,t),this._source=e,this._manager=new n(e.url,{httpHeaders:e.httpHeaders,withCredentials:e.withCredentials}),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}return _createClass(t,[{key:"_onRangeRequestReaderClosed",value:function(e){var t=this._rangeRequestReaders.indexOf(e);0<=t&&this._rangeRequestReaders.splice(t,1)}},{key:"getFullReader",value:function(){return(0,c.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new i(this._manager,this._source),this._fullRequestReader}},{key:"getRangeReader",value:function(e,t){var r=new o(this._manager,e,t);return r.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(r),r}},{key:"cancelAllRequests",value:function(t){this._fullRequestReader&&this._fullRequestReader.cancel(t),this._rangeRequestReaders.slice(0).forEach(function(e){e.cancel(t)})}}]),t}();t.PDFNetworkStream=a;var i=function(){function n(e,t){_classCallCheck(this,n),this._manager=e;var r={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._fullRequestId=e.requestFull(r),this._headersReceivedCapability=(0,c.createPromiseCapability)(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}var e;return _createClass(n,[{key:"_onHeadersReceived",value:function(){var e=this._fullRequestId,t=this._manager.getRequestXhr(e),r=function(e){return t.getResponseHeader(e)},n=(0,s.validateRangeRequestCapabilities)({getResponseHeader:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange}),a=n.allowRangeRequests,i=n.suggestedLength;a&&(this._isRangeSupported=!0),this._contentLength=i||this._contentLength,this._filename=(0,s.extractFilenameFromHeader)(r),this._isRangeSupported&&this._manager.abortRequest(e),this._headersReceivedCapability.resolve()}},{key:"_onDone",value:function(e){e&&(0<this._requests.length?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk));this._done=!0,0<this._cachedChunks.length||(this._requests.forEach(function(e){e.resolve({value:void 0,done:!0})}),this._requests=[])}},{key:"_onError",value:function(e){var t=this._url,r=(0,s.createResponseStatusError)(e,t);this._storedError=r,this._headersReceivedCapability.reject(r),this._requests.forEach(function(e){e.reject(r)}),this._requests=[],this._cachedChunks=[]}},{key:"_onProgress",value:function(e){this.onProgress&&this.onProgress({loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}},{key:"filename",get:function(){return this._filename}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"contentLength",get:function(){return this._contentLength}},{key:"headersReady",get:function(){return this._headersReceivedCapability.promise}},{key:"read",value:(e=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,r;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._storedError)throw this._storedError;e.next=2;break;case 2:if(0<this._cachedChunks.length)return t=this._cachedChunks.shift(),e.abrupt("return",{value:t,done:!1});e.next=5;break;case 5:if(this._done)return e.abrupt("return",{value:void 0,done:!0});e.next=7;break;case 7:return r=(0,c.createPromiseCapability)(),this._requests.push(r),e.abrupt("return",r.promise);case 10:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"cancel",value:function(e){this._done=!0,this._headersReceivedCapability.reject(e),this._requests.forEach(function(e){e.resolve({value:void 0,done:!0})}),this._requests=[],this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}]),n}(),o=function(){function a(e,t,r){_classCallCheck(this,a),this._manager=e;var n={onDone:this._onDone.bind(this),onProgress:this._onProgress.bind(this)};this._requestId=e.requestRange(t,r,n),this._requests=[],this._queuedChunk=null,this._done=!1,this.onProgress=null,this.onClosed=null}var e;return _createClass(a,[{key:"_close",value:function(){this.onClosed&&this.onClosed(this)}},{key:"_onDone",value:function(e){var t=e.chunk;0<this._requests.length?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t;this._done=!0,this._requests.forEach(function(e){e.resolve({value:void 0,done:!0})}),this._requests=[],this._close()}},{key:"_onProgress",value:function(e){!this.isStreamingSupported&&this.onProgress&&this.onProgress({loaded:e.loaded})}},{key:"isStreamingSupported",get:function(){return!1}},{key:"read",value:(e=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,r;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._queuedChunk)return t=this._queuedChunk,this._queuedChunk=null,e.abrupt("return",{value:t,done:!1});e.next=4;break;case 4:if(this._done)return e.abrupt("return",{value:void 0,done:!0});e.next=6;break;case 6:return r=(0,c.createPromiseCapability)(),this._requests.push(r),e.abrupt("return",r.promise);case 9:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"cancel",value:function(e){this._done=!0,this._requests.forEach(function(e){e.resolve({value:void 0,done:!0})}),this._requests=[],this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}]),a}()},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.PDFFetchStream=void 0;var o=r(2),l=r(24);function c(e,t,r){return{method:"GET",headers:e,signal:null==r?void 0:r.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function u(e){var t=new Headers;for(var r in e){var n=e[r];void 0!==n&&t.append(r,n)}return t}var n=function(){function t(e){_classCallCheck(this,t),this.source=e,this.isHttp=/^https?:/i.test(e.url),this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}return _createClass(t,[{key:"_progressiveDataLength",get:function(){var e,t;return null!==(e=null===(t=this._fullRequestReader)||void 0===t?void 0:t._loaded)&&void 0!==e?e:0}},{key:"getFullReader",value:function(){return(0,o.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new a(this),this._fullRequestReader}},{key:"getRangeReader",value:function(e,t){if(t<=this._progressiveDataLength)return null;var r=new i(this,e,t);return this._rangeRequestReaders.push(r),r}},{key:"cancelAllRequests",value:function(t){this._fullRequestReader&&this._fullRequestReader.cancel(t),this._rangeRequestReaders.slice(0).forEach(function(e){e.cancel(t)})}}]),t}();t.PDFFetchStream=n;var a=function(){function r(e){var i=this;_classCallCheck(this,r),this._stream=e,this._reader=null,this._loaded=0,this._filename=null;var t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=(0,o.createPromiseCapability)(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),"undefined"!=typeof AbortController&&(this._abortController=new AbortController),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._headers=u(this._stream.httpHeaders);var s=t.url;fetch(s,c(this._headers,this._withCredentials,this._abortController)).then(function(t){if(!(0,l.validateResponseStatus)(t.status))throw(0,l.createResponseStatusError)(t.status,s);i._reader=t.body.getReader(),i._headersCapability.resolve();var e=function(e){return t.headers.get(e)},r=(0,l.validateRangeRequestCapabilities)({getResponseHeader:e,isHttp:i._stream.isHttp,rangeChunkSize:i._rangeChunkSize,disableRange:i._disableRange}),n=r.allowRangeRequests,a=r.suggestedLength;i._isRangeSupported=n,i._contentLength=a||i._contentLength,i._filename=(0,l.extractFilenameFromHeader)(e),!i._isStreamingSupported&&i._isRangeSupported&&i.cancel(new o.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}var e;return _createClass(r,[{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:(e=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,r,n,a;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._headersCapability.promise;case 2:return e.next=4,this._reader.read();case 4:if(t=e.sent,r=t.value,n=t.done)return e.abrupt("return",{value:r,done:n});e.next=9;break;case 9:return this._loaded+=r.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),a=new Uint8Array(r).buffer,e.abrupt("return",{value:a,done:!1});case 13:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"cancel",value:function(e){this._reader&&this._reader.cancel(e),this._abortController&&this._abortController.abort()}}]),r}(),i=function(){function s(e,t,r){var n=this;_classCallCheck(this,s),this._stream=e,this._reader=null,this._loaded=0;var a=e.source;this._withCredentials=a.withCredentials||!1,this._readCapability=(0,o.createPromiseCapability)(),this._isStreamingSupported=!a.disableStream,"undefined"!=typeof AbortController&&(this._abortController=new AbortController),this._headers=u(this._stream.httpHeaders),this._headers.append("Range","bytes=".concat(t,"-").concat(r-1));var i=a.url;fetch(i,c(this._headers,this._withCredentials,this._abortController)).then(function(e){if(!(0,l.validateResponseStatus)(e.status))throw(0,l.createResponseStatusError)(e.status,i);n._readCapability.resolve(),n._reader=e.body.getReader()}).catch(function(e){if("AbortError"!==(null==e?void 0:e.name))throw e}),this.onProgress=null}var e;return _createClass(s,[{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:(e=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,r,n,a;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._readCapability.promise;case 2:return e.next=4,this._reader.read();case 4:if(t=e.sent,r=t.value,n=t.done)return e.abrupt("return",{value:r,done:n});e.next=9;break;case 9:return this._loaded+=r.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded}),a=new Uint8Array(r).buffer,e.abrupt("return",{value:a,done:!1});case 13:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"cancel",value:function(e){this._reader&&this._reader.cancel(e),this._abortController&&this._abortController.abort()}}]),s}()}],__webpack_module_cache__={};function __w_pdfjs_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var r=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](r,r.exports,__w_pdfjs_require__),r.exports}var __webpack_exports__={};return function(){var e=__webpack_exports__;Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"addLinkAttributes",{enumerable:!0,get:function(){return t.addLinkAttributes}}),Object.defineProperty(e,"getFilenameFromUrl",{enumerable:!0,get:function(){return t.getFilenameFromUrl}}),Object.defineProperty(e,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return t.getPdfFilenameFromUrl}}),Object.defineProperty(e,"isPdfFile",{enumerable:!0,get:function(){return t.isPdfFile}}),Object.defineProperty(e,"LinkTarget",{enumerable:!0,get:function(){return t.LinkTarget}}),Object.defineProperty(e,"loadScript",{enumerable:!0,get:function(){return t.loadScript}}),Object.defineProperty(e,"PDFDateString",{enumerable:!0,get:function(){return t.PDFDateString}}),Object.defineProperty(e,"RenderingCancelledException",{enumerable:!0,get:function(){return t.RenderingCancelledException}}),Object.defineProperty(e,"build",{enumerable:!0,get:function(){return r.build}}),Object.defineProperty(e,"getDocument",{enumerable:!0,get:function(){return r.getDocument}}),Object.defineProperty(e,"LoopbackPort",{enumerable:!0,get:function(){return r.LoopbackPort}}),Object.defineProperty(e,"PDFDataRangeTransport",{enumerable:!0,get:function(){return r.PDFDataRangeTransport}}),Object.defineProperty(e,"PDFWorker",{enumerable:!0,get:function(){return r.PDFWorker}}),Object.defineProperty(e,"version",{enumerable:!0,get:function(){return r.version}}),Object.defineProperty(e,"CMapCompressionType",{enumerable:!0,get:function(){return n.CMapCompressionType}}),Object.defineProperty(e,"createObjectURL",{enumerable:!0,get:function(){return n.createObjectURL}}),Object.defineProperty(e,"createPromiseCapability",{enumerable:!0,get:function(){return n.createPromiseCapability}}),Object.defineProperty(e,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return n.createValidAbsoluteUrl}}),Object.defineProperty(e,"InvalidPDFException",{enumerable:!0,get:function(){return n.InvalidPDFException}}),Object.defineProperty(e,"MissingPDFException",{enumerable:!0,get:function(){return n.MissingPDFException}}),Object.defineProperty(e,"OPS",{enumerable:!0,get:function(){return n.OPS}}),Object.defineProperty(e,"PasswordResponses",{enumerable:!0,get:function(){return n.PasswordResponses}}),Object.defineProperty(e,"PermissionFlag",{enumerable:!0,get:function(){return n.PermissionFlag}}),Object.defineProperty(e,"removeNullCharacters",{enumerable:!0,get:function(){return n.removeNullCharacters}}),Object.defineProperty(e,"shadow",{enumerable:!0,get:function(){return n.shadow}}),Object.defineProperty(e,"UnexpectedResponseException",{enumerable:!0,get:function(){return n.UnexpectedResponseException}}),Object.defineProperty(e,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return n.UNSUPPORTED_FEATURES}}),Object.defineProperty(e,"Util",{enumerable:!0,get:function(){return n.Util}}),Object.defineProperty(e,"VerbosityLevel",{enumerable:!0,get:function(){return n.VerbosityLevel}}),Object.defineProperty(e,"AnnotationLayer",{enumerable:!0,get:function(){return a.AnnotationLayer}}),Object.defineProperty(e,"apiCompatibilityParams",{enumerable:!0,get:function(){return i.apiCompatibilityParams}}),Object.defineProperty(e,"GlobalWorkerOptions",{enumerable:!0,get:function(){return s.GlobalWorkerOptions}}),Object.defineProperty(e,"renderTextLayer",{enumerable:!0,get:function(){return o.renderTextLayer}}),Object.defineProperty(e,"SVGGraphics",{enumerable:!0,get:function(){return l.SVGGraphics}}),Object.defineProperty(e,"XfaLayer",{enumerable:!0,get:function(){return c.XfaLayer}});var t=__w_pdfjs_require__(1),r=__w_pdfjs_require__(5),n=__w_pdfjs_require__(2),a=__w_pdfjs_require__(18),i=__w_pdfjs_require__(9),s=__w_pdfjs_require__(12),o=__w_pdfjs_require__(20),l=__w_pdfjs_require__(21),c=__w_pdfjs_require__(22);if(__w_pdfjs_require__(4).isNodeJS){var u=__w_pdfjs_require__(23).PDFNodeStream;(0,r.setPDFNetworkStreamFactory)(function(e){return new u(e)})}else{var h,d=__w_pdfjs_require__(26).PDFNetworkStream;(0,t.isFetchSupported)()&&(h=__w_pdfjs_require__(27).PDFFetchStream),(0,r.setPDFNetworkStreamFactory)(function(e){return h&&(0,t.isValidFetchUrl)(e.url)?new h(e):new d(e)})}}(),__webpack_exports__}()});