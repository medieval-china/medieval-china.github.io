"use strict";function _get2(){return(_get2="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=_superPropBase(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(r){var i=_isNativeReflectConstruct();return function(){var e,t=_getPrototypeOf(r);if(i){var n=_getPrototypeOf(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return _possibleConstructorReturn(this,e)}}function _possibleConstructorReturn(e,t){if(t&&("object"===_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(e)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ownKeys(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(n),!0).forEach(function(e){_defineProperty(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function _defineProperty(e,t,n){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _createForOfIteratorHelper(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function _regeneratorRuntime(){_regeneratorRuntime=function(){return o};var o={},e=Object.prototype,l=e.hasOwnProperty,h=Object.defineProperty||function(e,t,n){e[t]=n.value},t="function"==typeof Symbol?Symbol:{},i=t.iterator||"@@iterator",n=t.asyncIterator||"@@asyncIterator",r=t.toStringTag||"@@toStringTag";function a(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{a({},"")}catch(e){a=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var a,o,s,u,i=t&&t.prototype instanceof f?t:f,c=Object.create(i.prototype),l=new k(r||[]);return h(c,"_invoke",{value:(a=e,o=n,s=l,u="suspendedStart",function(e,t){if("executing"===u)throw new Error("Generator is already running");if("completed"===u){if("throw"===e)throw t;return L()}for(s.method=e,s.arg=t;;){var n=s.delegate;if(n){var r=w(n,s);if(r){if(r===p)continue;return r}}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if("suspendedStart"===u)throw u="completed",s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);u="executing";var i=d(a,o,s);if("normal"===i.type){if(u=s.done?"completed":"suspendedYield",i.arg===p)continue;return{value:i.arg,done:s.done}}"throw"===i.type&&(u="completed",s.method="throw",s.arg=i.arg)}})}),c}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}o.wrap=s;var p={};function f(){}function u(){}function c(){}var g={};a(g,i,function(){return this});var v=Object.getPrototypeOf,_=v&&v(v(x([])));_&&_!==e&&l.call(_,i)&&(g=_);var y=c.prototype=f.prototype=Object.create(g);function m(e){["next","throw","return"].forEach(function(t){a(e,t,function(e){return this._invoke(t,e)})})}function b(u,c){var t;h(this,"_invoke",{value:function(n,r){function e(){return new c(function(e,t){!function t(e,n,r,i){var a=d(u[e],u,n);if("throw"!==a.type){var o=a.arg,s=o.value;return s&&"object"==_typeof(s)&&l.call(s,"__await")?c.resolve(s.__await).then(function(e){t("next",e,r,i)},function(e){t("throw",e,r,i)}):c.resolve(s).then(function(e){o.value=e,r(o)},function(e){return t("throw",e,r,i)})}i(a.arg)}(n,r,e,t)})}return t=t?t.then(e,e):e()}})}function w(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var i=d(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,p;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function x(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function e(){for(;++n<t.length;)if(l.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return r.next=r}}return{next:L}}function L(){return{value:void 0,done:!0}}return h(y,"constructor",{value:u.prototype=c,configurable:!0}),h(c,"constructor",{value:u,configurable:!0}),u.displayName=a(c,r,"GeneratorFunction"),o.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===u||"GeneratorFunction"===(t.displayName||t.name))},o.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,a(e,r,"GeneratorFunction")),e.prototype=Object.create(y),e},o.awrap=function(e){return{__await:e}},m(b.prototype),a(b.prototype,n,function(){return this}),o.AsyncIterator=b,o.async=function(e,t,n,r,i){void 0===i&&(i=Promise);var a=new b(s(e,t,n,r),i);return o.isGeneratorFunction(t)?a:a.next().then(function(e){return e.done?e.value:a.next()})},m(y),a(y,r,"Generator"),a(y,i,function(){return this}),a(y,"toString",function(){return"[object Generator]"}),o.keys=function(e){var n=Object(e),r=[];for(var t in n)r.push(t);return r.reverse(),function e(){for(;r.length;){var t=r.pop();if(t in n)return e.value=t,e.done=!1,e}return e.done=!0,e}},o.values=x,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&l.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function e(e,t){return a.type="throw",a.arg=n,r.next=e,t&&(r.method="next",r.arg=void 0),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var i=this.tryEntries[t],a=i.completion;if("root"===i.tryLoc)return e("end");if(i.tryLoc<=this.prev){var o=l.call(i,"catchLoc"),s=l.call(i,"finallyLoc");if(o&&s){if(this.prev<i.catchLoc)return e(i.catchLoc,!0);if(this.prev<i.finallyLoc)return e(i.finallyLoc)}else if(o){if(this.prev<i.catchLoc)return e(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return e(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&l.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;S(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:x(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},o}function asyncGeneratorStep(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function _asyncToGenerator(s){return function(){var e=this,o=arguments;return new Promise(function(t,n){var r=s.apply(e,o);function i(e){asyncGeneratorStep(r,t,n,i,a,"next",e)}function a(e){asyncGeneratorStep(r,t,n,i,a,"throw",e)}i(void 0)})}}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _iterableToArrayLimit(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],u=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_toPropertyKey(r.key),r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"===_typeof(t)?t:String(t)}function _toPrimitive(e,t){if("object"!==_typeof(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);var r=n.call(e,t||"default");if("object"!==_typeof(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e,t){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"object"===("undefined"==typeof module?"undefined":_typeof(module))?module.exports=t():"function"==typeof define&&define.amd?define("pdfjs-dist/web/pdf_viewer",[],t):"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?exports["pdfjs-dist/web/pdf_viewer"]=t():e["pdfjs-dist/web/pdf_viewer"]=e.pdfjsViewer=t()}(void 0,function(){return function(){var r=[,function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultAnnotationLayerFactory=t.AnnotationLayerBuilder=void 0;var u=n(2),b=n(3),c=n(4),l=function(){function m(e){var t=e.pageDiv,n=e.pdfPage,r=e.linkService,i=e.downloadManager,a=e.annotationStorage,o=void 0===a?null:a,s=e.imageResourcesPath,u=void 0===s?"":s,c=e.renderInteractiveForms,l=void 0===c||c,h=e.l10n,d=void 0===h?b.NullL10n:h,p=e.enableScripting,f=void 0!==p&&p,g=e.hasJSActionsPromise,v=void 0===g?null:g,_=e.mouseState,y=void 0===_?null:_;_classCallCheck(this,m),this.pageDiv=t,this.pdfPage=n,this.linkService=r,this.downloadManager=i,this.imageResourcesPath=u,this.renderInteractiveForms=l,this.l10n=d,this.annotationStorage=o,this.enableScripting=f,this._hasJSActionsPromise=v,this._mouseState=y,this.div=null,this._cancelled=!1}return _createClass(m,[{key:"render",value:function(o){var s=this,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"display";return Promise.all([this.pdfPage.getAnnotations({intent:e}),this._hasJSActionsPromise]).then(function(e){var t=_slicedToArray(e,2),n=t[0],r=t[1],i=void 0!==r&&r;if(!s._cancelled&&0!==n.length){var a={viewport:o.clone({dontFlip:!0}),div:s.div,annotations:n,page:s.pdfPage,imageResourcesPath:s.imageResourcesPath,renderInteractiveForms:s.renderInteractiveForms,linkService:s.linkService,downloadManager:s.downloadManager,annotationStorage:s.annotationStorage,enableScripting:s.enableScripting,hasJSActions:i,mouseState:s._mouseState};s.div?u.AnnotationLayer.update(a):(s.div=document.createElement("div"),s.div.className="annotationLayer",s.pageDiv.appendChild(s.div),a.div=s.div,u.AnnotationLayer.render(a),s.l10n.translate(s.div))}})}},{key:"cancel",value:function(){this._cancelled=!0}},{key:"hide",value:function(){this.div&&(this.div.hidden=!0)}}]),m}();t.AnnotationLayerBuilder=l;var r=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"createAnnotationLayerBuilder",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"",i=!(4<arguments.length&&void 0!==arguments[4])||arguments[4],a=5<arguments.length&&void 0!==arguments[5]?arguments[5]:b.NullL10n,o=6<arguments.length&&void 0!==arguments[6]&&arguments[6],s=7<arguments.length&&void 0!==arguments[7]?arguments[7]:null,u=8<arguments.length&&void 0!==arguments[8]?arguments[8]:null;return new l({pageDiv:e,pdfPage:t,imageResourcesPath:r,renderInteractiveForms:i,linkService:new c.SimpleLinkService,l10n:a,annotationStorage:n,enableScripting:o,hasJSActionsPromise:s,mouseState:u})}}]),e}();t.DefaultAnnotationLayerFactory=r},function(e){var t;t="undefined"!=typeof window&&window["pdfjs-dist/build/pdf"]?window["pdfjs-dist/build/pdf"]:require("../build/pdf.js"),e.exports=t},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getL10nFallback=a,t.NullL10n=void 0;var n={of_pages:"of ",page_of_pages:"( of )",document_properties_kb:" KB ( bytes)",document_properties_mb:" MB ( bytes)",document_properties_date_string:"1762013335278, ",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:" ×   ()",document_properties_page_size_dimension_name_string:" ×   (, )",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",print_progress_percent:"%","toggle_sidebar.title":"Toggle Sidebar","toggle_sidebar_notification2.title":"Toggle Sidebar (document contains outline/attachments/layers)",additional_layers:"Additional Layers",page_landmark:"Page ",thumb_page_title:"Page ",thumb_page_canvas:"Thumbnail of Page ",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":" of  match","find_match_count[other]":" of  matches","find_match_count_limit[one]":"More than  match","find_match_count_limit[other]":"More than  matches",find_not_found:"Phrase not found",error_version_info:"PDF.js v (build: )",error_message:"Message: ",error_stack:"Stack: ",error_file:"File: ",error_line:"Line: ",rendering_error:"An error occurred while rendering the page.",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"%",loading:"Loading…",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts."};function a(e,t){switch(e){case"find_match_count":e="find_match_count[".concat(1===t.total?"one":"other","]");break;case"find_match_count_limit":e="find_match_count_limit[".concat(1===t.limit?"one":"other","]")}return n[e]||""}function o(e,n){return n?e.replace(/\{\{\s*(\w+)\s*\}\}/g,function(e,t){return t in n?n[t]:" + name + "}):e}var r={getLanguage:function(){return _asyncToGenerator(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return","en-us");case 1:case"end":return e.stop()}},e)}))()},getDirection:function(){return _asyncToGenerator(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return","ltr");case 1:case"end":return e.stop()}},e)}))()},get:function(r){var i=arguments;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,n;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=1<i.length&&void 0!==i[1]?i[1]:null,n=2<i.length&&void 0!==i[2]?i[2]:a(r,t),e.abrupt("return",o(n,t));case 3:case"end":return e.stop()}},e)}))()},translate:function(e){return _asyncToGenerator(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}))()}};t.NullL10n=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.SimpleLinkService=t.PDFLinkService=void 0;var s=n(5),r=function(){function l(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.eventBus,n=e.externalLinkTarget,r=void 0===n?null:n,i=e.externalLinkRel,a=void 0===i?null:i,o=e.externalLinkEnabled,s=void 0===o||o,u=e.ignoreDestinationZoom,c=void 0!==u&&u;_classCallCheck(this,l),this.eventBus=t,this.externalLinkTarget=r,this.externalLinkRel=a,this.externalLinkEnabled=s,this._ignoreDestinationZoom=c,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null,this._pagesRefCache=null}var t;return _createClass(l,[{key:"setDocument",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;this.baseUrl=t,this.pdfDocument=e,this._pagesRefCache=Object.create(null)}},{key:"setViewer",value:function(e){this.pdfViewer=e}},{key:"setHistory",value:function(e){this.pdfHistory=e}},{key:"pagesCount",get:function(){return this.pdfDocument?this.pdfDocument.numPages:0}},{key:"page",get:function(){return this.pdfViewer.currentPageNumber},set:function(e){this.pdfViewer.currentPageNumber=e}},{key:"rotation",get:function(){return this.pdfViewer.pagesRotation},set:function(e){this.pdfViewer.pagesRotation=e}},{key:"navigateTo",value:function(e){console.error("Deprecated method: `navigateTo`, use `goToDestination` instead."),this.goToDestination(e)}},{key:"_goToDestinationHelper",value:function(t){var e,n=this,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,i=2<arguments.length?arguments[2]:void 0,a=i[0];if(a instanceof Object){if(null===(e=this._cachedPageNumber(a)))return void this.pdfDocument.getPageIndex(a).then(function(e){n.cachePageRef(e+1,a),n._goToDestinationHelper(t,r,i)}).catch(function(){console.error('PDFLinkService._goToDestinationHelper: "'.concat(a,'" is not ')+'a valid page reference, for dest="'.concat(t,'".'))})}else{if(!Number.isInteger(a))return void console.error('PDFLinkService._goToDestinationHelper: "'.concat(a,'" is not ')+'a valid destination reference, for dest="'.concat(t,'".'));e=a+1}!e||e<1||e>this.pagesCount?console.error('PDFLinkService._goToDestinationHelper: "'.concat(e,'" is not ')+'a valid page number, for dest="'.concat(t,'".')):(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:r,explicitDest:i,pageNumber:e})),this.pdfViewer.scrollPageIntoView({pageNumber:e,destArray:i,ignoreDestinationZoom:this._ignoreDestinationZoom}))}},{key:"goToDestination",value:(t=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var n,r;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.pdfDocument){e.next=2;break}return e.abrupt("return");case 2:if("string"==typeof t)return n=t,e.next=6,this.pdfDocument.getDestination(t);e.next=9;break;case 6:r=e.sent,e.next=13;break;case 9:return n=null,e.next=12,t;case 12:r=e.sent;case 13:if(Array.isArray(r)){e.next=16;break}return console.error('PDFLinkService.goToDestination: "'.concat(r,'" is not ')+'a valid destination array, for dest="'.concat(t,'".')),e.abrupt("return");case 16:this._goToDestinationHelper(t,n,r);case 17:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"goToPage",value:function(e){if(this.pdfDocument){var t="string"==typeof e&&this.pdfViewer.pageLabelToPageNumber(e)||0|e;Number.isInteger(t)&&0<t&&t<=this.pagesCount?(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(t)),this.pdfViewer.scrollPageIntoView({pageNumber:t})):console.error('PDFLinkService.goToPage: "'.concat(e,'" is not a valid page.'))}}},{key:"getDestinationHash",value:function(e){if("string"==typeof e){if(0<e.length)return this.getAnchorUrl("#"+escape(e))}else if(Array.isArray(e)){var t=JSON.stringify(e);if(0<t.length)return this.getAnchorUrl("#"+escape(t))}return this.getAnchorUrl("")}},{key:"getAnchorUrl",value:function(e){return(this.baseUrl||"")+e}},{key:"setHash",value:function(e){var t,n;if(this.pdfDocument)if(e.includes("=")){var r=(0,s.parseQueryString)(e);if("search"in r&&this.eventBus.dispatch("findfromurlhash",{source:this,query:r.search.replace(/"/g,""),phraseSearch:"true"===r.phrase}),"page"in r&&(t=0|r.page||1),"zoom"in r){var i=r.zoom.split(","),a=i[0],o=parseFloat(a);a.includes("Fit")?"Fit"===a||"FitB"===a?n=[null,{name:a}]:"FitH"===a||"FitBH"===a||"FitV"===a||"FitBV"===a?n=[null,{name:a},1<i.length?0|i[1]:null]:"FitR"===a?5!==i.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):n=[null,{name:a},0|i[1],0|i[2],0|i[3],0|i[4]]:console.error('PDFLinkService.setHash: "'.concat(a,'" is not ')+"a valid zoom value."):n=[null,{name:"XYZ"},1<i.length?0|i[1]:null,2<i.length?0|i[2]:null,o?o/100:a]}n?this.pdfViewer.scrollPageIntoView({pageNumber:t||this.page,destArray:n,allowNegativeOffset:!0}):t&&(this.page=t),"pagemode"in r&&this.eventBus.dispatch("pagemode",{source:this,mode:r.pagemode}),"nameddest"in r&&this.goToDestination(r.nameddest)}else{n=unescape(e);try{n=JSON.parse(n),Array.isArray(n)||(n=n.toString())}catch(e){}if("string"==typeof n||function(e){if(!Array.isArray(e))return!1;var t=e.length;if(t<2)return!1;var n=e[0];if(!("object"===_typeof(n)&&Number.isInteger(n.num)&&Number.isInteger(n.gen)||Number.isInteger(n)&&0<=n))return!1;var r=e[1];if("object"!==_typeof(r)||"string"!=typeof r.name)return!1;var i=!0;switch(r.name){case"XYZ":if(5!==t)return!1;break;case"Fit":case"FitB":return 2===t;case"FitH":case"FitBH":case"FitV":case"FitBV":if(3!==t)return!1;break;case"FitR":if(6!==t)return!1;i=!1;break;default:return!1}for(var a=2;a<t;a++){var o=e[a];if(!("number"==typeof o||i&&null===o))return!1}return!0}(n))return void this.goToDestination(n);console.error('PDFLinkService.setHash: "'.concat(unescape(e),'" is not ')+"a valid destination.")}}},{key:"executeNamedAction",value:function(e){switch(e){case"GoBack":this.pdfHistory&&this.pdfHistory.back();break;case"GoForward":this.pdfHistory&&this.pdfHistory.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:e})}},{key:"cachePageRef",value:function(e,t){if(t){var n=0===t.gen?"".concat(t.num,"R"):"".concat(t.num,"R").concat(t.gen);this._pagesRefCache[n]=e}}},{key:"_cachedPageNumber",value:function(e){var t,n=0===e.gen?"".concat(e.num,"R"):"".concat(e.num,"R").concat(e.gen);return(null===(t=this._pagesRefCache)||void 0===t?void 0:t[n])||null}},{key:"isPageVisible",value:function(e){return this.pdfViewer.isPageVisible(e)}},{key:"isPageCached",value:function(e){return this.pdfViewer.isPageCached(e)}}]),l}();t.PDFLinkService=r;var i=function(){function e(){_classCallCheck(this,e),this.externalLinkTarget=null,this.externalLinkRel=null,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=!1}var t;return _createClass(e,[{key:"pagesCount",get:function(){return 0}},{key:"page",get:function(){return 0},set:function(e){}},{key:"rotation",get:function(){return 0},set:function(e){}},{key:"goToDestination",value:(t=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)})},{key:"goToPage",value:function(e){}},{key:"getDestinationHash",value:function(e){return"#"}},{key:"getAnchorUrl",value:function(e){return"#"}},{key:"setHash",value:function(e){}},{key:"executeNamedAction",value:function(e){}},{key:"cachePageRef",value:function(e,t){}},{key:"isPageVisible",value:function(e){return!0}},{key:"isPageCached",value:function(e){return!0}}]),e}();t.SimpleLinkService=i},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.apiPageLayoutToSpreadMode=function(e){switch(e){case"SinglePage":case"OneColumn":return i.NONE;case"TwoColumnLeft":case"TwoPageLeft":return i.ODD;case"TwoColumnRight":case"TwoPageRight":return i.EVEN}return i.NONE},t.apiPageModeToSidebarView=function(e){switch(e){case"UseNone":return n.NONE;case"UseThumbs":return n.THUMBS;case"UseOutlines":return n.OUTLINE;case"UseAttachments":return n.ATTACHMENTS;case"UseOC":return n.LAYERS}return n.NONE},t.approximateFraction=function(e){if(Math.floor(e)===e)return[e,1];var t=1/e;{if(8<t)return[1,8];if(Math.floor(t)===t)return[1,t]}var n,r=1<e?t:e,i=0,a=1,o=1,s=1;for(;;){var u=i+o,c=a+s;if(8<c)break;r<=u/c?(o=u,s=c):(i=u,a=c)}n=r-i/a<o/s-r?r===e?[i,a]:[a,i]:r===e?[o,s]:[s,o];return n},t.backtrackBeforeAllVisibleElements=R,t.binarySearchFirstItem=E,t.getActiveOrFocusedElement=function(){var e=document,t=e.activeElement||e.querySelector(":focus");for(;null!==(n=t)&&void 0!==n&&n.shadowRoot;){var n;e=t.shadowRoot,t=e.activeElement||e.querySelector(":focus")}return t},t.getOutputScale=function(e){var t=window.devicePixelRatio||1,n=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.backingStorePixelRatio||1,r=t/n;return{sx:r,sy:r,scaled:1!==r}},t.getPageSizeInches=function(e){var t=e.view,n=e.userUnit,r=e.rotate,i=_slicedToArray(t,4),a=i[0],o=i[1],s=i[2],u=i[3],c=r%180!=0,l=(s-a)/72*n,h=(u-o)/72*n;return{width:c?h:l,height:c?l:h}},t.getVisibleElements=function(e){var t=e.scrollEl,n=e.views,r=e.sortByVisibility,i=void 0!==r&&r,a=e.horizontal,o=void 0!==a&&a,s=e.rtl,u=void 0!==s&&s,c=t.scrollTop,l=c+t.clientHeight,h=t.scrollLeft,d=h+t.clientWidth;var p=[],f=n.length,g=E(n,o?function(e){var t=e.div,n=t.offsetLeft+t.clientLeft,r=n+t.clientWidth;return u?n<d:h<r}:function(e){var t=e.div;return t.offsetTop+t.clientTop+t.clientHeight>c});0<g&&g<f&&!o&&(g=R(g,n,c));for(var v=o?d:-1,_=g;_<f;_++){var y=n[_],m=y.div,b=m.offsetLeft+m.clientLeft,w=m.offsetTop+m.clientTop,P=m.clientWidth,S=m.clientHeight,k=b+P,x=w+S;if(-1===v)l<=x&&(v=x);else if(v<(o?b:w))break;if(!(x<=c||l<=w||k<=h||d<=b)){var L=Math.max(0,c-w)+Math.max(0,x-l),C=Math.max(0,h-b)+Math.max(0,k-d),T=(S-L)/S,I=(P-C)/P,D=T*I*100|0;p.push({id:y.id,x:b,y:w,view:y,percent:D,widthPercent:100*I|0})}}var M=p[0],N=p[p.length-1];i&&p.sort(function(e,t){var n=e.percent-t.percent;return.001<Math.abs(n)?-n:e.id-t.id});return{first:M,last:N,views:p}},t.isPortraitOrientation=function(e){return e.width<=e.height},t.isValidRotation=function(e){return Number.isInteger(e)&&e%90==0},t.isValidScrollMode=function(e){return Number.isInteger(e)&&Object.values(r).includes(e)&&e!==r.UNKNOWN},t.isValidSpreadMode=function(e){return Number.isInteger(e)&&Object.values(i).includes(e)&&e!==i.UNKNOWN},t.moveToEndOfArray=function(e,t){for(var n=[],r=e.length,i=0,a=0;a<r;++a)t(e[a])?n.push(e[a]):(e[i]=e[a],++i);for(var o=0;i<r;++o,++i)e[i]=n[o]},t.noContextMenuHandler=function(e){e.preventDefault()},t.normalizeWheelEventDelta=function(e){var t=a(e);0===e.deltaMode?t/=900:1===e.deltaMode&&(t/=30);return t},t.normalizeWheelEventDirection=a,t.parseQueryString=function(e){for(var t=e.split("&"),n=Object.create(null),r=0,i=t.length;r<i;++r){var a=t[r].split("="),o=a[0].toLowerCase(),s=1<a.length?a[1]:null;n[decodeURIComponent(o)]=decodeURIComponent(s)}return n},t.roundToDivide=function(e,t){var n=e%t;return 0===n?e:Math.round(e-n+t)},t.scrollIntoView=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2],r=e.offsetParent;if(!r)return void console.error("offsetParent is not set -- cannot scroll");var i=e.offsetTop+e.clientTop,a=e.offsetLeft+e.clientLeft;for(;r.clientHeight===r.scrollHeight&&r.clientWidth===r.scrollWidth||n&&"hidden"===getComputedStyle(r).overflow;)if(r.dataset._scaleY&&(i/=r.dataset._scaleY,a/=r.dataset._scaleX),i+=r.offsetTop,a+=r.offsetLeft,!(r=r.offsetParent))return;t&&(void 0!==t.top&&(i+=t.top),void 0!==t.left&&(a+=t.left,r.scrollLeft=a));r.scrollTop=i},t.waitOnEventOrTimeout=function(e){var o=e.target,s=e.name,t=e.delay,u=void 0===t?0:t;return new Promise(function(t,e){if("object"!==_typeof(o)||!s||"string"!=typeof s||!(Number.isInteger(u)&&0<=u))throw new Error("waitOnEventOrTimeout - invalid parameters.");function n(e){o instanceof l?o._off(s,r):o.removeEventListener(s,r),a&&clearTimeout(a),t(e)}var r=n.bind(null,c.EVENT);o instanceof l?o._on(s,r):o.addEventListener(s,r);var i=n.bind(null,c.TIMEOUT),a=setTimeout(i,u)})},t.watchScroll=function(i,a){var e=function(e){s||(s=window.requestAnimationFrame(function(){s=null;var e=i.scrollLeft,t=o.lastX;e!==t&&(o.right=t<e),o.lastX=e;var n=i.scrollTop,r=o.lastY;n!==r&&(o.down=r<n),o.lastY=n,a(o)}))},o={right:!0,down:!0,lastX:i.scrollLeft,lastY:i.scrollTop,_eventHandler:e},s=null;return i.addEventListener("scroll",e,!0),o},t.WaitOnType=t.VERTICAL_PADDING=t.UNKNOWN_SCALE=t.TextLayerMode=t.SpreadMode=t.SidebarView=t.ScrollMode=t.SCROLLBAR_PADDING=t.RendererType=t.ProgressBar=t.PresentationModeState=t.MIN_SCALE=t.MAX_SCALE=t.MAX_AUTO_SCALE=t.EventBus=t.DEFAULT_SCALE_VALUE=t.DEFAULT_SCALE=t.CSS_UNITS=t.AutoPrintRegExp=t.animationStarted=void 0;t.CSS_UNITS=96/72;t.DEFAULT_SCALE_VALUE="auto";t.DEFAULT_SCALE=1;t.MIN_SCALE=.1;t.MAX_SCALE=10;t.UNKNOWN_SCALE=0;t.MAX_AUTO_SCALE=1.25;t.SCROLLBAR_PADDING=40;t.VERTICAL_PADDING=5;t.PresentationModeState={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};var n={UNKNOWN:-1,NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3,LAYERS:4};t.SidebarView=n;t.RendererType={CANVAS:"canvas",SVG:"svg"};t.TextLayerMode={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2};var r={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2};t.ScrollMode=r;var i={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};t.SpreadMode=i;function E(e,t){var n=0,r=e.length-1;if(r<0||!t(e[r]))return e.length;if(t(e[n]))return n;for(;n<r;){var i=n+r>>1;t(e[i])?r=i:n=i+1}return n}function R(e,t,n){if(e<2)return e;var r=t[e].div,i=r.offsetTop+r.clientTop;n<=i&&(i=(r=t[e-1].div).offsetTop+r.clientTop);for(var a=e-2;0<=a&&!((r=t[a].div).offsetTop+r.clientTop+r.clientHeight<=i);--a)e=a;return e}function a(e){var t=Math.hypot(e.deltaX,e.deltaY),n=Math.atan2(e.deltaY,e.deltaX);return-.25*Math.PI<n&&n<.75*Math.PI&&(t=-t),t}t.AutoPrintRegExp=/\bprint\s*\(/;var c={EVENT:"event",TIMEOUT:"timeout"};t.WaitOnType=c;var o=new Promise(function(e){window.requestAnimationFrame(e)});t.animationStarted=o;var l=function(){function t(e){_classCallCheck(this,t),this._listeners=Object.create(null)}return _createClass(t,[{key:"on",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;this._on(e,t,{external:!0,once:null==n?void 0:n.once})}},{key:"off",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;this._off(e,t,{external:!0,once:null==n?void 0:n.once})}},{key:"dispatch",value:function(r){var i=this,e=this._listeners[r];if(e&&0!==e.length){var a,o=Array.prototype.slice.call(arguments,1);e.slice(0).forEach(function(e){var t=e.listener,n=e.external;e.once&&i._off(r,t),n?(a||(a=[])).push(t):t.apply(null,o)}),a&&(a.forEach(function(e){e.apply(null,o)}),a=null)}}},{key:"_on",value:function(e,t){var n,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;((n=this._listeners)[e]||(n[e]=[])).push({listener:t,external:!0===(null==r?void 0:r.external),once:!0===(null==r?void 0:r.once)})}},{key:"_off",value:function(e,t){2<arguments.length&&void 0!==arguments[2]&&arguments[2];var n=this._listeners[e];if(n)for(var r=0,i=n.length;r<i;r++)if(n[r].listener===t)return void n.splice(r,1)}}]),t}();t.EventBus=l;var s=function(){function a(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=t.height,r=t.width,i=t.units;_classCallCheck(this,a),this.visible=!0,this.div=document.querySelector(e+" .progress"),this.bar=this.div.parentNode,this.height=n||100,this.width=r||100,this.units=i||"%",this.div.style.height=this.height+this.units,this.percent=0}return _createClass(a,[{key:"_updateBar",value:function(){if(this._indeterminate)return this.div.classList.add("indeterminate"),void(this.div.style.width=this.width+this.units);this.div.classList.remove("indeterminate");var e=this.width*this._percent/100;this.div.style.width=e+this.units}},{key:"percent",get:function(){return this._percent},set:function(e){var t,n,r;this._indeterminate=isNaN(e),this._percent=(t=e,n=0,r=100,Math.min(Math.max(t,n),r)),this._updateBar()}},{key:"setWidth",value:function(e){if(e){var t=e.parentNode.offsetWidth-e.offsetWidth;if(0<t)document.documentElement.style.setProperty("--loadingBar-end-offset","".concat(t,"px"))}}},{key:"hide",value:function(){this.visible&&(this.visible=!1,this.bar.classList.add("hidden"))}},{key:"show",value:function(){this.visible||(this.visible=!0,this.bar.classList.remove("hidden"))}}]),a}();t.ProgressBar=s},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.TextLayerBuilder=t.DefaultTextLayerFactory=void 0;var r=n(2),a=function(){function c(e){var t=e.textLayerDiv,n=e.eventBus,r=e.pageIndex,i=e.viewport,a=e.findController,o=void 0===a?null:a,s=e.enhanceTextSelection,u=void 0!==s&&s;_classCallCheck(this,c),this.textLayerDiv=t,this.eventBus=n,this.textContent=null,this.textContentItemsStr=[],this.textContentStream=null,this.renderingDone=!1,this.pageIdx=r,this.pageNumber=this.pageIdx+1,this.matches=[],this.viewport=i,this.textDivs=[],this.findController=o,this.textLayerRenderTask=null,this.enhanceTextSelection=u,this._onUpdateTextLayerMatches=null,this._bindMouse()}return _createClass(c,[{key:"_finishRendering",value:function(){if(this.renderingDone=!0,!this.enhanceTextSelection){var e=document.createElement("div");e.className="endOfContent",this.textLayerDiv.appendChild(e)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}},{key:"render",value:function(){var t=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;if((this.textContent||this.textContentStream)&&!this.renderingDone){this.cancel(),this.textDivs=[];var n=document.createDocumentFragment();this.textLayerRenderTask=(0,r.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:n,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:e,enhanceTextSelection:this.enhanceTextSelection}),this.textLayerRenderTask.promise.then(function(){t.textLayerDiv.appendChild(n),t._finishRendering(),t._updateMatches()},function(e){}),this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=function(e){e.pageIndex!==t.pageIdx&&-1!==e.pageIndex||t._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches))}}},{key:"cancel",value:function(){this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null)}},{key:"setTextContentStream",value:function(e){this.cancel(),this.textContentStream=e}},{key:"setTextContent",value:function(e){this.cancel(),this.textContent=e}},{key:"_convertMatches",value:function(e,t){if(!e)return[];for(var n=this.textContentItemsStr,r=0,i=0,a=n.length-1,o=[],s=0,u=e.length;s<u;s++){for(var c=e[s];r!==a&&c>=i+n[r].length;)i+=n[r].length,r++;r===n.length&&console.error("Could not find a matching mapping");var l={begin:{divIdx:r,offset:c-i}};for(c+=t[s];r!==a&&c>i+n[r].length;)i+=n[r].length,r++;l.end={divIdx:r,offset:c-i},o.push(l)}return o}},{key:"_renderMatches",value:function(e){if(0!==e.length){var t=this.findController,n=this.pageIdx,u=this.textContentItemsStr,c=this.textDivs,r=n===t.selected.pageIdx,i=t.selected.matchIdx,a=null,o={divIdx:-1,offset:void 0},s=i,l=s+1;if(t.state.highlightAll)s=0,l=e.length;else if(!r)return;for(var h=s;h<l;h++){var d=e[h],p=d.begin,f=d.end,g=r&&h===i,v=g?" selected":"";if(g&&t.scrollMatchIntoView({element:c[p.divIdx],pageIndex:n,matchIndex:i}),a&&p.divIdx===a.divIdx?b(a.divIdx,a.offset,p.offset):(null!==a&&b(a.divIdx,a.offset,o.offset),m(p)),p.divIdx===f.divIdx)b(p.divIdx,p.offset,f.offset,"highlight"+v);else{b(p.divIdx,p.offset,o.offset,"highlight begin"+v);for(var _=p.divIdx+1,y=f.divIdx;_<y;_++)c[_].className="highlight middle"+v;m(f,"highlight end"+v)}a=f}a&&b(a.divIdx,a.offset,o.offset)}function m(e,t){var n=e.divIdx;c[n].textContent="",b(n,0,e.offset,t)}function b(e,t,n,r){var i=c[e],a=u[e].substring(t,n),o=document.createTextNode(a);if(r){var s=document.createElement("span");return s.className=r,s.appendChild(o),void i.appendChild(s)}i.appendChild(o)}}},{key:"_updateMatches",value:function(){if(this.renderingDone){for(var e=this.findController,t=this.matches,n=this.pageIdx,r=this.textContentItemsStr,i=this.textDivs,a=-1,o=0,s=t.length;o<s;o++){for(var u=t[o],c=Math.max(a,u.begin.divIdx),l=u.end.divIdx;c<=l;c++){var h=i[c];h.textContent=r[c],h.className=""}a=u.end.divIdx+1}if(null!=e&&e.highlightMatches){var d=e.pageMatches[n]||null,p=e.pageMatchesLength[n]||null;this.matches=this._convertMatches(d,p),this._renderMatches(this.matches)}}}},{key:"_bindMouse",value:function(){var a=this,o=this.textLayerDiv,s=null;o.addEventListener("mousedown",function(e){if(a.enhanceTextSelection&&a.textLayerRenderTask)return a.textLayerRenderTask.expandTextDivs(!0),void(s&&(clearTimeout(s),s=null));var t=o.querySelector(".endOfContent");if(t){var n=e.target!==o;if(n=n&&"none"!==window.getComputedStyle(t).getPropertyValue("-moz-user-select")){var r=o.getBoundingClientRect(),i=Math.max(0,(e.pageY-r.top)/r.height);t.style.top=(100*i).toFixed(2)+"%"}t.classList.add("active")}}),o.addEventListener("mouseup",function(){if(a.enhanceTextSelection&&a.textLayerRenderTask)s=setTimeout(function(){a.textLayerRenderTask&&a.textLayerRenderTask.expandTextDivs(!1),s=null},300);else{var e=o.querySelector(".endOfContent");e&&(e.style.top="",e.classList.remove("active"))}})}}]),c}();t.TextLayerBuilder=a;var i=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"createTextLayerBuilder",value:function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]&&arguments[3],i=4<arguments.length?arguments[4]:void 0;return new a({textLayerDiv:e,pageIndex:t,viewport:n,enhanceTextSelection:r,eventBus:i})}}]),e}();t.DefaultTextLayerFactory=i},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.DownloadManager=void 0;var s=n(2),u=n(8);function r(e,t){var n=document.createElement("a");if(!n.click)throw new Error('DownloadManager: "a.click()" is not supported.');n.href=e,n.target="_parent","download"in n&&(n.download=t),(document.body||document.documentElement).appendChild(n),n.click(),n.remove()}var i=function(){function e(){_classCallCheck(this,e),this._openBlobUrls=new WeakMap}return _createClass(e,[{key:"downloadUrl",value:function(e,t){(0,s.createValidAbsoluteUrl)(e,"http://example.com")&&r(e+"#pdfjs.action=download",t)}},{key:"downloadData",value:function(e,t,n){r((0,s.createObjectURL)(e,n,u.viewerCompatibilityParams.disableCreateObjectURL),t)}},{key:"openOrDownloadData",value:function(t,e,n){var r=(0,s.isPdfFile)(n),i=r?"application/pdf":"";if(r&&!u.viewerCompatibilityParams.disableCreateObjectURL){var a,o=this._openBlobUrls.get(t);o||(o=URL.createObjectURL(new Blob([e],{type:i})),this._openBlobUrls.set(t,o)),a="?file="+encodeURIComponent(o+"#"+n);try{return window.open(a),!0}catch(e){console.error("openOrDownloadData: ".concat(e)),URL.revokeObjectURL(o),this._openBlobUrls.delete(t)}}return this.downloadData(e,n,i),!1}},{key:"download",value:function(e,t,n){3<arguments.length&&void 0!==arguments[3]&&arguments[3];u.viewerCompatibilityParams.disableCreateObjectURL?this.downloadUrl(t,n):r(URL.createObjectURL(e),n)}}]),e}();t.DownloadManager=i},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.viewerCompatibilityParams=void 0;var n=Object.create(null),r="undefined"!=typeof navigator&&navigator.userAgent||"",i="undefined"!=typeof navigator&&navigator.platform||"",a="undefined"!=typeof navigator&&navigator.maxTouchPoints||1,o=/Android/.test(r),s=/\b(iPad|iPhone|iPod)(?=;)/.test(r)||"MacIntel"===i&&1<a;/CriOS/.test(r)&&(n.disableCreateObjectURL=!0),(s||o)&&(n.maxCanvasPixels=5242880);var u=Object.freeze(n);t.viewerCompatibilityParams=u},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.GenericL10n=void 0,n(10);var o=n(3),a=document.webL10n,r=function(){function e(n){_classCallCheck(this,e),this._lang=n,this._ready=new Promise(function(e,t){a.setLanguage(n,function(){e(a)})})}var t,n,r,i;return _createClass(e,[{key:"getLanguage",value:(i=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._ready;case 2:return t=e.sent,e.abrupt("return",t.getLanguage());case 4:case"end":return e.stop()}},e,this)})),function(){return i.apply(this,arguments)})},{key:"getDirection",value:(r=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._ready;case 2:return t=e.sent,e.abrupt("return",t.getDirection());case 4:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"get",value:(n=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var n,r,i,a=arguments;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=1<a.length&&void 0!==a[1]?a[1]:null,r=2<a.length&&void 0!==a[2]?a[2]:(0,o.getL10nFallback)(t,n),e.next=4,this._ready;case 4:return i=e.sent,e.abrupt("return",i.get(t,n,r));case 6:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"translate",value:(t=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var n;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._ready;case 2:return n=e.sent,e.abrupt("return",n.translate(t));case 4:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})}]),e}();t.GenericL10n=r},function(){document.webL10n=function(e,d,t){var p={},f="",c="textContent",g="",u={},v="loading",i=!0;function o(e,t,n){t=t||function(e){},n=n||function(){};var r=new XMLHttpRequest;r.open("GET",e,i),r.overrideMimeType&&r.overrideMimeType("text/plain; charset=utf-8"),r.onreadystatechange=function(){4==r.readyState&&(200==r.status||0===r.status?t(r.responseText):n())},r.onerror=n,r.ontimeout=n;try{r.send(null)}catch(e){n()}}function _(e,_,a,t){var y=e.replace(/[^\/]*$/,"")||"./";o(e,function(e){f+=e,function(e,t){var h={},n=/^\s*|\s*$/,d=/^\s*#|^\s*$/,p=/^\s*\[(.*)\]\s*$/,f=/^\s*@import\s+url\((.*)\)\s*$/i,g=/^([^=\s]*)\s*=\s*(.+)$/;function r(e,i,a){var o=e.replace(n,"").split(/[\r\n]+/),s="*",u=_.split("-",1)[0],c=!1,l="";!function e(){for(;;){if(!o.length)return void a();var t=o.shift();if(!d.test(t)){if(i){if(l=p.exec(t)){s=l[1].toLowerCase(),c="*"!==s&&s!==_&&s!==u;continue}if(c)continue;if(l=f.exec(t))return void v(y+l[1],e)}var n=t.match(g);n&&3==n.length&&(h[n[1]]=(r=n[2]).lastIndexOf("\\")<0?r:r.replace(/\\\\/g,"\\").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'"))}}var r}()}function v(e,t){o(e,function(e){r(e,!1,t)},function(){console.warn(e+" not found."),t()})}r(e,!0,function(){t(h)})}(e,function(e){for(var t in e){var n,r,i=t.lastIndexOf(".");r=0<i?(n=t.substring(0,i),t.substring(i+1)):(n=t,c),p[n]||(p[n]={}),p[n][r]=e[t]}a&&a()})},t)}function n(e,t){e&&(e=e.toLowerCase()),t=t||function(){},p={},g=f="",g=e;var n=d.querySelectorAll('link[type="application/l10n"]'),r=n.length;if(0!==r){var i,a,o=0;a=function(){r<=++o&&(t(),v="complete")};for(var s=0;s<r;s++){new h(n[s]).load(e,a)}}else{var u=(i=d.querySelector('script[type="application/l10n"]'))?JSON.parse(i.innerHTML):null;if(u&&u.locales&&u.default_locale){if(console.log("using the embedded JSON directory, early way out"),!(p=u.locales[e])){var c=u.default_locale.toLowerCase();for(var l in u.locales){if((l=l.toLowerCase())===e){p=u.locales[e];break}l===c&&(p=u.locales[c])}}t()}else console.log("no resource to load, early way out");v="complete"}function h(e){var n=e.href;this.load=function(e,t){_(n,e,t,function(){console.warn(n+" not found."),console.warn('"'+e+'" resource not found'),g="",t()})}}}function l(e,t,n){var r=p[e];if(!r){if(console.warn("#"+e+" is undefined."),!n)return null;r=n}var i={};for(var a in r){var o=r[a];o=h(o=s(o,t,e,a),t,e),i[a]=o}return i}function s(e,t,n,r){var i=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/.exec(e);if(!i||!i.length)return e;var a,o=i[1],s=i[2];(t&&s in t?a=t[s]:s in p&&(a=p[s]),o in u)&&(e=(0,u[o])(e,a,n,r));return e}function h(e,n,r){return e.replace(/\{\{\s*(.+?)\s*\}\}/g,function(e,t){return n&&t in n?n[t]:t in p?p[t]:(console.log("argument  + arg +  for #"+r+" is undefined."),e)})}function a(e){var t=function(e){if(!e)return{};var t=e.getAttribute("data-l10n-id"),n=e.getAttribute("data-l10n-args"),r={};if(n)try{r=JSON.parse(n)}catch(e){console.warn("could not parse arguments for #"+t)}return{id:t,args:r}}(e);if(t.id){var n=l(t.id,t.args);if(n){if(n[c]){if(0===function(e){if(e.children)return e.children.length;if(void 0!==e.childElementCount)return e.childElementCount;for(var t=0,n=0;n<e.childNodes.length;n++)t+=1===e.nodeType?1:0;return t}(e))e[c]=n[c];else{for(var r=e.childNodes,i=!1,a=0,o=r.length;a<o;a++)3===r[a].nodeType&&/\S/.test(r[a].nodeValue)&&(i?r[a].nodeValue="":(r[a].nodeValue=n[c],i=!0));if(!i){var s=d.createTextNode(n[c]);e.insertBefore(s,e.firstChild)}}delete n[c]}for(var u in n)e[u]=n[u]}else console.warn("#"+t.id+" is undefined.")}}return u.plural=function(e,t,n,r){var i=parseFloat(t);if(isNaN(i))return e;if(r!=c)return e;u._pluralRules||(u._pluralRules=function(e){function t(e,t){return-1!==t.indexOf(e)}function n(e,t,n){return t<=e&&e<=n}var r={0:function(e){return"other"},1:function(e){return n(e%100,3,10)?"few":0===e?"zero":n(e%100,11,99)?"many":2==e?"two":1==e?"one":"other"},2:function(e){return 0!==e&&e%10==0?"many":2==e?"two":1==e?"one":"other"},3:function(e){return 1==e?"one":"other"},4:function(e){return n(e,0,1)?"one":"other"},5:function(e){return n(e,0,2)&&2!=e?"one":"other"},6:function(e){return 0===e?"zero":e%10==1&&e%100!=11?"one":"other"},7:function(e){return 2==e?"two":1==e?"one":"other"},8:function(e){return n(e,3,6)?"few":n(e,7,10)?"many":2==e?"two":1==e?"one":"other"},9:function(e){return 0===e||1!=e&&n(e%100,1,19)?"few":1==e?"one":"other"},10:function(e){return n(e%10,2,9)&&!n(e%100,11,19)?"few":e%10!=1||n(e%100,11,19)?"other":"one"},11:function(e){return n(e%10,2,4)&&!n(e%100,12,14)?"few":e%10==0||n(e%10,5,9)||n(e%100,11,14)?"many":e%10==1&&e%100!=11?"one":"other"},12:function(e){return n(e,2,4)?"few":1==e?"one":"other"},13:function(e){return n(e%10,2,4)&&!n(e%100,12,14)?"few":1!=e&&n(e%10,0,1)||n(e%10,5,9)||n(e%100,12,14)?"many":1==e?"one":"other"},14:function(e){return n(e%100,3,4)?"few":e%100==2?"two":e%100==1?"one":"other"},15:function(e){return 0===e||n(e%100,2,10)?"few":n(e%100,11,19)?"many":1==e?"one":"other"},16:function(e){return e%10==1&&11!=e?"one":"other"},17:function(e){return 3==e?"few":0===e?"zero":6==e?"many":2==e?"two":1==e?"one":"other"},18:function(e){return 0===e?"zero":n(e,0,2)&&0!==e&&2!=e?"one":"other"},19:function(e){return n(e,2,10)?"few":n(e,0,1)?"one":"other"},20:function(e){return!n(e%10,3,4)&&e%10!=9||n(e%100,10,19)||n(e%100,70,79)||n(e%100,90,99)?e%1e6==0&&0!==e?"many":e%10!=2||t(e%100,[12,72,92])?e%10!=1||t(e%100,[11,71,91])?"other":"one":"two":"few"},21:function(e){return 0===e?"zero":1==e?"one":"other"},22:function(e){return n(e,0,1)||n(e,11,99)?"one":"other"},23:function(e){return n(e%10,1,2)||e%20==0?"one":"other"},24:function(e){return n(e,3,10)||n(e,13,19)?"few":t(e,[2,12])?"two":t(e,[1,11])?"one":"other"}},i={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3}[e.replace(/-.*$/,"")];return i in r?r[i]:(console.warn("plural form unknown for ["+e+"]"),function(){return"other"})}(g));var a="["+u._pluralRules(i)+"]";return 0===i&&n+"[zero]"in p?e=p[n+"[zero]"][r]:1==i&&n+"[one]"in p?e=p[n+"[one]"][r]:2==i&&n+"[two]"in p?e=p[n+"[two]"][r]:n+a in p?e=p[n+a][r]:n+"[other]"in p&&(e=p[n+"[other]"][r]),e},{get:function(e,t,n){var r,i=e.lastIndexOf("."),a=c;0<i&&(a=e.substring(i+1),e=e.substring(0,i)),n&&((r={})[a]=n);var o=l(e,t,r);return o&&a in o?o[a]:" + key + "},getData:function(){return p},getText:function(){return f},getLanguage:function(){return g},setLanguage:function(e,t){n(e,function(){t&&t()})},getDirection:function(){var e=g.split("-",1)[0];return 0<=["ar","he","fa","ps","ur"].indexOf(e)?"rtl":"ltr"},translate:function(e){e=e||d.documentElement;for(var t,n=(t=e)?t.querySelectorAll("*[data-l10n-id]"):[],r=n.length,i=0;i<r;i++)a(n[i]);a(e)},getReadyState:function(){return v},ready:function(t){t&&("complete"==v||"interactive"==v?e.setTimeout(function(){t()}):d.addEventListener&&d.addEventListener("localized",function e(){d.removeEventListener("localized",e),t()}))}}}(window,document)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.PDFFindController=t.FindState=void 0;var i=n(2),u=n(12),c=n(5),s={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};t.FindState=s;var a={"‘":"'","’":"'","‚":"'","‛":"'","“":'"',"”":'"',"„":'"',"‟":'"',"¼":"1/4","½":"1/2","¾":"3/4"},r=null;function l(e){if(!r){var t=Object.keys(a).join("");r=new RegExp("[".concat(t,"]"),"g")}var i=null;return[e.replace(r,function(e,t){var n=a[e],r=n.length-e.length;return 0!==r&&(i||(i=[])).push([t,r]),n}),i]}function f(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;if(!t)return e;var n,r=0,i=_createForOfIteratorHelper(t);try{for(i.s();!(n=i.n()).done;){var a=_slicedToArray(n.value,2),o=a[0],s=a[1],u=o+r;if(e<=u)break;if(e<u+s){r+=e-u;break}r+=s}}catch(e){i.e(e)}finally{i.f()}return e-r}var o=function(){function r(e){var t=e.linkService,n=e.eventBus;_classCallCheck(this,r),this._linkService=t,this._eventBus=n,this._reset(),n._on("findbarclose",this._onFindBarClose.bind(this))}return _createClass(r,[{key:"highlightMatches",get:function(){return this._highlightMatches}},{key:"pageMatches",get:function(){return this._pageMatches}},{key:"pageMatchesLength",get:function(){return this._pageMatchesLength}},{key:"selected",get:function(){return this._selected}},{key:"state",get:function(){return this._state}},{key:"setDocument",value:function(e){this._pdfDocument&&this._reset(),e&&(this._pdfDocument=e,this._firstPageCapability.resolve())}},{key:"executeCommand",value:function(n,e){var r=this;if(e){var i=this._pdfDocument;(null===this._state||this._shouldDirtyMatch(n,e))&&(this._dirtyMatch=!0),this._state=e,"findhighlightallchange"!==n&&this._updateUIState(s.PENDING),this._firstPageCapability.promise.then(function(){if(r._pdfDocument&&(!i||r._pdfDocument===i)){r._extractText();var e=!r._highlightMatches,t=!!r._findTimeout;r._findTimeout&&(clearTimeout(r._findTimeout),r._findTimeout=null),"find"===n?r._findTimeout=setTimeout(function(){r._nextMatch(),r._findTimeout=null},250):r._dirtyMatch?r._nextMatch():"findagain"===n?(r._nextMatch(),e&&r._state.highlightAll&&r._updateAllPages()):"findhighlightallchange"===n?(t?r._nextMatch():r._highlightMatches=!0,r._updateAllPages()):r._nextMatch()}})}}},{key:"scrollMatchIntoView",value:function(e){var t=e.element,n=void 0===t?null:t,r=e.pageIndex,i=void 0===r?-1:r,a=e.matchIndex,o=void 0===a?-1:a;if(this._scrollMatches&&n&&-1!==o&&o===this._selected.matchIdx&&-1!==i&&i===this._selected.pageIdx){this._scrollMatches=!1;var s={top:-50,left:-400};(0,c.scrollIntoView)(n,s,!0)}}},{key:"_reset",value:function(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this._state=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=Object.create(null),this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=(0,i.createPromiseCapability)()}},{key:"_query",get:function(){if(this._state.query!==this._rawQuery){this._rawQuery=this._state.query;var e=_slicedToArray(l(this._state.query),1);this._normalizedQuery=e[0]}return this._normalizedQuery}},{key:"_shouldDirtyMatch",value:function(e,t){if(t.query!==this._state.query)return!0;switch(e){case"findagain":var n=this._selected.pageIdx+1,r=this._linkService;return 1<=n&&n<=r.pagesCount&&n!==r.page&&!r.isPageVisible(n);case"findhighlightallchange":return!1}return!0}},{key:"_prepareMatches",value:function(a,e,t){function n(e){var t=a[e],n=a[e+1];if(e<a.length-1&&t.match===n.match)return t.skipped=!0;for(var r=e-1;0<=r;r--){var i=a[r];if(!i.skipped){if(i.match+i.matchLength<t.match)break;if(i.match+i.matchLength>=t.match+t.matchLength)return t.skipped=!0}}return!1}a.sort(function(e,t){return e.match===t.match?e.matchLength-t.matchLength:e.match-t.match});for(var r=0,i=a.length;r<i;r++)n(r)||(e.push(a[r].match),t.push(a[r].matchLength))}},{key:"_isEntireWord",value:function(e,t,n){if(0<t){var r=e.charCodeAt(t),i=e.charCodeAt(t-1);if((0,u.getCharacterType)(r)===(0,u.getCharacterType)(i))return!1}var a=t+n-1;if(a<e.length-1){var o=e.charCodeAt(a),s=e.charCodeAt(a+1);if((0,u.getCharacterType)(o)===(0,u.getCharacterType)(s))return!1}return!0}},{key:"_calculatePhraseMatch",value:function(e,t,n,r,i){for(var a=[],o=[],s=e.length,u=-s;-1!==(u=n.indexOf(e,u+s));)if(!i||this._isEntireWord(n,u,s)){var c=f(u,r),l=f(u+s-1,r)-c+1;a.push(c),o.push(l)}this._pageMatches[t]=a,this._pageMatchesLength[t]=o}},{key:"_calculateWordMatch",value:function(e,t,n,r,i){for(var a=[],o=e.match(/\S+/g),s=0,u=o.length;s<u;s++)for(var c=o[s],l=c.length,h=-l;-1!==(h=n.indexOf(c,h+l));)if(!i||this._isEntireWord(n,h,l)){var d=f(h,r),p=f(h+l-1,r)-d+1;a.push({match:d,matchLength:p,skipped:!1})}this._pageMatchesLength[t]=[],this._pageMatches[t]=[],this._prepareMatches(a,this._pageMatches[t],this._pageMatchesLength[t])}},{key:"_calculateMatch",value:function(e){var t=this._pageContents[e],n=this._pageDiffs[e],r=this._query,i=this._state,a=i.caseSensitive,o=i.entireWord,s=i.phraseSearch;if(0!==r.length){a||(t=t.toLowerCase(),r=r.toLowerCase()),s?this._calculatePhraseMatch(r,e,t,n,o):this._calculateWordMatch(r,e,t,n,o),this._state.highlightAll&&this._updatePage(e),this._resumePageIdx===e&&(this._resumePageIdx=null,this._nextPageMatch());var u=this._pageMatches[e].length;0<u&&(this._matchesCountTotal+=u,this._updateUIResultsCount())}}},{key:"_extractText",value:function(){var u=this;if(!(0<this._extractTextPromises.length))for(var t=Promise.resolve(),e=function(o,e){var s=(0,i.createPromiseCapability)();u._extractTextPromises[o]=s.promise,t=t.then(function(){return u._pdfDocument.getPage(o+1).then(function(e){return e.getTextContent({normalizeWhitespace:!0})}).then(function(e){for(var t=e.items,n=[],r=0,i=t.length;r<i;r++)n.push(t[r].str);var a=_slicedToArray(l(n.join("")),2);u._pageContents[o]=a[0],u._pageDiffs[o]=a[1],s.resolve(o)},function(e){console.error("Unable to get text content for page ".concat(o+1),e),u._pageContents[o]="",u._pageDiffs[o]=null,s.resolve(o)})})},n=0,r=this._linkService.pagesCount;n<r;n++)e(n)}},{key:"_updatePage",value:function(e){this._scrollMatches&&this._selected.pageIdx===e&&(this._linkService.page=e+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:e})}},{key:"_updateAllPages",value:function(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})}},{key:"_nextMatch",value:function(){var t=this,e=this._state.findPrevious,n=this._linkService.page-1,r=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=n,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this._matchesCountTotal=0,this._updateAllPages();for(var i=0;i<r;i++)!0!==this._pendingFindMatches[i]&&(this._pendingFindMatches[i]=!0,this._extractTextPromises[i].then(function(e){delete t._pendingFindMatches[e],t._calculateMatch(e)}))}if(""!==this._query){if(!this._resumePageIdx){var a=this._offset;if(this._pagesToSearch=r,null!==a.matchIdx){var o=this._pageMatches[a.pageIdx].length;if(!e&&a.matchIdx+1<o||e&&0<a.matchIdx)return a.matchIdx=e?a.matchIdx-1:a.matchIdx+1,void this._updateMatch(!0);this._advanceOffsetPage(e)}this._nextPageMatch()}}else this._updateUIState(s.FOUND)}},{key:"_matchesReady",value:function(e){var t=this._offset,n=e.length,r=this._state.findPrevious;return n?(t.matchIdx=r?n-1:0,this._updateMatch(!0),!0):(this._advanceOffsetPage(r),!!(t.wrapped&&(t.matchIdx=null,this._pagesToSearch<0))&&(this._updateMatch(!1),!0))}},{key:"_nextPageMatch",value:function(){null!==this._resumePageIdx&&console.error("There can only be one pending page.");var e=null;do{var t=this._offset.pageIdx;if(!(e=this._pageMatches[t])){this._resumePageIdx=t;break}}while(!this._matchesReady(e))}},{key:"_advanceOffsetPage",value:function(e){var t=this._offset,n=this._linkService.pagesCount;t.pageIdx=e?t.pageIdx-1:t.pageIdx+1,t.matchIdx=null,this._pagesToSearch--,(t.pageIdx>=n||t.pageIdx<0)&&(t.pageIdx=e?n-1:0,t.wrapped=!0)}},{key:"_updateMatch",value:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=s.NOT_FOUND,n=this._offset.wrapped;if(this._offset.wrapped=!1,e){var r=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,t=n?s.WRAPPED:s.FOUND,-1!==r&&r!==this._selected.pageIdx&&this._updatePage(r)}this._updateUIState(t,this._state.findPrevious),-1!==this._selected.pageIdx&&(this._scrollMatches=!0,this._updatePage(this._selected.pageIdx))}},{key:"_onFindBarClose",value:function(e){var t=this,n=this._pdfDocument;this._firstPageCapability.promise.then(function(){!t._pdfDocument||n&&t._pdfDocument!==n||(t._findTimeout&&(clearTimeout(t._findTimeout),t._findTimeout=null),t._resumePageIdx&&(t._resumePageIdx=null,t._dirtyMatch=!0),t._updateUIState(s.FOUND),t._highlightMatches=!1,t._updateAllPages())})}},{key:"_requestMatchesCount",value:function(){var e=this._selected,t=e.pageIdx,n=e.matchIdx,r=0,i=this._matchesCountTotal;if(-1!==n){for(var a=0;a<t;a++){var o;r+=(null===(o=this._pageMatches[a])||void 0===o?void 0:o.length)||0}r+=n+1}return(r<1||i<r)&&(r=i=0),{current:r,total:i}}},{key:"_updateUIResultsCount",value:function(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:this._requestMatchesCount()})}},{key:"_updateUIState",value:function(e,t){var n,r;this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:e,previous:t,matchesCount:this._requestMatchesCount(),rawQuery:null!==(n=null===(r=this._state)||void 0===r?void 0:r.query)&&void 0!==n?n:null})}}]),r}();t.PDFFindController=o},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getCharacterType=function(e){if(i=e,i<11904)return 0==(65408&e)?32===(r=e)||9===r||13===r||10===r?c.SPACE:97<=(n=e)&&n<=122||65<=n&&n<=90||48<=(t=e)&&t<=57||95===e?c.ALPHA_LETTER:c.PUNCT:3584==(65408&e)?c.THAI_LETTER:160===e?c.SPACE:c.ALPHA_LETTER;var t;var n;var r;var i;{if(13312<=(u=e)&&u<=40959||63744<=u&&u<=64255)return c.HAN_LETTER;if(12448<=(s=e)&&s<=12543)return c.KATAKANA_LETTER;if(12352<=(o=e)&&o<=12447)return c.HIRAGANA_LETTER;if(65376<=(a=e)&&a<=65439)return c.HALFWIDTH_KATAKANA_LETTER}var a;var o;var s;var u;return c.ALPHA_LETTER},t.CharacterType=void 0;var c={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};t.CharacterType=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.isDestArraysEqual=c,t.isDestHashesEqual=u,t.PDFHistory=void 0;var l=n(5);function p(){return document.location.hash}var r=function(){function i(e){var t=this,n=e.linkService,r=e.eventBus;_classCallCheck(this,i),this.linkService=n,this.eventBus=r,this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this._isViewerInPresentationMode=!1,this.eventBus._on("presentationmodechanged",function(e){t._isViewerInPresentationMode=e.state!==l.PresentationModeState.NORMAL}),this.eventBus._on("pagesinit",function(){t._isPagesLoaded=!1,t.eventBus._on("pagesloaded",function(e){t._isPagesLoaded=!!e.pagesCount},{once:!0})})}return _createClass(i,[{key:"initialize",value:function(e){var t=e.fingerprint,n=e.resetHistory,r=void 0!==n&&n,i=e.updateUrl,a=void 0!==i&&i;if(t&&"string"==typeof t){this._initialized&&this.reset();var o=""!==this._fingerprint&&this._fingerprint!==t;this._fingerprint=t,this._updateUrl=!0===a,this._initialized=!0,this._bindEvents();var s=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=p(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(s,!0)||r){var u=this._parseCurrentHash(!0),c=u.hash,l=u.page,h=u.rotation;return!c||o||r?void this._pushOrReplaceState(null,!0):void this._pushOrReplaceState({hash:c,page:l,rotation:h},!0)}var d=s.destination;this._updateInternalState(d,s.uid,!0),void 0!==d.rotation&&(this._initialRotation=d.rotation),d.dest?(this._initialBookmark=JSON.stringify(d.dest),this._destination.page=null):d.hash?this._initialBookmark=d.hash:d.page&&(this._initialBookmark="page=".concat(d.page))}else console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.')}},{key:"reset",value:function(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}},{key:"push",value:function(e){var t=this,n=e.namedDest,r=void 0===n?null:n,i=e.explicitDest,a=e.pageNumber;if(this._initialized)if(r&&"string"!=typeof r)console.error("PDFHistory.push: "+'"'.concat(r,'" is not a valid namedDest parameter.'));else if(Array.isArray(i))if(this._isValidPage(a)||null===a&&!this._destination){var o=r||JSON.stringify(i);if(o){var s=!1;if(this._destination&&(u(this._destination.hash,o)||c(this._destination.dest,i))){if(this._destination.page)return;s=!0}this._popStateInProgress&&!s||(this._pushOrReplaceState({dest:i,hash:o,page:a,rotation:this.linkService.rotation},s),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(function(){t._popStateInProgress=!1})))}}else console.error("PDFHistory.push: "+'"'.concat(a,'" is not a valid pageNumber parameter.'));else console.error("PDFHistory.push: "+'"'.concat(i,'" is not a valid explicitDest parameter.'))}},{key:"pushPage",value:function(e){var t,n=this;this._initialized&&(this._isValidPage(e)?(null===(t=this._destination)||void 0===t?void 0:t.page)!==e&&(this._popStateInProgress||(this._pushOrReplaceState({dest:null,hash:"page=".concat(e),page:e,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(function(){n._popStateInProgress=!1})))):console.error('PDFHistory.pushPage: "'.concat(e,'" is not a valid page number.')))}},{key:"pushCurrentPosition",value:function(){this._initialized&&!this._popStateInProgress&&this._tryPushCurrentPosition()}},{key:"back",value:function(){if(this._initialized&&!this._popStateInProgress){var e=window.history.state;this._isValidState(e)&&0<e.uid&&window.history.back()}}},{key:"forward",value:function(){if(this._initialized&&!this._popStateInProgress){var e=window.history.state;this._isValidState(e)&&e.uid<this._maxUid&&window.history.forward()}}},{key:"popStateInProgress",get:function(){return this._initialized&&(this._popStateInProgress||0<this._blockHashChange)}},{key:"initialBookmark",get:function(){return this._initialized?this._initialBookmark:null}},{key:"initialRotation",get:function(){return this._initialized?this._initialRotation:null}},{key:"_pushOrReplaceState",value:function(e){var t,n=1<arguments.length&&void 0!==arguments[1]&&arguments[1]||!this._destination,r={fingerprint:this._fingerprint,uid:n?this._uid:this._uid+1,destination:e};if(this._updateInternalState(e,r.uid),this._updateUrl&&null!=e&&e.hash){var i=document.location.href.split("#")[0];i.startsWith("file://")||(t="".concat(i,"#").concat(e.hash))}n?window.history.replaceState(r,"",t):window.history.pushState(r,"",t)}},{key:"_tryPushCurrentPosition",value:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];if(this._position){var t=this._position;if(e&&((t=Object.assign(Object.create(null),this._position)).temporary=!0),this._destination){if(this._destination.temporary)this._pushOrReplaceState(t,!0);else if(this._destination.hash!==t.hash&&(this._destination.page||!(this._numPositionUpdates<=50))){var n=!1;if(this._destination.page>=t.first&&this._destination.page<=t.page){if(void 0!==this._destination.dest||!this._destination.first)return;n=!0}this._pushOrReplaceState(t,n)}}else this._pushOrReplaceState(t)}}},{key:"_isValidPage",value:function(e){return Number.isInteger(e)&&0<e&&e<=this.linkService.pagesCount}},{key:"_isValidState",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(!e)return!1;if(e.fingerprint!==this._fingerprint){if(!t)return!1;if("string"!=typeof e.fingerprint||e.fingerprint.length!==this._fingerprint.length)return!1;var n=_slicedToArray(performance.getEntriesByType("navigation"),1)[0];if("reload"!==(null==n?void 0:n.type))return!1}return!(!Number.isInteger(e.uid)||e.uid<0)&&(null!==e.destination&&"object"===_typeof(e.destination))}},{key:"_updateInternalState",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2];this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),n&&null!=e&&e.temporary&&delete e.temporary,this._destination=e,this._uid=t,this._maxUid=Math.max(this._maxUid,t),this._numPositionUpdates=0}},{key:"_parseCurrentHash",value:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=unescape(p()).substring(1),n=(0,l.parseQueryString)(t),r=n.nameddest||"",i=0|n.page;return(!this._isValidPage(i)||e&&0<r.length)&&(i=null),{hash:t,page:i,rotation:this.linkService.rotation}}},{key:"_updateViewarea",value:function(e){var t=this,n=e.location;this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:this._isViewerInPresentationMode?"page=".concat(n.pageNumber):n.pdfOpenParams.substring(1),page:this.linkService.page,first:n.pageNumber,rotation:n.rotation},this._popStateInProgress||(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(function(){t._popStateInProgress||t._tryPushCurrentPosition(!0),t._updateViewareaTimeout=null},1e3))}},{key:"_popState",value:function(e){var t=this,n=e.state,r=p(),i=this._currentHash!==r;if(this._currentHash=r,n){if(this._isValidState(n)){this._popStateInProgress=!0,i&&(this._blockHashChange++,(0,l.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:1e3}).then(function(){t._blockHashChange--}));var a=n.destination;this._updateInternalState(a,n.uid,!0),(0,l.isValidRotation)(a.rotation)&&(this.linkService.rotation=a.rotation),a.dest?this.linkService.goToDestination(a.dest):a.hash?this.linkService.setHash(a.hash):a.page&&(this.linkService.page=a.page),Promise.resolve().then(function(){t._popStateInProgress=!1})}}else{this._uid++;var o=this._parseCurrentHash(),s=o.hash,u=o.page,c=o.rotation;this._pushOrReplaceState({hash:s,page:u,rotation:c},!0)}}},{key:"_pageHide",value:function(){this._destination&&!this._destination.temporary||this._tryPushCurrentPosition()}},{key:"_bindEvents",value:function(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}},{key:"_unbindEvents",value:function(){this._boundEvents&&(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}}]),i}();function u(e,t){return"string"==typeof e&&"string"==typeof t&&(e===t||(0,l.parseQueryString)(e).nameddest===t)}function c(e,t){function r(e,t){if(_typeof(e)!==_typeof(t))return!1;if(Array.isArray(e)||Array.isArray(t))return!1;if(null===e||"object"!==_typeof(e)||null===t)return e===t||Number.isNaN(e)&&Number.isNaN(t);if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e)if(!r(e[n],t[n]))return!1;return!0}if(!Array.isArray(e)||!Array.isArray(t))return!1;if(e.length!==t.length)return!1;for(var n=0,i=e.length;n<i;n++)if(!r(e[n],t[n]))return!1;return!0}t.PDFHistory=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.PDFPageView=void 0;var v=n(5),_=n(2),a=n(3),d=n(15),o=n(8),s=o.viewerCompatibilityParams.maxCanvasPixels||16777216,r=function(){function i(e){_classCallCheck(this,i);var t=e.container,n=e.defaultViewport;this.id=e.id,this.renderingId="page"+this.id,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=e.scale||v.DEFAULT_SCALE,this.viewport=n,this.pdfPageRotate=n.rotation,this._optionalContentConfigPromise=e.optionalContentConfigPromise||null,this.hasRestrictedScaling=!1,this.textLayerMode=Number.isInteger(e.textLayerMode)?e.textLayerMode:v.TextLayerMode.ENABLE,this.imageResourcesPath=e.imageResourcesPath||"",this.renderInteractiveForms=!1!==e.renderInteractiveForms,this.useOnlyCssZoom=e.useOnlyCssZoom||!1,this.maxCanvasPixels=e.maxCanvasPixels||s,this.eventBus=e.eventBus,this.renderingQueue=e.renderingQueue,this.textLayerFactory=e.textLayerFactory,this.annotationLayerFactory=e.annotationLayerFactory,this.xfaLayerFactory=e.xfaLayerFactory,this.renderer=e.renderer||v.RendererType.CANVAS,this.enableWebGL=e.enableWebGL||!1,this.l10n=e.l10n||a.NullL10n,this.enableScripting=!0===e.enableScripting,this.paintTask=null,this.paintedViewportMap=new WeakMap,this.renderingState=d.RenderingStates.INITIAL,this.resume=null,this._renderError=null,this.annotationLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null;var r=document.createElement("div");r.className="page",r.style.width=Math.floor(this.viewport.width)+"px",r.style.height=Math.floor(this.viewport.height)+"px",r.setAttribute("data-page-number",this.id),r.setAttribute("role","region"),this.l10n.get("page_landmark",{page:this.id}).then(function(e){r.setAttribute("aria-label",e)}),this.div=r,t.appendChild(r)}var e,t;return _createClass(i,[{key:"setPdfPage",value:function(e){this.pdfPage=e,this.pdfPageRotate=e.rotate;var t=(this.rotation+this.pdfPageRotate)%360;this.viewport=e.getViewport({scale:this.scale*v.CSS_UNITS,rotation:t}),this.reset()}},{key:"destroy",value:function(){this.reset(),this.pdfPage&&this.pdfPage.cleanup()}},{key:"_renderAnnotationLayer",value:(t=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=null,e.prev=1,e.next=4,this.annotationLayer.render(this.viewport,"display");case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),t=e.t0;case 9:return e.prev=9,this.eventBus.dispatch("annotationlayerrendered",{source:this,pageNumber:this.id,error:t}),e.finish(9);case 12:case"end":return e.stop()}},e,this,[[1,6,9,12]])})),function(){return t.apply(this,arguments)})},{key:"_renderXfaLayer",value:(e=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=null,e.prev=1,e.next=4,this.xfaLayer.render(this.viewport,"display");case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),t=e.t0;case 9:return e.prev=9,this.eventBus.dispatch("xfalayerrendered",{source:this,pageNumber:this.id,error:t}),e.finish(9);case 12:case"end":return e.stop()}},e,this,[[1,6,9,12]])})),function(){return e.apply(this,arguments)})},{key:"_resetZoomLayer",value:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];if(this.zoomLayer){var t=this.zoomLayer.firstChild;this.paintedViewportMap.delete(t),t.width=0,t.height=0,e&&this.zoomLayer.remove(),this.zoomLayer=null}}},{key:"reset",value:function(){var e,t,n=this,r=0<arguments.length&&void 0!==arguments[0]&&arguments[0],i=1<arguments.length&&void 0!==arguments[1]&&arguments[1];this.cancelRendering(i),this.renderingState=d.RenderingStates.INITIAL;var a=this.div;a.style.width=Math.floor(this.viewport.width)+"px",a.style.height=Math.floor(this.viewport.height)+"px";for(var o=a.childNodes,s=r&&this.zoomLayer||null,u=i&&(null===(e=this.annotationLayer)||void 0===e?void 0:e.div)||null,c=(null===(t=this.xfaLayer)||void 0===t?void 0:t.div)||null,l=o.length-1;0<=l;l--){var h=o[l];s!==h&&u!==h&&c!==h&&a.removeChild(h)}a.removeAttribute("data-loaded"),u?this.annotationLayer.hide():this.annotationLayer&&(this.annotationLayer.cancel(),this.annotationLayer=null),s||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer()),this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg),this.loadingIconDiv=document.createElement("div"),this.loadingIconDiv.className="loadingIcon",this.loadingIconDiv.setAttribute("role","img"),this.l10n.get("loading").then(function(e){var t;null===(t=n.loadingIconDiv)||void 0===t||t.setAttribute("aria-label",e)}),a.appendChild(this.loadingIconDiv)}},{key:"update",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;this.scale=e||this.scale,void 0!==t&&(this.rotation=t),n instanceof Promise&&(this._optionalContentConfigPromise=n);var r=(this.rotation+this.pdfPageRotate)%360;if(this.viewport=this.viewport.clone({scale:this.scale*v.CSS_UNITS,rotation:r}),this.svg)return this.cssTransform(this.svg,!0),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});var i=!1;if(this.canvas&&0<this.maxCanvasPixels){var a=this.outputScale;(Math.floor(this.viewport.width)*a.sx|0)*(Math.floor(this.viewport.height)*a.sy|0)>this.maxCanvasPixels&&(i=!0)}if(this.canvas){if(this.useOnlyCssZoom||this.hasRestrictedScaling&&i)return this.cssTransform(this.canvas,!0),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});this.zoomLayer||this.canvas.hidden||(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform(this.zoomLayer.firstChild),this.reset(!0,!0)}},{key:"cancelRendering",value:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];this.paintTask&&(this.paintTask.cancel(),this.paintTask=null),this.resume=null,this.textLayer&&(this.textLayer.cancel(),this.textLayer=null),!e&&this.annotationLayer&&(this.annotationLayer.cancel(),this.annotationLayer=null)}},{key:"cssTransform",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=this.viewport.width,r=this.viewport.height,i=this.div;e.style.width=e.parentNode.style.width=i.style.width=Math.floor(n)+"px",e.style.height=e.parentNode.style.height=i.style.height=Math.floor(r)+"px";var a=this.viewport.rotation-this.paintedViewportMap.get(e).rotation,o=Math.abs(a),s=1,u=1;if(90!==o&&270!==o||(s=r/n,u=n/r),e.style.transform="rotate(".concat(a,"deg) scale(").concat(s,", ").concat(u,")"),this.textLayer){var c=this.textLayer.viewport,l=this.viewport.rotation-c.rotation,h=Math.abs(l),d=n/c.width;90!==h&&270!==h||(d=n/c.height);var p,f,g=this.textLayer.textLayerDiv;switch(h){case 0:p=f=0;break;case 90:p=0,f="-"+g.style.height;break;case 180:p="-"+g.style.width,f="-"+g.style.height;break;case 270:p="-"+g.style.width,f=0;break;default:console.error("Bad rotation value.")}g.style.transform="rotate(".concat(h,"deg) ")+"scale(".concat(d,") ")+"translate(".concat(p,", ").concat(f,")"),g.style.transformOrigin="0% 0%"}t&&this.annotationLayer&&this._renderAnnotationLayer(),this.xfaLayer&&this._renderXfaLayer()}},{key:"width",get:function(){return this.viewport.width}},{key:"height",get:function(){return this.viewport.height}},{key:"getPagePoint",value:function(e,t){return this.viewport.convertToPdfPoint(e,t)}},{key:"draw",value:function(){var e,r=this;this.renderingState!==d.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());var i=this.div,t=this.pdfPage;if(!t)return this.renderingState=d.RenderingStates.FINISHED,this.loadingIconDiv&&(i.removeChild(this.loadingIconDiv),delete this.loadingIconDiv),Promise.reject(new Error("pdfPage is not loaded"));this.renderingState=d.RenderingStates.RUNNING;var n=document.createElement("div");n.style.width=i.style.width,n.style.height=i.style.height,n.classList.add("canvasWrapper"),null!==(e=this.annotationLayer)&&void 0!==e&&e.div?i.insertBefore(n,this.annotationLayer.div):i.appendChild(n);var a=null;if(this.textLayerMode!==v.TextLayerMode.DISABLE&&this.textLayerFactory){var o,s=document.createElement("div");s.className="textLayer",s.style.width=n.style.width,s.style.height=n.style.height,null!==(o=this.annotationLayer)&&void 0!==o&&o.div?i.insertBefore(s,this.annotationLayer.div):i.appendChild(s),a=this.textLayerFactory.createTextLayerBuilder(s,this.id-1,this.viewport,this.textLayerMode===v.TextLayerMode.ENABLE_ENHANCE,this.eventBus)}this.textLayer=a;var u=null;this.renderingQueue&&(u=function(e){if(!r.renderingQueue.isHighestPriority(r))return r.renderingState=d.RenderingStates.PAUSED,void(r.resume=function(){r.renderingState=d.RenderingStates.RUNNING,e()});e()});var c=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,n=arguments;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=0<n.length&&void 0!==n[0]?n[0]:null,l===r.paintTask&&(r.paintTask=null),t instanceof _.RenderingCancelledException)return r._renderError=null,e.abrupt("return");e.next=5;break;case 5:if(r._renderError=t,r.renderingState=d.RenderingStates.FINISHED,r.loadingIconDiv&&(i.removeChild(r.loadingIconDiv),delete r.loadingIconDiv),r._resetZoomLayer(!0),r.eventBus.dispatch("pagerendered",{source:r,pageNumber:r.id,cssTransform:!1,timestamp:performance.now(),error:r._renderError}),t)throw t;e.next=12;break;case 12:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),l=this.renderer===v.RendererType.SVG?this.paintOnSvg(n):this.paintOnCanvas(n);l.onRenderContinue=u;var h=(this.paintTask=l).promise.then(function(){return c(null).then(function(){if(a){var e=t.streamTextContent({normalizeWhitespace:!0});a.setTextContentStream(e),a.render()}})},function(e){return c(e)});return this.annotationLayerFactory&&(this.annotationLayer||(this.annotationLayer=this.annotationLayerFactory.createAnnotationLayerBuilder(i,t,null,this.imageResourcesPath,this.renderInteractiveForms,this.l10n,this.enableScripting,null,null)),this._renderAnnotationLayer()),this.xfaLayerFactory&&(this.xfaLayer||(this.xfaLayer=this.xfaLayerFactory.createXfaLayerBuilder(i,t)),this._renderXfaLayer()),i.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),h}},{key:"paintOnCanvas",value:function(e){var t=(0,_.createPromiseCapability)(),n={promise:t.promise,onRenderContinue:function(e){e()},cancel:function(){g.cancel()}},r=this.viewport,i=document.createElement("canvas"),a=i.hidden=!0,o=function(){a&&(i.hidden=!1,a=!1)};e.appendChild(i),(this.canvas=i).mozOpaque=!0;var s=i.getContext("2d",{alpha:!1}),u=(0,v.getOutputScale)(s);if(this.outputScale=u,this.useOnlyCssZoom){var c=r.clone({scale:v.CSS_UNITS});u.sx*=c.width/r.width,u.sy*=c.height/r.height,u.scaled=!0}if(0<this.maxCanvasPixels){var l=r.width*r.height,h=Math.sqrt(this.maxCanvasPixels/l);u.sx>h||u.sy>h?(u.sx=h,u.sy=h,u.scaled=!0,this.hasRestrictedScaling=!0):this.hasRestrictedScaling=!1}var d=(0,v.approximateFraction)(u.sx),p=(0,v.approximateFraction)(u.sy);i.width=(0,v.roundToDivide)(r.width*u.sx,d[0]),i.height=(0,v.roundToDivide)(r.height*u.sy,p[0]),i.style.width=(0,v.roundToDivide)(r.width,d[1])+"px",i.style.height=(0,v.roundToDivide)(r.height,p[1])+"px",this.paintedViewportMap.set(i,r);var f={canvasContext:s,transform:u.scaled?[u.sx,0,0,u.sy,0,0]:null,viewport:this.viewport,enableWebGL:this.enableWebGL,renderInteractiveForms:this.renderInteractiveForms,optionalContentConfigPromise:this._optionalContentConfigPromise},g=this.pdfPage.render(f);return g.onContinue=function(e){o(),n.onRenderContinue?n.onRenderContinue(e):e()},g.promise.then(function(){o(),t.resolve(void 0)},function(e){o(),t.reject(e)}),n}},{key:"paintOnSvg",value:function(t){var n=this,e=!1,r=function(){if(e)throw new _.RenderingCancelledException("Rendering cancelled, page ".concat(n.id),"svg")},i=this.pdfPage,a=this.viewport.clone({scale:v.CSS_UNITS});return{promise:i.getOperatorList().then(function(e){return r(),new _.SVGGraphics(i.commonObjs,i.objs,o.viewerCompatibilityParams.disableCreateObjectURL).getSVG(e,a).then(function(e){r(),n.svg=e,n.paintedViewportMap.set(e,a),e.style.width=t.style.width,e.style.height=t.style.height,n.renderingState=d.RenderingStates.FINISHED,t.appendChild(e)})}),onRenderContinue:function(e){e()},cancel:function(){e=!0}}}},{key:"setPageLabel",value:function(e){this.pageLabel="string"==typeof e?e:null,null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}}]),i}();t.PDFPageView=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.RenderingStates=t.PDFRenderingQueue=void 0;var r=n(2),i={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3};t.RenderingStates=i;var a=function(){function e(){_classCallCheck(this,e),this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}return _createClass(e,[{key:"setViewer",value:function(e){this.pdfViewer=e}},{key:"setThumbnailViewer",value:function(e){this.pdfThumbnailViewer=e}},{key:"isHighestPriority",value:function(e){return this.highestPriorityPage===e.renderingId}},{key:"renderHighestPriority",value:function(e){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),this.pdfViewer.forceRendering(e)||this.pdfThumbnailViewer&&this.isThumbnailViewEnabled&&this.pdfThumbnailViewer.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),3e4))}},{key:"getHighestPriority",value:function(e,t,n){var r=e.views,i=r.length;if(0===i)return null;for(var a=0;a<i;++a){var o=r[a].view;if(!this.isViewFinished(o))return o}if(n){var s=e.last.id;if(t[s]&&!this.isViewFinished(t[s]))return t[s]}else{var u=e.first.id-2;if(t[u]&&!this.isViewFinished(t[u]))return t[u]}return null}},{key:"isViewFinished",value:function(e){return e.renderingState===i.FINISHED}},{key:"renderView",value:function(e){var t=this;switch(e.renderingState){case i.FINISHED:return!1;case i.PAUSED:this.highestPriorityPage=e.renderingId,e.resume();break;case i.RUNNING:this.highestPriorityPage=e.renderingId;break;case i.INITIAL:this.highestPriorityPage=e.renderingId,e.draw().finally(function(){t.renderHighestPriority()}).catch(function(e){e instanceof r.RenderingCancelledException||console.error('renderView: "'.concat(e,'"'))})}return!0}}]),e}();t.PDFRenderingQueue=a},function(e,t,h){Object.defineProperty(t,"__esModule",{value:!0}),t.PDFScriptingManager=void 0;var d=h(2),p=h(5),f=h(15),n=function(){function c(e){var t=this,n=e.eventBus,r=e.sandboxBundleSrc,i=void 0===r?null:r,a=e.scriptingFactory,o=void 0===a?null:a,s=e.docPropertiesLookup,u=void 0===s?null:s;_classCallCheck(this,c),this._pdfDocument=null,this._pdfViewer=null,this._closeCapability=null,this._destroyCapability=null,this._scripting=null,this._mouseState=Object.create(null),this._pageEventsReady=!1,this._ready=!1,this._eventBus=n,this._sandboxBundleSrc=i,this._scriptingFactory=o,this._docPropertiesLookup=u,this._scriptingFactory||window.addEventListener("updatefromsandbox",function(e){t._eventBus.dispatch("updatefromsandbox",{source:window,detail:e.detail})})}var e,t,n,r,i,a,o,s,u,l;return _createClass(c,[{key:"setViewer",value:function(e){this._pdfViewer=e}},{key:"setDocument",value:(l=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var n,r,i,a,o,s,u,c,l,h,d,p,f,g,v,_,y,m=this;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._pdfDocument)return e.next=3,this._destroyScripting();e.next=3;break;case 3:if(this._pdfDocument=t){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,Promise.all([t.getFieldObjects(),t.getCalculationOrderIds(),t.getJSActions()]);case 8:if(r=e.sent,i=_slicedToArray(r,3),a=i[0],o=i[1],s=i[2],a||s){e.next=17;break}return e.next=16,this._destroyScripting();case 16:return e.abrupt("return");case 17:if(t!==this._pdfDocument)return e.abrupt("return");e.next=19;break;case 19:this._scripting=this._createScripting(),this._internalEvents.set("updatefromsandbox",function(e){(null==e?void 0:e.source)===window&&m._updateFromSandbox(e.detail)}),this._internalEvents.set("dispatcheventinsandbox",function(e){var t;null===(t=m._scripting)||void 0===t||t.dispatchEventInSandbox(e.detail)}),this._internalEvents.set("pagechanging",function(e){var t=e.pageNumber,n=e.previous;t!==n&&(m._dispatchPageClose(n),m._dispatchPageOpen(t))}),this._internalEvents.set("pagerendered",function(e){var t=e.pageNumber;m._pageOpenPending.has(t)&&t===m._pdfViewer.currentPageNumber&&m._dispatchPageOpen(t)}),this._internalEvents.set("pagesdestroy",function(){var t=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var n,r;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m._dispatchPageClose(m._pdfViewer.currentPageNumber);case 2:return e.next=4,null===(n=m._scripting)||void 0===n?void 0:n.dispatchEventInSandbox({id:"doc",name:"WillClose"});case 4:null===(r=m._closeCapability)||void 0===r||r.resolve();case 5:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}()),this._domEvents.set("mousedown",function(e){m._mouseState.isDown=!0}),this._domEvents.set("mouseup",function(e){m._mouseState.isDown=!1}),u=_createForOfIteratorHelper(this._internalEvents);try{for(u.s();!(c=u.n()).done;)l=_slicedToArray(c.value,2),h=l[0],d=l[1],this._eventBus._on(h,d)}catch(e){u.e(e)}finally{u.f()}p=_createForOfIteratorHelper(this._domEvents);try{for(p.s();!(f=p.n()).done;)g=_slicedToArray(f.value,2),v=g[0],_=g[1],window.addEventListener(v,_)}catch(e){p.e(e)}finally{p.f()}return e.prev=31,e.next=34,this._getDocProperties();case 34:if(y=e.sent,t!==this._pdfDocument)return e.abrupt("return");e.next=37;break;case 37:return e.next=39,this._scripting.createSandbox({objects:a,calculationOrder:o,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:_objectSpread(_objectSpread({},y),{},{actions:s})});case 39:this._eventBus.dispatch("sandboxcreated",{source:this}),e.next=48;break;case 42:return e.prev=42,e.t0=e.catch(31),console.error('PDFScriptingManager.setDocument: "'.concat(null===e.t0||void 0===e.t0?void 0:e.t0.message,'".')),e.next=47,this._destroyScripting();case 47:return e.abrupt("return");case 48:return e.next=50,null===(n=this._scripting)||void 0===n?void 0:n.dispatchEventInSandbox({id:"doc",name:"Open"});case 50:return e.next=52,this._dispatchPageOpen(this._pdfViewer.currentPageNumber,!0);case 52:Promise.resolve().then(function(){t===m._pdfDocument&&(m._ready=!0)});case 53:case"end":return e.stop()}},e,this,[[31,42]])})),function(e){return l.apply(this,arguments)})},{key:"dispatchWillSave",value:(u=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var n;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null===(n=this._scripting)||void 0===n?void 0:n.dispatchEventInSandbox({id:"doc",name:"WillSave"}));case 1:case"end":return e.stop()}},e,this)})),function(e){return u.apply(this,arguments)})},{key:"dispatchDidSave",value:(s=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var n;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null===(n=this._scripting)||void 0===n?void 0:n.dispatchEventInSandbox({id:"doc",name:"DidSave"}));case 1:case"end":return e.stop()}},e,this)})),function(e){return s.apply(this,arguments)})},{key:"dispatchWillPrint",value:(o=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var n;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null===(n=this._scripting)||void 0===n?void 0:n.dispatchEventInSandbox({id:"doc",name:"WillPrint"}));case 1:case"end":return e.stop()}},e,this)})),function(e){return o.apply(this,arguments)})},{key:"dispatchDidPrint",value:(a=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var n;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null===(n=this._scripting)||void 0===n?void 0:n.dispatchEventInSandbox({id:"doc",name:"DidPrint"}));case 1:case"end":return e.stop()}},e,this)})),function(e){return a.apply(this,arguments)})},{key:"mouseState",get:function(){return this._mouseState}},{key:"destroyPromise",get:function(){var e;return(null===(e=this._destroyCapability)||void 0===e?void 0:e.promise)||null}},{key:"ready",get:function(){return this._ready}},{key:"_internalEvents",get:function(){return(0,d.shadow)(this,"_internalEvents",new Map)}},{key:"_domEvents",get:function(){return(0,d.shadow)(this,"_domEvents",new Map)}},{key:"_pageOpenPending",get:function(){return(0,d.shadow)(this,"_pageOpenPending",new Set)}},{key:"_visitedPages",get:function(){return(0,d.shadow)(this,"_visitedPages",new Map)}},{key:"_updateFromSandbox",value:(i=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var n,r,i,a,o,s;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this._pdfViewer.isInPresentationMode||this._pdfViewer.isChangingPresentationMode,r=t.id,i=t.command,a=t.value,r){e.next=25;break}e.t0=i,e.next="clear"===e.t0?6:"error"===e.t0?8:"layout"===e.t0?10:"page-num"===e.t0?12:"print"===e.t0?14:"println"===e.t0?18:"zoom"===e.t0?20:24;break;case 6:return console.clear(),e.abrupt("break",24);case 8:return console.error(a),e.abrupt("break",24);case 10:return this._pdfViewer.spreadMode=(0,p.apiPageLayoutToSpreadMode)(a),e.abrupt("break",24);case 12:return this._pdfViewer.currentPageNumber=a+1,e.abrupt("break",24);case 14:return e.next=16,this._pdfViewer.pagesPromise;case 16:return this._eventBus.dispatch("print",{source:this}),e.abrupt("break",24);case 18:return console.log(a),e.abrupt("break",24);case 20:if(n)return e.abrupt("return");e.next=22;break;case 22:return this._pdfViewer.currentScaleValue=a,e.abrupt("break",24);case 24:return e.abrupt("return");case 25:if(!n){e.next=28;break}if(t.focus)return e.abrupt("return");e.next=28;break;case 28:(o=document.getElementById(r))?o.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:t})):(delete t.id,null===(s=this._pdfDocument)||void 0===s||s.annotationStorage.setValue(r,t));case 30:case"end":return e.stop()}},e,this)})),function(e){return i.apply(this,arguments)})},{key:"_dispatchPageOpen",value:(r=_asyncToGenerator(_regeneratorRuntime().mark(function e(i){var t,a,o,s,n,u=this,r=arguments;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=1<r.length&&void 0!==r[1]&&r[1],a=this._pdfDocument,o=this._visitedPages,t&&(this._closeCapability=(0,d.createPromiseCapability)(),this._pageEventsReady=!0),this._pageEventsReady){e.next=5;break}return e.abrupt("return");case 5:if((null==(s=this._pdfViewer.getPageView(i-1))?void 0:s.renderingState)!==f.RenderingStates.FINISHED)return this._pageOpenPending.add(i),e.abrupt("return");e.next=9;break;case 9:this._pageOpenPending.delete(i),n=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,n,r;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.has(i)?null:null===(t=s.pdfPage)||void 0===t?void 0:t.getJSActions();case 2:if(r=e.sent,a!==u._pdfDocument)return e.abrupt("return");e.next=5;break;case 5:return e.next=7,null===(n=u._scripting)||void 0===n?void 0:n.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:i,actions:r});case 7:case"end":return e.stop()}},e)}))(),o.set(i,n);case 12:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"_dispatchPageClose",value:(n=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var n,r,i,a;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this._pdfDocument,i=this._visitedPages,this._pageEventsReady){e.next=3;break}return e.abrupt("return");case 3:if(this._pageOpenPending.has(t))return e.abrupt("return");e.next=5;break;case 5:if(a=i.get(t)){e.next=8;break}return e.abrupt("return");case 8:return i.set(t,null),e.next=11,a;case 11:if(r!==this._pdfDocument)return e.abrupt("return");e.next=13;break;case 13:return e.next=15,null===(n=this._scripting)||void 0===n?void 0:n.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:t});case 15:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"_getDocProperties",value:(t=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,n;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._docPropertiesLookup)return e.abrupt("return",this._docPropertiesLookup(this._pdfDocument));e.next=2;break;case 2:return t=h(17),n=t.docPropertiesLookup,e.abrupt("return",n(this._pdfDocument));case 4:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"_createScripting",value:function(){if(this._destroyCapability=(0,d.createPromiseCapability)(),this._scripting)throw new Error("_createScripting: Scripting already exists.");return this._scriptingFactory?this._scriptingFactory.createScripting({sandboxBundleSrc:this._sandboxBundleSrc}):new(h(17).GenericScripting)(this._sandboxBundleSrc)}},{key:"_destroyScripting",value:(e=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,n,r,i,a,o,s,u,c,l,h,d;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._scripting){e.next=4;break}return(this._pdfDocument=null)===(n=this._destroyCapability)||void 0===n||n.resolve(),e.abrupt("return");case 4:if(this._closeCapability)return e.next=7,Promise.race([this._closeCapability.promise,new Promise(function(e){setTimeout(e,1e3)})]).catch(function(e){});e.next=8;break;case 7:this._closeCapability=null;case 8:return this._pdfDocument=null,e.prev=9,e.next=12,this._scripting.destroySandbox();case 12:e.next=16;break;case 14:e.prev=14,e.t0=e.catch(9);case 16:r=_createForOfIteratorHelper(this._internalEvents);try{for(r.s();!(i=r.n()).done;)a=_slicedToArray(i.value,2),o=a[0],s=a[1],this._eventBus._off(o,s)}catch(e){r.e(e)}finally{r.f()}this._internalEvents.clear(),u=_createForOfIteratorHelper(this._domEvents);try{for(u.s();!(c=u.n()).done;)l=_slicedToArray(c.value,2),h=l[0],d=l[1],window.removeEventListener(h,d)}catch(e){u.e(e)}finally{u.f()}this._domEvents.clear(),this._pageOpenPending.clear(),this._visitedPages.clear(),this._scripting=null,delete this._mouseState.isDown,this._pageEventsReady=!1,this._ready=!1,null===(t=this._destroyCapability)||void 0===t||t.resolve();case 29:case"end":return e.stop()}},e,this,[[9,14]])})),function(){return e.apply(this,arguments)})}]),c}();t.PDFScriptingManager=n},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.docPropertiesLookup=function(e){return r.apply(this,arguments)},t.GenericScripting=void 0;var h=n(2);function r(){return(r=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var n,r,i,a,o,s,u,c,l;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=(n="").split("#")[0],e.next=3,t.getMetadata();case 3:if(i=e.sent,a=i.info,o=i.metadata,s=i.contentDispositionFilename,u=i.contentLength){e.next=14;break}return e.next=11,t.getDownloadInfo();case 11:c=e.sent,l=c.length,u=l;case 14:return e.abrupt("return",_objectSpread(_objectSpread({},a),{},{baseURL:r,filesize:u,filename:s||(0,h.getPdfFilenameFromUrl)(n),metadata:null==o?void 0:o.getRaw(),authors:null==o?void 0:o.get("dc:creator"),numPages:t.numPages,URL:n}));case 15:case"end":return e.stop()}},e)}))).apply(this,arguments)}var i=function(){function t(e){_classCallCheck(this,t),this._ready=(0,h.loadScript)(e,!0).then(function(){return window.pdfjsSandbox.QuickJSSandbox()})}var e,n,r;return _createClass(t,[{key:"createSandbox",value:(r=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._ready;case 2:e.sent.create(t);case 4:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"dispatchEventInSandbox",value:(n=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._ready;case 2:e.sent.dispatchEvent(t);case 4:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"destroySandbox",value:(e=_asyncToGenerator(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._ready;case 2:e.sent.nukeSandbox();case 4:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})}]),t}();t.GenericScripting=i},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.PDFSinglePageViewer=void 0;var r=n(19),i=n(2),a=function(e){_inherits(u,r.BaseViewer);var n=_createSuper(u);function u(e){var t;return _classCallCheck(this,u),(t=n.call(this,e)).eventBus._on("pagesinit",function(e){t._ensurePageViewVisible()}),t}return _createClass(u,[{key:"_viewerElement",get:function(){return(0,i.shadow)(this,"_viewerElement",this._shadowViewer)}},{key:"_pageWidthScaleFactor",get:function(){return 1}},{key:"_resetView",value:function(){_get2(_getPrototypeOf(u.prototype),"_resetView",this).call(this),this._previousPageNumber=1,this._shadowViewer=document.createDocumentFragment(),this._updateScrollDown=null}},{key:"_ensurePageViewVisible",value:function(){var e=this._pages[this._currentPageNumber-1],t=this._pages[this._previousPageNumber-1],n=this.viewer.childNodes;switch(n.length){case 0:this.viewer.appendChild(e.div);break;case 1:if(n[0]!==t.div)throw new Error("_ensurePageViewVisible: Unexpected previously visible page.");if(e===t)break;this._shadowViewer.appendChild(t.div),this.viewer.appendChild(e.div),this.container.scrollTop=0;break;default:throw new Error("_ensurePageViewVisible: Only one page should be visible at a time.")}this._previousPageNumber=this._currentPageNumber}},{key:"_scrollUpdate",value:function(){this._updateScrollDown&&this._updateScrollDown(),_get2(_getPrototypeOf(u.prototype),"_scrollUpdate",this).call(this)}},{key:"_scrollIntoView",value:function(e){var t=this,n=e.pageDiv,r=e.pageSpot,i=void 0===r?null:r,a=e.pageNumber,o=void 0===a?null:a;o&&this._setCurrentPageNumber(o);var s=this._currentPageNumber>=this._previousPageNumber;this._ensurePageViewVisible(),this.update(),_get2(_getPrototypeOf(u.prototype),"_scrollIntoView",this).call(this,{pageDiv:n,pageSpot:i,pageNumber:o}),this._updateScrollDown=function(){t.scroll.down=s,t._updateScrollDown=null}}},{key:"_getVisiblePages",value:function(){return this._getCurrentVisiblePage()}},{key:"_updateHelper",value:function(e){}},{key:"_isScrollModeHorizontal",get:function(){return(0,i.shadow)(this,"_isScrollModeHorizontal",!1)}},{key:"_updateScrollMode",value:function(){}},{key:"_updateSpreadMode",value:function(){}},{key:"_getPageAdvance",value:function(){return 1}}]),u}();t.PDFSinglePageViewer=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.BaseViewer=void 0;var o=n(2),R=n(5),s=n(15),d=n(1),p=n(3),f=n(14),u=n(4),c=n(6),r=n(20);function i(a){var o=[];this.push=function(e){var t=o.indexOf(e);0<=t&&o.splice(t,1),o.push(e),o.length>a&&o.shift().destroy()},this.resize=function(e,t){if(a=e,t){for(var n=new Set,r=0,i=t.length;r<i;++r)n.add(t[r].id);(0,R.moveToEndOfArray)(o,function(e){return n.has(e.id)})}for(;o.length>a;)o.shift().destroy()},this.has=function(e){return o.includes(e)}}var a=function(){function a(e){var t,n,r=this;if(_classCallCheck(this,a),this.constructor===a)throw new Error("Cannot initialize BaseViewer.");var i="2.8.335";if(o.version!==i)throw new Error('The API version "'.concat(o.version,'" does not match the Viewer version "').concat(i,'".'));if(this._name=this.constructor.name,this.container=e.container,this.viewer=e.viewer||e.container.firstElementChild,"DIV"!==(null===(t=this.container)||void 0===t?void 0:t.tagName.toUpperCase())||"DIV"!==(null===(n=this.viewer)||void 0===n?void 0:n.tagName.toUpperCase()))throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&"absolute"!==getComputedStyle(this.container).position)throw new Error("The `container` must be absolutely positioned.");this.eventBus=e.eventBus,this.linkService=e.linkService||new u.SimpleLinkService,this.downloadManager=e.downloadManager||null,this.findController=e.findController||null,this._scriptingManager=e.scriptingManager||null,this.removePageBorders=e.removePageBorders||!1,this.textLayerMode=Number.isInteger(e.textLayerMode)?e.textLayerMode:R.TextLayerMode.ENABLE,this.imageResourcesPath=e.imageResourcesPath||"",this.renderInteractiveForms=!1!==e.renderInteractiveForms,this.enablePrintAutoRotate=e.enablePrintAutoRotate||!1,this.renderer=e.renderer||R.RendererType.CANVAS,this.enableWebGL=e.enableWebGL||!1,this.useOnlyCssZoom=e.useOnlyCssZoom||!1,this.maxCanvasPixels=e.maxCanvasPixels,this.l10n=e.l10n||p.NullL10n,this.enableScripting=!0===e.enableScripting&&!!this._scriptingManager,this.defaultRenderingQueue=!e.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new s.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=e.renderingQueue,this.scroll=(0,R.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=R.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),Promise.resolve().then(function(){r.eventBus.dispatch("baseviewerinit",{source:r})})}return _createClass(a,[{key:"pagesCount",get:function(){return this._pages.length}},{key:"getPageView",value:function(e){return this._pages[e]}},{key:"pageViewsReady",get:function(){return!!this._pagesCapability.settled&&this._pages.every(function(e){return null==e?void 0:e.pdfPage})}},{key:"currentPageNumber",get:function(){return this._currentPageNumber},set:function(e){if(!Number.isInteger(e))throw new Error("Invalid page number.");this.pdfDocument&&(this._setCurrentPageNumber(e,!0)||console.error("".concat(this._name,'.currentPageNumber: "').concat(e,'" is not a valid page.')))}},{key:"_setCurrentPageNumber",value:function(e){var t,n,r=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(this._currentPageNumber===e)return r&&this._resetCurrentPageView(),!0;if(!(0<e&&e<=this.pagesCount))return!1;var i=this._currentPageNumber;return this._currentPageNumber=e,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:e,pageLabel:null!==(t=null===(n=this._pageLabels)||void 0===n?void 0:n[e-1])&&void 0!==t?t:null,previous:i}),r&&this._resetCurrentPageView(),!0}},{key:"currentPageLabel",get:function(){var e,t;return null!==(e=null===(t=this._pageLabels)||void 0===t?void 0:t[this._currentPageNumber-1])&&void 0!==e?e:null},set:function(e){if(this.pdfDocument){var t=0|e;if(this._pageLabels){var n=this._pageLabels.indexOf(e);0<=n&&(t=n+1)}this._setCurrentPageNumber(t,!0)||console.error("".concat(this._name,'.currentPageLabel: "').concat(e,'" is not a valid page.'))}}},{key:"currentScale",get:function(){return this._currentScale!==R.UNKNOWN_SCALE?this._currentScale:R.DEFAULT_SCALE},set:function(e){if(isNaN(e))throw new Error("Invalid numeric scale.");this.pdfDocument&&this._setScale(e,!1)}},{key:"currentScaleValue",get:function(){return this._currentScaleValue},set:function(e){this.pdfDocument&&this._setScale(e,!1)}},{key:"pagesRotation",get:function(){return this._pagesRotation},set:function(e){if(!(0,R.isValidRotation)(e))throw new Error("Invalid pages rotation angle.");if(this.pdfDocument&&((e%=360)<0&&(e+=360),this._pagesRotation!==e)){this._pagesRotation=e;for(var t=this._currentPageNumber,n=0,r=this._pages.length;n<r;n++){var i=this._pages[n];i.update(i.scale,e)}this._currentScaleValue&&this._setScale(this._currentScaleValue,!0),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:e,pageNumber:t}),this.defaultRenderingQueue&&this.update()}}},{key:"firstPagePromise",get:function(){return this.pdfDocument?this._firstPageCapability.promise:null}},{key:"onePageRendered",get:function(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}},{key:"pagesPromise",get:function(){return this.pdfDocument?this._pagesCapability.promise:null}},{key:"_viewerElement",get:function(){throw new Error("Not implemented: _viewerElement")}},{key:"_onePageRenderedOrForceFetch",value:function(){return this.container.offsetParent&&0!==this._getVisiblePages().views.length?this._onePageRenderedCapability.promise:Promise.resolve()}},{key:"setDocument",value:function(u){var c=this;if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),this.findController&&this.findController.setDocument(null),this._scriptingManager&&this._scriptingManager.setDocument(null)),this.pdfDocument=u){var l=u.isPureXfa,h=u.numPages,e=u.getPage(1),d=u.getOptionalContentConfig();this._pagesCapability.promise.then(function(){c.eventBus.dispatch("pagesloaded",{source:c,pagesCount:h})}),this._onBeforeDraw=function(e){var t=c._pages[e.pageNumber-1];t&&c._buffer.push(t)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=function(e){e.cssTransform||c._onePageRenderedCapability.settled||(c._onePageRenderedCapability.resolve(),c.eventBus._off("pagerendered",c._onAfterDraw),c._onAfterDraw=null)},this.eventBus._on("pagerendered",this._onAfterDraw),e.then(function(e){c._firstPageCapability.resolve(e),c._optionalContentConfigPromise=d;for(var t=c.currentScale,n=e.getViewport({scale:t*R.CSS_UNITS}),r=c.textLayerMode!==R.TextLayerMode.DISABLE?c:null,i=l?c:null,a=1;a<=h;++a){var o=new f.PDFPageView({container:c._viewerElement,eventBus:c.eventBus,id:a,scale:t,defaultViewport:n.clone(),optionalContentConfigPromise:d,renderingQueue:c.renderingQueue,textLayerFactory:r,textLayerMode:c.textLayerMode,annotationLayerFactory:c,xfaLayerFactory:i,imageResourcesPath:c.imageResourcesPath,renderInteractiveForms:c.renderInteractiveForms,renderer:c.renderer,enableWebGL:c.enableWebGL,useOnlyCssZoom:c.useOnlyCssZoom,maxCanvasPixels:c.maxCanvasPixels,l10n:c.l10n,enableScripting:c.enableScripting});c._pages.push(o)}var s=c._pages[0];s&&(s.setPdfPage(e),c.linkService.cachePageRef(1,e.ref)),c._spreadMode!==R.SpreadMode.NONE&&c._updateSpreadMode(),c._onePageRenderedOrForceFetch().then(function(){if(c.findController&&c.findController.setDocument(u),c.enableScripting&&c._scriptingManager.setDocument(u),u.loadingParams.disableAutoFetch||7500<h)c._pagesCapability.resolve();else{var r=h-1;if(r<=0)c._pagesCapability.resolve();else for(var e=function(n){u.getPage(n).then(function(e){var t=c._pages[n-1];t.pdfPage||t.setPdfPage(e),c.linkService.cachePageRef(n,e.ref),0==--r&&c._pagesCapability.resolve()},function(e){console.error("Unable to get page ".concat(n," to initialize viewer"),e),0==--r&&c._pagesCapability.resolve()})},t=2;t<=h;++t)e(t)}}),c.eventBus.dispatch("pagesinit",{source:c}),c.defaultRenderingQueue&&c.update()}).catch(function(e){console.error("Unable to initialize viewer",e)})}}},{key:"setPageLabels",value:function(e){if(this.pdfDocument){e?Array.isArray(e)&&this.pdfDocument.numPages===e.length?this._pageLabels=e:(this._pageLabels=null,console.error("".concat(this._name,".setPageLabels: Invalid page labels."))):this._pageLabels=null;for(var t=0,n=this._pages.length;t<n;t++){var r,i;this._pages[t].setPageLabel(null!==(r=null===(i=this._pageLabels)||void 0===i?void 0:i[t])&&void 0!==r?r:null)}}}},{key:"_resetView",value:function(){this._pages=[],this._currentPageNumber=1,this._currentScale=R.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,this._buffer=new i(10),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._pagesRequests=new WeakMap,this._firstPageCapability=(0,o.createPromiseCapability)(),this._onePageRenderedCapability=(0,o.createPromiseCapability)(),this._pagesCapability=(0,o.createPromiseCapability)(),this._scrollMode=R.ScrollMode.VERTICAL,this._spreadMode=R.SpreadMode.NONE,this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),this.viewer.textContent="",this._updateScrollMode()}},{key:"_scrollUpdate",value:function(){0!==this.pagesCount&&this.update()}},{key:"_scrollIntoView",value:function(e){var t=e.pageDiv,n=e.pageSpot,r=void 0===n?null:n;e.pageNumber;(0,R.scrollIntoView)(t,r)}},{key:"_setScaleUpdatePages",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2],r=3<arguments.length&&void 0!==arguments[3]&&arguments[3];if(this._currentScaleValue=t.toString(),i=this._currentScale,(a=e)===i||Math.abs(a-i)<1e-15)r&&this.eventBus.dispatch("scalechanging",{source:this,scale:e,presetValue:t});else{for(var i,a,o=0,s=this._pages.length;o<s;o++)this._pages[o].update(e);if(this._currentScale=e,!n){var u,c=this._currentPageNumber;!this._location||this.isInPresentationMode||this.isChangingPresentationMode||(c=this._location.pageNumber,u=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:c,destArray:u,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:e,presetValue:r?t:void 0}),this.defaultRenderingQueue&&this.update()}}},{key:"_pageWidthScaleFactor",get:function(){return this._spreadMode===R.SpreadMode.NONE||this._scrollMode===R.ScrollMode.HORIZONTAL||this.isInPresentationMode?1:2}},{key:"_setScale",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=parseFloat(e);if(0<n)this._setScaleUpdatePages(n,e,t,!1);else{var r=this._pages[this._currentPageNumber-1];if(!r)return;var i=this.isInPresentationMode||this.removePageBorders,a=i?0:R.SCROLLBAR_PADDING,o=i?0:R.VERTICAL_PADDING;if(!i&&this._isScrollModeHorizontal){var s=[o,a];a=s[0],o=s[1]}var u=(this.container.clientWidth-a)/r.width*r.scale/this._pageWidthScaleFactor,c=(this.container.clientHeight-o)/r.height*r.scale;switch(e){case"page-actual":n=1;break;case"page-width":n=u;break;case"page-height":n=c;break;case"page-fit":n=Math.min(u,c);break;case"auto":var l=(0,R.isPortraitOrientation)(r)?u:Math.min(c,u);n=Math.min(R.MAX_AUTO_SCALE,l);break;default:return void console.error("".concat(this._name,'._setScale: "').concat(e,'" is an unknown zoom value.'))}this._setScaleUpdatePages(n,e,t,!0)}}},{key:"_resetCurrentPageView",value:function(){this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0);var e=this._pages[this._currentPageNumber-1];this._scrollIntoView({pageDiv:e.div})}},{key:"pageLabelToPageNumber",value:function(e){if(!this._pageLabels)return null;var t=this._pageLabels.indexOf(e);return t<0?null:t+1}},{key:"scrollPageIntoView",value:function(e){var t=e.pageNumber,n=e.destArray,r=void 0===n?null:n,i=e.allowNegativeOffset,a=void 0!==i&&i,o=e.ignoreDestinationZoom,s=void 0!==o&&o;if(this.pdfDocument){var u=Number.isInteger(t)&&this._pages[t-1];if(u)if(!this.isInPresentationMode&&r){var c,l,h=0,d=0,p=0,f=0,g=u.rotation%180!=0,v=(g?u.height:u.width)/u.scale/R.CSS_UNITS,_=(g?u.width:u.height)/u.scale/R.CSS_UNITS,y=0;switch(r[1].name){case"XYZ":h=r[2],d=r[3],y=r[4],h=null!==h?h:0,d=null!==d?d:_;break;case"Fit":case"FitB":y="page-fit";break;case"FitH":case"FitBH":y="page-width",null===(d=r[2])&&this._location?(h=this._location.left,d=this._location.top):"number"!=typeof d&&(d=_);break;case"FitV":case"FitBV":h=r[2],p=v,f=_,y="page-height";break;case"FitR":h=r[2],d=r[3],p=r[4]-h,f=r[5]-d;var m=this.removePageBorders?0:R.SCROLLBAR_PADDING,b=this.removePageBorders?0:R.VERTICAL_PADDING;c=(this.container.clientWidth-m)/p/R.CSS_UNITS,l=(this.container.clientHeight-b)/f/R.CSS_UNITS,y=Math.min(Math.abs(c),Math.abs(l));break;default:return void console.error("".concat(this._name,".scrollPageIntoView: ")+'"'.concat(r[1].name,'" is not a valid destination type.'))}if(s||(y&&y!==this._currentScale?this.currentScaleValue=y:this._currentScale===R.UNKNOWN_SCALE&&(this.currentScaleValue=R.DEFAULT_SCALE_VALUE)),"page-fit"!==y||r[4]){var w=[u.viewport.convertToViewportPoint(h,d),u.viewport.convertToViewportPoint(h+p,d+f)],P=Math.min(w[0][0],w[1][0]),S=Math.min(w[0][1],w[1][1]);a||(P=Math.max(P,0),S=Math.max(S,0)),this._scrollIntoView({pageDiv:u.div,pageSpot:{left:P,top:S},pageNumber:t})}else this._scrollIntoView({pageDiv:u.div,pageNumber:t})}else this._setCurrentPageNumber(t,!0);else console.error("".concat(this._name,".scrollPageIntoView: ")+'"'.concat(t,'" is not a valid pageNumber parameter.'))}}},{key:"_updateLocation",value:function(e){var t=this._currentScale,n=this._currentScaleValue,r=parseFloat(n)===t?Math.round(1e4*t)/100:n,i=e.id,a="#page="+i;a+="&zoom="+r;var o=this._pages[i-1],s=this.container,u=o.getPagePoint(s.scrollLeft-e.x,s.scrollTop-e.y),c=Math.round(u[0]),l=Math.round(u[1]);a+=","+c+","+l,this._location={pageNumber:i,scale:r,top:l,left:c,rotation:this._pagesRotation,pdfOpenParams:a}}},{key:"_updateHelper",value:function(e){throw new Error("Not implemented: _updateHelper")}},{key:"update",value:function(){var e=this._getVisiblePages(),t=e.views,n=t.length;if(0!==n){var r=Math.max(10,2*n+1);this._buffer.resize(r,t),this.renderingQueue.renderHighestPriority(e),this._updateHelper(t),this._updateLocation(e.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}}},{key:"containsElement",value:function(e){return this.container.contains(e)}},{key:"focus",value:function(){this.container.focus()}},{key:"_isScrollModeHorizontal",get:function(){return!this.isInPresentationMode&&this._scrollMode===R.ScrollMode.HORIZONTAL}},{key:"_isContainerRtl",get:function(){return"rtl"===getComputedStyle(this.container).direction}},{key:"isInPresentationMode",get:function(){return this.presentationModeState===R.PresentationModeState.FULLSCREEN}},{key:"isChangingPresentationMode",get:function(){return this.presentationModeState===R.PresentationModeState.CHANGING}},{key:"isHorizontalScrollbarEnabled",get:function(){return!this.isInPresentationMode&&this.container.scrollWidth>this.container.clientWidth}},{key:"isVerticalScrollbarEnabled",get:function(){return!this.isInPresentationMode&&this.container.scrollHeight>this.container.clientHeight}},{key:"_getCurrentVisiblePage",value:function(){if(!this.pagesCount)return{views:[]};var e=this._pages[this._currentPageNumber-1],t=e.div,n={id:e.id,x:t.offsetLeft+t.clientLeft,y:t.offsetTop+t.clientTop,view:e};return{first:n,last:n,views:[n]}}},{key:"_getVisiblePages",value:function(){return(0,R.getVisibleElements)({scrollEl:this.container,views:this._pages,sortByVisibility:!0,horizontal:this._isScrollModeHorizontal,rtl:this._isScrollModeHorizontal&&this._isContainerRtl})}},{key:"isPageVisible",value:function(t){return!!this.pdfDocument&&(Number.isInteger(t)&&0<t&&t<=this.pagesCount?this._getVisiblePages().views.some(function(e){return e.id===t}):(console.error("".concat(this._name,'.isPageVisible: "').concat(t,'" is not a valid page.')),!1))}},{key:"isPageCached",value:function(e){if(!this.pdfDocument||!this._buffer)return!1;if(!(Number.isInteger(e)&&0<e&&e<=this.pagesCount))return console.error("".concat(this._name,'.isPageCached: "').concat(e,'" is not a valid page.')),!1;var t=this._pages[e-1];return!!t&&this._buffer.has(t)}},{key:"cleanup",value:function(){for(var e=0,t=this._pages.length;e<t;e++)this._pages[e]&&this._pages[e].renderingState!==s.RenderingStates.FINISHED&&this._pages[e].reset()}},{key:"_cancelRendering",value:function(){for(var e=0,t=this._pages.length;e<t;e++)this._pages[e]&&this._pages[e].cancelRendering()}},{key:"_ensurePdfPageLoaded",value:function(t){var n=this;if(t.pdfPage)return Promise.resolve(t.pdfPage);if(this._pagesRequests.has(t))return this._pagesRequests.get(t);var e=this.pdfDocument.getPage(t.id).then(function(e){return t.pdfPage||t.setPdfPage(e),n._pagesRequests.delete(t),e}).catch(function(e){console.error("Unable to get page for page view",e),n._pagesRequests.delete(t)});return this._pagesRequests.set(t,e),e}},{key:"forceRendering",value:function(e){var t=this,n=e||this._getVisiblePages(),r=this._isScrollModeHorizontal?this.scroll.right:this.scroll.down,i=this.renderingQueue.getHighestPriority(n,this._pages,r);return!!i&&(this._ensurePdfPageLoaded(i).then(function(){t.renderingQueue.renderView(i)}),!0)}},{key:"createTextLayerBuilder",value:function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]&&arguments[3],i=4<arguments.length?arguments[4]:void 0;return new c.TextLayerBuilder({textLayerDiv:e,eventBus:i,pageIndex:t,viewport:n,findController:this.isInPresentationMode?null:this.findController,enhanceTextSelection:!this.isInPresentationMode&&r})}},{key:"createAnnotationLayerBuilder",value:function(e,t){var n,r,i,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"",s=4<arguments.length&&void 0!==arguments[4]&&arguments[4],u=5<arguments.length&&void 0!==arguments[5]?arguments[5]:p.NullL10n,c=6<arguments.length&&void 0!==arguments[6]&&arguments[6],l=7<arguments.length&&void 0!==arguments[7]?arguments[7]:null,h=8<arguments.length&&void 0!==arguments[8]?arguments[8]:null;return new d.AnnotationLayerBuilder({pageDiv:e,pdfPage:t,annotationStorage:a||(null===(n=this.pdfDocument)||void 0===n?void 0:n.annotationStorage),imageResourcesPath:o,renderInteractiveForms:s,linkService:this.linkService,downloadManager:this.downloadManager,l10n:u,enableScripting:c,hasJSActionsPromise:l||(null===(r=this.pdfDocument)||void 0===r?void 0:r.hasJSActions()),mouseState:h||(null===(i=this._scriptingManager)||void 0===i?void 0:i.mouseState)})}},{key:"createXfaLayerBuilder",value:function(e,t){return new r.XfaLayerBuilder({pageDiv:e,pdfPage:t})}},{key:"hasEqualPageSizes",get:function(){for(var e=this._pages[0],t=1,n=this._pages.length;t<n;++t){var r=this._pages[t];if(r.width!==e.width||r.height!==e.height)return!1}return!0}},{key:"getPagesOverview",value:function(){var n=this;return this._pages.map(function(e){var t=e.pdfPage.getViewport({scale:1});return!n.enablePrintAutoRotate||(0,R.isPortraitOrientation)(t)?{width:t.width,height:t.height,rotation:t.rotation}:{width:t.height,height:t.width,rotation:(t.rotation-90)%360}})}},{key:"optionalContentConfigPromise",get:function(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:this.pdfDocument.getOptionalContentConfig():Promise.resolve(null)},set:function(e){if(!(e instanceof Promise))throw new Error("Invalid optionalContentConfigPromise: ".concat(e));if(this.pdfDocument&&this._optionalContentConfigPromise){this._optionalContentConfigPromise=e;var t,n=_createForOfIteratorHelper(this._pages);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.update(r.scale,r.rotation,e)}}catch(e){n.e(e)}finally{n.f()}this.update(),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:e})}}},{key:"scrollMode",get:function(){return this._scrollMode},set:function(e){if(this._scrollMode!==e){if(!(0,R.isValidScrollMode)(e))throw new Error("Invalid scroll mode: ".concat(e));this._scrollMode=e,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:e}),this._updateScrollMode(this._currentPageNumber)}}},{key:"_updateScrollMode",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,t=this._scrollMode,n=this.viewer;n.classList.toggle("scrollHorizontal",t===R.ScrollMode.HORIZONTAL),n.classList.toggle("scrollWrapped",t===R.ScrollMode.WRAPPED),this.pdfDocument&&e&&(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(e,!0),this.update())}},{key:"spreadMode",get:function(){return this._spreadMode},set:function(e){if(this._spreadMode!==e){if(!(0,R.isValidSpreadMode)(e))throw new Error("Invalid spread mode: ".concat(e));this._spreadMode=e,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:e}),this._updateSpreadMode(this._currentPageNumber)}}},{key:"_updateSpreadMode",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;if(this.pdfDocument){var t=this.viewer,n=this._pages;if(t.textContent="",this._spreadMode===R.SpreadMode.NONE)for(var r=0,i=n.length;r<i;++r)t.appendChild(n[r].div);else for(var a=this._spreadMode-1,o=null,s=0,u=n.length;s<u;++s)null===o?((o=document.createElement("div")).className="spread",t.appendChild(o)):s%2===a&&(o=o.cloneNode(!1),t.appendChild(o)),o.appendChild(n[s].div);e&&(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(e,!0),this.update())}}},{key:"_getPageAdvance",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(this.isInPresentationMode)return 1;switch(this._scrollMode){case R.ScrollMode.WRAPPED:var n,r=this._getVisiblePages().views,i=new Map,a=_createForOfIteratorHelper(r);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.id,u=o.y,c=o.percent,l=o.widthPercent;if(!(0===c||l<100)){var h=i.get(u);h||i.set(u,h||(h=[])),h.push(s)}}}catch(e){a.e(e)}finally{a.f()}var d,p=_createForOfIteratorHelper(i.values());try{for(p.s();!(d=p.n()).done;){var f=d.value,g=f.indexOf(e);if(-1!==g){var v=f.length;if(1===v)break;if(t)for(var _=g-1;0<=_;_--){var y=f[_],m=f[_+1]-1;if(y<m)return e-m}else for(var b=g+1,w=v;b<w;b++){var P=f[b],S=f[b-1]+1;if(S<P)return S-e}if(t){var k=f[0];if(k<e)return e-k+1}else{var x=f[v-1];if(e<x)return x-e+1}break}}}catch(e){p.e(e)}finally{p.f()}break;case R.ScrollMode.HORIZONTAL:break;case R.ScrollMode.VERTICAL:if(this._spreadMode===R.SpreadMode.NONE)break;var L=this._spreadMode-1;if(t&&e%2!==L)break;if(!t&&e%2===L)break;var C,T=t?e-1:e+1,I=_createForOfIteratorHelper(this._getVisiblePages().views);try{for(I.s();!(C=I.n()).done;){var D=C.value,M=D.id,N=D.percent,E=D.widthPercent;if(M===T){if(0<N&&100===E)return 2;break}}}catch(e){I.e(e)}finally{I.f()}}return 1}},{key:"nextPage",value:function(){var e=this._currentPageNumber,t=this.pagesCount;if(t<=e)return!1;var n=this._getPageAdvance(e,!1)||1;return this.currentPageNumber=Math.min(e+n,t),!0}},{key:"previousPage",value:function(){var e=this._currentPageNumber;if(e<=1)return!1;var t=this._getPageAdvance(e,!0)||1;return this.currentPageNumber=Math.max(e-t,1),!0}}]),a}();t.BaseViewer=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.XfaLayerBuilder=t.DefaultXfaLayerFactory=void 0;var i=n(2),r=function(){function r(e){var t=e.pageDiv,n=e.pdfPage;_classCallCheck(this,r),this.pageDiv=t,this.pdfPage=n,this.div=null,this._cancelled=!1}return _createClass(r,[{key:"render",value:function(n){var r=this;1<arguments.length&&void 0!==arguments[1]&&arguments[1];return this.pdfPage.getXfa().then(function(e){if(!r._cancelled){var t={viewport:n.clone({dontFlip:!0}),div:r.div,xfa:e,page:r.pdfPage};r.div?i.XfaLayer.update(t):(r.div=document.createElement("div"),r.pageDiv.appendChild(r.div),t.div=r.div,i.XfaLayer.render(t))}})}},{key:"cancel",value:function(){this._cancelled=!0}},{key:"hide",value:function(){this.div&&(this.div.hidden=!0)}}]),r}();t.XfaLayerBuilder=r;var a=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"createXfaLayerBuilder",value:function(e,t){return new r({pageDiv:e,pdfPage:t})}}]),e}();t.DefaultXfaLayerFactory=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.PDFViewer=void 0;var o=n(5),r=n(19),i=n(2),a=function(e){_inherits(h,r.BaseViewer);var t=_createSuper(h);function h(){return _classCallCheck(this,h),t.apply(this,arguments)}return _createClass(h,[{key:"_viewerElement",get:function(){return(0,i.shadow)(this,"_viewerElement",this.viewer)}},{key:"_scrollIntoView",value:function(e){var t=e.pageDiv,n=e.pageSpot,r=void 0===n?null:n,i=e.pageNumber,a=void 0===i?null:i;if(!r&&!this.isInPresentationMode){var o=t.offsetLeft+t.clientLeft,s=o+t.clientWidth,u=this.container,c=u.scrollLeft,l=u.clientWidth;(this._isScrollModeHorizontal||o<c||c+l<s)&&(r={left:0,top:0})}_get2(_getPrototypeOf(h.prototype),"_scrollIntoView",this).call(this,{pageDiv:t,pageSpot:r,pageNumber:a})}},{key:"_getVisiblePages",value:function(){return this.isInPresentationMode?this._getCurrentVisiblePage():_get2(_getPrototypeOf(h.prototype),"_getVisiblePages",this).call(this)}},{key:"_updateHelper",value:function(e){if(!this.isInPresentationMode){var t,n=this._currentPageNumber,r=!1,i=_createForOfIteratorHelper(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.percent<100)break;if(a.id===n&&this._scrollMode===o.ScrollMode.VERTICAL&&this._spreadMode===o.SpreadMode.NONE){r=!0;break}}}catch(e){i.e(e)}finally{i.f()}r||(n=e[0].id),this._setCurrentPageNumber(n)}}}]),h}();t.PDFViewer=a}],i={};function f(e){var t=i[e];if(void 0!==t)return t.exports;var n=i[e]={exports:{}};return r[e](n,n.exports,f),n.exports}var g={};return function(){var e=g;Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return t.AnnotationLayerBuilder}}),Object.defineProperty(e,"DefaultAnnotationLayerFactory",{enumerable:!0,get:function(){return t.DefaultAnnotationLayerFactory}}),Object.defineProperty(e,"DefaultTextLayerFactory",{enumerable:!0,get:function(){return n.DefaultTextLayerFactory}}),Object.defineProperty(e,"TextLayerBuilder",{enumerable:!0,get:function(){return n.TextLayerBuilder}}),Object.defineProperty(e,"EventBus",{enumerable:!0,get:function(){return r.EventBus}}),Object.defineProperty(e,"ProgressBar",{enumerable:!0,get:function(){return r.ProgressBar}}),Object.defineProperty(e,"PDFLinkService",{enumerable:!0,get:function(){return i.PDFLinkService}}),Object.defineProperty(e,"SimpleLinkService",{enumerable:!0,get:function(){return i.SimpleLinkService}}),Object.defineProperty(e,"DownloadManager",{enumerable:!0,get:function(){return a.DownloadManager}}),Object.defineProperty(e,"GenericL10n",{enumerable:!0,get:function(){return o.GenericL10n}}),Object.defineProperty(e,"NullL10n",{enumerable:!0,get:function(){return s.NullL10n}}),Object.defineProperty(e,"PDFFindController",{enumerable:!0,get:function(){return u.PDFFindController}}),Object.defineProperty(e,"PDFHistory",{enumerable:!0,get:function(){return c.PDFHistory}}),Object.defineProperty(e,"PDFPageView",{enumerable:!0,get:function(){return l.PDFPageView}}),Object.defineProperty(e,"PDFScriptingManager",{enumerable:!0,get:function(){return h.PDFScriptingManager}}),Object.defineProperty(e,"PDFSinglePageViewer",{enumerable:!0,get:function(){return d.PDFSinglePageViewer}}),Object.defineProperty(e,"PDFViewer",{enumerable:!0,get:function(){return p.PDFViewer}});var t=f(1),n=f(6),r=f(5),i=f(4),a=f(7),o=f(9),s=f(3),u=f(11),c=f(13),l=f(14),h=f(16),d=f(18),p=f(21)}(),g}()});