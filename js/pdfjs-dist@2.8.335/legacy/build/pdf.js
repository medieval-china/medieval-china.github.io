"use strict";function _typeof2(e){return(_typeof2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e,t){"object"===("undefined"==typeof exports?"undefined":_typeof2(exports))&&"object"===("undefined"==typeof module?"undefined":_typeof2(module))?module.exports=t():"function"==typeof define&&define.amd?define("pdfjs-dist/build/pdf",[],t):"object"===("undefined"==typeof exports?"undefined":_typeof2(exports))?exports["pdfjs-dist/build/pdf"]=t():e["pdfjs-dist/build/pdf"]=e.pdfjsLib=t()}(void 0,function(){return function(){var __webpack_modules__=[,function(e,t,r){function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.addLinkAttributes=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=t.url,n=t.target,a=t.rel,i=t.enabled,o=void 0===i||i;(0,f.assert)(r&&"string"==typeof r,'addLinkAttributes: A valid "url" parameter must provided.');var s=(0,f.removeNullCharacters)(r);o?e.href=e.title=s:(e.href="",e.title="Disabled: ".concat(s),e.onclick=function(){return!1});var u="";switch(n){case P.NONE:break;case P.SELF:u="_self";break;case P.BLANK:u="_blank";break;case P.PARENT:u="_parent";break;case P.TOP:u="_top"}e.target=u,e.rel="string"==typeof a?a:g},t.deprecated=function(e){console.log("Deprecated API usage: "+e)},t.getFilenameFromUrl=function(e){var t=e.indexOf("#"),r=e.indexOf("?"),n=Math.min(0<t?t:e.length,0<r?r:e.length);return e.substring(e.lastIndexOf("/",n)+1,n)},t.getPdfFilenameFromUrl=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"document.pdf";if("string"!=typeof e)return t;if(T(e))return(0,f.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;var r=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,n=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(e),a=r.exec(n[1])||r.exec(n[2])||r.exec(n[3]);if(a&&(a=a[0]).includes("%"))try{a=r.exec(decodeURIComponent(a))[0]}catch(e){}return a||t},t.isDataScheme=T,t.isFetchSupported=O,t.isPdfFile=function(e){return"string"==typeof e&&/\.pdf$/i.test(e)},t.isValidFetchUrl=F,t.loadScript=function(n){var a=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return new Promise(function(t,e){var r=document.createElement("script");r.src=n,r.onload=function(e){a&&r.remove(),t(e)},r.onerror=function(){e(new Error("Cannot load script at: ".concat(r.src)))},(document.head||document.documentElement).appendChild(r)})},t.StatTimer=t.RenderingCancelledException=t.PDFDateString=t.PageViewport=t.LinkTarget=t.DOMSVGFactory=t.DOMCMapReaderFactory=t.DOMCanvasFactory=t.DEFAULT_LINK_REL=t.BaseCMapReaderFactory=t.BaseCanvasFactory=void 0;var n,o=(n=r(2))&&n.__esModule?n:{default:n},f=r(4);function l(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw i}}}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function c(e,t,r,n,a,i,o){try{var s=e[i](o),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,a)}function d(s){return function(){var e=this,o=arguments;return new Promise(function(t,r){var n=s.apply(e,o);function a(e){c(n,t,r,a,i,"next",e)}function i(e){c(n,t,r,a,i,"throw",e)}a(void 0)})}}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(i){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,r,n=p(i);if(o){var a=p(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return t=this,!(r=e)||"object"!==s(r)&&"function"!=typeof r?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):r}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function y(e,t,r){return t&&v(e.prototype,t),r&&v(e,r),e}var g="noopener noreferrer nofollow";t.DEFAULT_LINK_REL=g;var m="http://www.w3.org/2000/svg",b=function(){function e(){A(this,e),this.constructor===e&&(0,f.unreachable)("Cannot initialize BaseCanvasFactory.")}return y(e,[{key:"create",value:function(e,t){(0,f.unreachable)("Abstract method `create` called.")}},{key:"reset",value:function(e,t,r){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||r<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=r}},{key:"destroy",value:function(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}}]),e}();t.BaseCanvasFactory=b;var _=function(e){i(a,b);var n=h(a);function a(){var e,t=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).ownerDocument,r=void 0===t?globalThis.document:t;return A(this,a),(e=n.call(this))._document=r,e}return y(a,[{key:"create",value:function(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");var r=this._document.createElement("canvas"),n=r.getContext("2d");return r.width=e,r.height=t,{canvas:r,context:n}}}]),a}();t.DOMCanvasFactory=_;var S=function(){function i(e){var t=e.baseUrl,r=void 0===t?null:t,n=e.isCompressed,a=void 0!==n&&n;A(this,i),this.constructor===i&&(0,f.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=r,this.isCompressed=a}var t;return y(i,[{key:"fetch",value:(t=d(o.default.mark(function e(t){var r,n,a,i=this;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.name,this.baseUrl){e.next=3;break}throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');case 3:if(r){e.next=5;break}throw new Error("CMap name must be specified.");case 5:return n=this.baseUrl+r+(this.isCompressed?".bcmap":""),a=this.isCompressed?f.CMapCompressionType.BINARY:f.CMapCompressionType.NONE,e.abrupt("return",this._fetchData(n,a).catch(function(e){throw new Error("Unable to load ".concat(i.isCompressed?"binary ":"","CMap at: ").concat(n))}));case 8:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"_fetchData",value:function(e,t){(0,f.unreachable)("Abstract method `_fetchData` called.")}}]),i}();t.BaseCMapReaderFactory=S;var w=function(e){i(r,S);var t=h(r);function r(){return A(this,r),t.apply(this,arguments)}return y(r,[{key:"_fetchData",value:function(e,a){var i=this;return O()&&F(e,document.baseURI)?fetch(e).then(function(){var t=d(o.default.mark(function e(t){var r;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.ok){e.next=2;break}throw new Error(t.statusText);case 2:if(i.isCompressed)return e.t0=Uint8Array,e.next=6,t.arrayBuffer();e.next=10;break;case 6:e.t1=e.sent,r=new e.t0(e.t1),e.next=15;break;case 10:return e.t2=f.stringToBytes,e.next=13,t.text();case 13:e.t3=e.sent,r=(0,e.t2)(e.t3);case 15:return e.abrupt("return",{cMapData:r,compressionType:a});case 16:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}()):new Promise(function(t,r){var n=new XMLHttpRequest;n.open("GET",e,!0),i.isCompressed&&(n.responseType="arraybuffer"),n.onreadystatechange=function(){if(n.readyState===XMLHttpRequest.DONE){var e;if(200===n.status||0===n.status)if(i.isCompressed&&n.response?e=new Uint8Array(n.response):!i.isCompressed&&n.responseText&&(e=(0,f.stringToBytes)(n.responseText)),e)return void t({cMapData:e,compressionType:a});r(new Error(n.statusText))}},n.send(null)})}}]),r}();t.DOMCMapReaderFactory=w;var k=function(){function e(){A(this,e)}return y(e,[{key:"create",value:function(e,t){(0,f.assert)(0<e&&0<t,"Invalid SVG dimensions");var r=document.createElementNS(m,"svg:svg");return r.setAttribute("version","1.1"),r.setAttribute("width",e+"px"),r.setAttribute("height",t+"px"),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox","0 0 "+e+" "+t),r}},{key:"createElement",value:function(e){return(0,f.assert)("string"==typeof e,"Invalid SVG element type"),document.createElementNS(m,e)}}]),e}();t.DOMSVGFactory=k;var x=function(){function _(e){var t=e.viewBox,r=e.scale,n=e.rotation,a=e.offsetX,i=void 0===a?0:a,o=e.offsetY,s=void 0===o?0:o,u=e.dontFlip,l=void 0!==u&&u;A(this,_),this.viewBox=t,this.scale=r,this.rotation=n,this.offsetX=i,this.offsetY=s;var c,f,d,h,p,v,y,g,m=(t[2]+t[0])/2,b=(t[3]+t[1])/2;switch((n%=360)<0&&(n+=360),n){case 180:c=-1,d=f=0,h=1;break;case 90:d=f=1,h=c=0;break;case 270:d=f=-1,h=c=0;break;case 0:d=f=0,h=-(c=1);break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}l&&(d=-d,h=-h),g=0===c?(p=Math.abs(b-t[1])*r+i,v=Math.abs(m-t[0])*r+s,y=Math.abs(t[3]-t[1])*r,Math.abs(t[2]-t[0])*r):(p=Math.abs(m-t[0])*r+i,v=Math.abs(b-t[1])*r+s,y=Math.abs(t[2]-t[0])*r,Math.abs(t[3]-t[1])*r),this.transform=[c*r,f*r,d*r,h*r,p-c*r*m-d*r*b,v-f*r*m-h*r*b],this.width=y,this.height=g}return y(_,[{key:"clone",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.scale,r=void 0===t?this.scale:t,n=e.rotation,a=void 0===n?this.rotation:n,i=e.offsetX,o=void 0===i?this.offsetX:i,s=e.offsetY,u=void 0===s?this.offsetY:s,l=e.dontFlip,c=void 0!==l&&l;return new _({viewBox:this.viewBox.slice(),scale:r,rotation:a,offsetX:o,offsetY:u,dontFlip:c})}},{key:"convertToViewportPoint",value:function(e,t){return f.Util.applyTransform([e,t],this.transform)}},{key:"convertToViewportRectangle",value:function(e){var t=f.Util.applyTransform([e[0],e[1]],this.transform),r=f.Util.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],r[0],r[1]]}},{key:"convertToPdfPoint",value:function(e,t){return f.Util.applyInverseTransform([e,t],this.transform)}}]),_}();t.PageViewport=x;var C=function(e){i(a,f.BaseException);var n=h(a);function a(e,t){var r;return A(this,a),(r=n.call(this,e)).type=t,r}return a}();t.RenderingCancelledException=C;var P={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};function T(e){for(var t=e.length,r=0;r<t&&""===e[r].trim();)r++;return"data:"===e.substring(r,r+5).toLowerCase()}t.LinkTarget=P;var R,E=function(){function e(){A(this,e),this.started=Object.create(null),this.times=[]}return y(e,[{key:"time",value:function(e){e in this.started&&(0,f.warn)("Timer is already running for ".concat(e)),this.started[e]=Date.now()}},{key:"timeEnd",value:function(e){e in this.started||(0,f.warn)("Timer has not been started for ".concat(e)),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}},{key:"toString",value:function(){var e,t=[],r=0,n=l(this.times);try{for(n.s();!(e=n.n()).done;){var a=e.value.name;a.length>r&&(r=a.length)}}catch(e){n.e(e)}finally{n.f()}var i,o=l(this.times);try{for(o.s();!(i=o.n()).done;){var s=i.value,u=s.end-s.start;t.push("".concat(s.name.padEnd(r)," ").concat(u,"ms\n"))}}catch(e){o.e(e)}finally{o.f()}return t.join("")}}]),e}();function O(){return"undefined"!=typeof fetch&&"undefined"!=typeof Response&&"body"in Response.prototype&&"undefined"!=typeof ReadableStream}function F(e,t){try{var r=(t?new URL(e,t):new URL(e)).protocol;return"http:"===r||"https:"===r}catch(e){return!1}}t.StatTimer=E;var L=function(){function e(){A(this,e)}return y(e,null,[{key:"toDateObject",value:function(e){if(!e||!(0,f.isString)(e))return null;R||(R=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));var t=R.exec(e);if(!t)return null;var r=parseInt(t[1],10),n=parseInt(t[2],10);n=1<=n&&n<=12?n-1:0;var a=parseInt(t[3],10);a=1<=a&&a<=31?a:1;var i=parseInt(t[4],10);i=0<=i&&i<=23?i:0;var o=parseInt(t[5],10);o=0<=o&&o<=59?o:0;var s=parseInt(t[6],10);s=0<=s&&s<=59?s:0;var u=t[7]||"Z",l=parseInt(t[8],10);l=0<=l&&l<=23?l:0;var c=parseInt(t[9],10)||0;return c=0<=c&&c<=59?c:0,"-"===u?(i+=l,o+=c):"+"===u&&(i-=l,o-=c),new Date(Date.UTC(r,n,a,i,o,s))}}]),e}();t.PDFDateString=L},function(e,t,r){e.exports=r(3)},function(e,t,r){function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var n=function(o){var u,e=Object.prototype,c=e.hasOwnProperty,t="function"==typeof Symbol?Symbol:{},a=t.iterator||"@@iterator",r=t.asyncIterator||"@@asyncIterator",n=t.toStringTag||"@@toStringTag";function i(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{i({},"")}catch(e){i=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var i,o,s,u,a=t&&t.prototype instanceof g?t:g,l=Object.create(a.prototype),c=new T(n||[]);return l._invoke=(i=e,o=r,s=c,u=d,function(e,t){if(u===p)throw new Error("Generator is already running");if(u===v){if("throw"===e)throw t;return E()}for(s.method=e,s.arg=t;;){var r=s.delegate;if(r){var n=x(r,s);if(n){if(n===y)continue;return n}}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if(u===d)throw u=v,s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);u=p;var a=f(i,o,s);if("normal"===a.type){if(u=s.done?v:h,a.arg===y)continue;return{value:a.arg,done:s.done}}"throw"===a.type&&(u=v,s.method="throw",s.arg=a.arg)}}),l}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}o.wrap=s;var d="suspendedStart",h="suspendedYield",p="executing",v="completed",y={};function g(){}function l(){}function m(){}var b={};b[a]=function(){return this};var _=Object.getPrototypeOf,A=_&&_(_(R([])));A&&A!==e&&c.call(A,a)&&(b=A);var S=m.prototype=g.prototype=Object.create(b);function w(e){["next","throw","return"].forEach(function(t){i(e,t,function(e){return this._invoke(t,e)})})}function k(u,l){var t;this._invoke=function(r,n){function e(){return new l(function(e,t){!function t(e,r,n,a){var i=f(u[e],u,r);if("throw"!==i.type){var o=i.arg,s=o.value;return s&&"object"===O(s)&&c.call(s,"__await")?l.resolve(s.__await).then(function(e){t("next",e,n,a)},function(e){t("throw",e,n,a)}):l.resolve(s).then(function(e){o.value=e,n(o)},function(e){return t("throw",e,n,a)})}a(i.arg)}(r,n,e,t)})}return t=t?t.then(e,e):e()}}function x(e,t){var r=e.iterator[t.method];if(r===u){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=u,x(e,t),"throw"===t.method))return y;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return y}var n=f(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,y;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=u),t.delegate=null,y):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,y)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function R(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,n=function e(){for(;++r<t.length;)if(c.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=u,e.done=!0,e};return n.next=n}}return{next:E}}function E(){return{value:u,done:!0}}return l.prototype=S.constructor=m,(m.constructor=l).displayName=i(m,n,"GeneratorFunction"),o.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===l||"GeneratorFunction"===(t.displayName||t.name))},o.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,i(e,n,"GeneratorFunction")),e.prototype=Object.create(S),e},o.awrap=function(e){return{__await:e}},w(k.prototype),k.prototype[r]=function(){return this},o.AsyncIterator=k,o.async=function(e,t,r,n,a){void 0===a&&(a=Promise);var i=new k(s(e,t,r,n),a);return o.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},w(S),i(S,n,"Generator"),S[a]=function(){return this},S.toString=function(){return"[object Generator]"},o.keys=function(r){var n=[];for(var e in r)n.push(e);return n.reverse(),function e(){for(;n.length;){var t=n.pop();if(t in r)return e.value=t,e.done=!1,e}return e.done=!0,e}},o.values=R,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=u,this.done=!1,this.delegate=null,this.method="next",this.arg=u,this.tryEntries.forEach(P),!e)for(var t in this)"t"===t.charAt(0)&&c.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=u)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var n=this;function e(e,t){return i.type="throw",i.arg=r,n.next=e,t&&(n.method="next",n.arg=u),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var a=this.tryEntries[t],i=a.completion;if("root"===a.tryLoc)return e("end");if(a.tryLoc<=this.prev){var o=c.call(a,"catchLoc"),s=c.call(a,"finallyLoc");if(o&&s){if(this.prev<a.catchLoc)return e(a.catchLoc,!0);if(this.prev<a.finallyLoc)return e(a.finallyLoc)}else if(o){if(this.prev<a.catchLoc)return e(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return e(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;0<=r;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&c.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var a=n;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:R(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=u),y}},o}("object"===O(e=r.nmd(e))?e.exports:{});try{regeneratorRuntime=n}catch(e){Function("r","regeneratorRuntime = r")(n)}},function(e,t,r){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t){if(e){if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(e,t):void 0}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(i){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,r,n=f(i);if(o){var a=f(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return t=this,!(r=e)||"object"!==s(r)&&"function"!=typeof r?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):r}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.arrayByteLength=T,t.arraysToBytes=function(e){var t=e.length;if(1===t&&e[0]instanceof Uint8Array)return e[0];for(var r=0,n=0;n<t;n++)r+=T(e[n]);for(var a=0,i=new Uint8Array(r),o=0;o<t;o++){var s=e[o];s instanceof Uint8Array||(s="string"==typeof s?P(s):new Uint8Array(s));var u=s.byteLength;i.set(s,a),a+=u}return i},t.assert=y,t.bytesToString=function(e){y(null!==e&&"object"===s(e)&&void 0!==e.length,"Invalid argument for bytesToString");var t=e.length;if(t<8192)return String.fromCharCode.apply(null,e);for(var r=[],n=0;n<t;n+=8192){var a=Math.min(n+8192,t),i=e.subarray(n,a);r.push(String.fromCharCode.apply(null,i))}return r.join("")},t.createObjectURL=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",r=2<arguments.length&&void 0!==arguments[2]&&arguments[2];if(URL.createObjectURL&&!r)return URL.createObjectURL(new Blob([e],{type:t}));for(var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",a="data:".concat(t,";base64,"),i=0,o=e.length;i<o;i+=3){var s=255&e[i],u=255&e[i+1],l=255&e[i+2],c=s>>2,f=(3&s)<<4|u>>4,d=i+1<o?(15&u)<<2|l>>6:64,h=i+2<o?63&l:64;a+=n[c]+n[f]+n[d]+n[h]}return a},t.createPromiseCapability=function(){var e=Object.create(null),n=!1;return Object.defineProperty(e,"settled",{get:function(){return n}}),e.promise=new Promise(function(t,r){e.resolve=function(e){n=!0,t(e)},e.reject=function(e){n=!0,r(e)}}),e},t.createValidAbsoluteUrl=function(e,t){if(!e)return null;try{var r=t?new URL(e,t):new URL(e);if(function(e){if(!e)return!1;switch(e.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(r))return r}catch(e){}return null},t.escapeString=function(e){return e.replace(/([()\\\n\r])/g,function(e){return"\n"===e?"\\n":"\r"===e?"\\r":"\\".concat(e)})},t.getModificationDate=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new Date;return[e.getUTCFullYear().toString(),(e.getUTCMonth()+1).toString().padStart(2,"0"),e.getUTCDate().toString().padStart(2,"0"),e.getUTCHours().toString().padStart(2,"0"),e.getUTCMinutes().toString().padStart(2,"0"),e.getUTCSeconds().toString().padStart(2,"0")].join("")},t.getVerbosityLevel=function(){return h},t.info=function(e){h>=d.INFOS&&console.log("Info: ".concat(e))},t.isArrayBuffer=function(e){return"object"===s(e)&&null!==e&&void 0!==e.byteLength},t.isArrayEqual=function(e,t){if(e.length!==t.length)return!1;for(var r=0,n=e.length;r<n;r++)if(e[r]!==t[r])return!1;return!0},t.isAscii=function(e){return/^[\x00-\x7F]*$/.test(e)},t.isBool=function(e){return"boolean"==typeof e},t.isNum=function(e){return"number"==typeof e},t.isSameOrigin=function(e,t){var r;try{if(!(r=new URL(e)).origin||"null"===r.origin)return!1}catch(e){return!1}var n=new URL(t,r);return r.origin===n.origin},t.isString=function(e){return"string"==typeof e},t.objectFromMap=function(e){var t,r=Object.create(null),n=function(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=l(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw i}}}}(e);try{for(n.s();!(t=n.n()).done;){var a=(s=t.value,u=2,function(e){if(Array.isArray(e))return e}(s)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw i}}return r}(s,u)||l(s,u)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=a[0],o=a[1];r[i]=o}}catch(e){n.e(e)}finally{n.f()}var s,u;return r},t.objectSize=function(e){return Object.keys(e).length},t.removeNullCharacters=function(e){return"string"==typeof e?e.replace(C,""):(p("The argument for removeNullCharacters must be a string."),e)},t.setVerbosityLevel=function(e){Number.isInteger(e)&&(h=e)},t.shadow=g,t.string32=function(e){return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,255&e)},t.stringToBytes=P,t.stringToPDFString=function(e){var t=e.length,r=[];if("þ"===e[0]&&"ÿ"===e[1])for(var n=2;n<t;n+=2)r.push(String.fromCharCode(e.charCodeAt(n)<<8|e.charCodeAt(n+1)));else if("ÿ"===e[0]&&"þ"===e[1])for(var a=2;a<t;a+=2)r.push(String.fromCharCode(e.charCodeAt(a+1)<<8|e.charCodeAt(a)));else for(var i=0;i<t;++i){var o=M[e.charCodeAt(i)];r.push(o?String.fromCharCode(o):e.charAt(i))}return r.join("")},t.stringToUTF16BEString=function(e){for(var t=["þÿ"],r=0,n=e.length;r<n;r++){var a=e.charCodeAt(r);t.push(String.fromCharCode(a>>8&255)),t.push(String.fromCharCode(255&a))}return t.join("")},t.stringToUTF8String=function(e){return decodeURIComponent(escape(e))},t.unreachable=v,t.utf8StringToString=function(e){return unescape(encodeURIComponent(e))},t.warn=p,t.VerbosityLevel=t.Util=t.UNSUPPORTED_FEATURES=t.UnknownErrorException=t.UnexpectedResponseException=t.TextRenderingMode=t.StreamType=t.PermissionFlag=t.PasswordResponses=t.PasswordException=t.PageActionEventType=t.OPS=t.MissingPDFException=t.IsLittleEndianCached=t.IsEvalSupportedCached=t.InvalidPDFException=t.ImageKind=t.IDENTITY_MATRIX=t.FormatError=t.FontType=t.FONT_IDENTITY_MATRIX=t.DocumentActionEventType=t.CMapCompressionType=t.BaseException=t.AnnotationType=t.AnnotationStateModelType=t.AnnotationReviewState=t.AnnotationReplyType=t.AnnotationMarkedState=t.AnnotationFlag=t.AnnotationFieldFlag=t.AnnotationBorderStyleType=t.AnnotationActionEventType=t.AbortException=void 0,r(5);t.IDENTITY_MATRIX=[1,0,0,1,0,0];t.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0];t.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};t.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};t.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};t.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};t.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"};t.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"};t.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"};t.AnnotationReplyType={GROUP:"Group",REPLY:"R"};t.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};t.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};t.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};t.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};t.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};t.PageActionEventType={O:"PageOpen",C:"PageClose"};t.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"};t.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};var d={ERRORS:0,WARNINGS:1,INFOS:5};t.VerbosityLevel=d;t.CMapCompressionType={NONE:0,BINARY:1,STREAM:2};t.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};t.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent"};t.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};var h=d.WARNINGS;function p(e){h>=d.WARNINGS&&console.log("Warning: ".concat(e))}function v(e){throw new Error(e)}function y(e,t){e||v(t)}function g(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!1}),r}var m=function(){function t(e){this.constructor===t&&v("Cannot initialize BaseException."),this.message=e,this.name=this.constructor.name}return t.prototype=new Error,t.constructor=t}();t.BaseException=m;var b=function(e){o(a,m);var n=c(a);function a(e,t){var r;return i(this,a),(r=n.call(this,e)).code=t,r}return a}();t.PasswordException=b;var _=function(e){o(a,m);var n=c(a);function a(e,t){var r;return i(this,a),(r=n.call(this,e)).details=t,r}return a}();t.UnknownErrorException=_;var A=function(e){o(r,m);var t=c(r);function r(){return i(this,r),t.apply(this,arguments)}return r}();t.InvalidPDFException=A;var S=function(e){o(r,m);var t=c(r);function r(){return i(this,r),t.apply(this,arguments)}return r}();t.MissingPDFException=S;var w=function(e){o(a,m);var n=c(a);function a(e,t){var r;return i(this,a),(r=n.call(this,e)).status=t,r}return a}();t.UnexpectedResponseException=w;var k=function(e){o(r,m);var t=c(r);function r(){return i(this,r),t.apply(this,arguments)}return r}();t.FormatError=k;var x=function(e){o(r,m);var t=c(r);function r(){return i(this,r),t.apply(this,arguments)}return r}();t.AbortException=x;var C=/\x00/g;function P(e){y("string"==typeof e,"Invalid argument for stringToBytes");for(var t=e.length,r=new Uint8Array(t),n=0;n<t;++n)r[n]=255&e.charCodeAt(n);return r}function T(e){return void 0!==e.length?e.length:(y(void 0!==e.byteLength,"arrayByteLength - invalid argument."),e.byteLength)}var R={get value(){return g(this,"value",((e=new Uint8Array(4))[0]=1)===new Uint32Array(e.buffer,0,1)[0]);var e}};t.IsLittleEndianCached=R;var E={get value(){return g(this,"value",function(){try{return new Function(""),!0}catch(e){return!1}}())}};t.IsEvalSupportedCached=E;var O,F=(O=Array(256).keys(),function(e){if(Array.isArray(e))return a(e)}(O)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(O)||l(O)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map(function(e){return e.toString(16).padStart(2,"0")}),L=function(){function o(){i(this,o)}var e,t,r;return e=o,r=[{key:"makeHexColor",value:function(e,t,r){return"#".concat(F[e]).concat(F[t]).concat(F[r])}},{key:"transform",value:function(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}},{key:"applyTransform",value:function(e,t){return[e[0]*t[0]+e[1]*t[2]+t[4],e[0]*t[1]+e[1]*t[3]+t[5]]}},{key:"applyInverseTransform",value:function(e,t){var r=t[0]*t[3]-t[1]*t[2];return[(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/r,(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/r]}},{key:"getAxialAlignedBoundingBox",value:function(e,t){var r=o.applyTransform(e,t),n=o.applyTransform(e.slice(2,4),t),a=o.applyTransform([e[0],e[3]],t),i=o.applyTransform([e[2],e[1]],t);return[Math.min(r[0],n[0],a[0],i[0]),Math.min(r[1],n[1],a[1],i[1]),Math.max(r[0],n[0],a[0],i[0]),Math.max(r[1],n[1],a[1],i[1])]}},{key:"inverseTransform",value:function(e){var t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}},{key:"apply3dTransform",value:function(e,t){return[e[0]*t[0]+e[1]*t[1]+e[2]*t[2],e[3]*t[0]+e[4]*t[1]+e[5]*t[2],e[6]*t[0]+e[7]*t[1]+e[8]*t[2]]}},{key:"singularValueDecompose2dScale",value:function(e){var t=[e[0],e[2],e[1],e[3]],r=e[0]*t[0]+e[1]*t[2],n=e[0]*t[1]+e[1]*t[3],a=e[2]*t[0]+e[3]*t[2],i=e[2]*t[1]+e[3]*t[3],o=(r+i)/2,s=Math.sqrt(Math.pow(r+i,2)-4*(r*i-a*n))/2,u=o+s||1,l=o-s||1;return[Math.sqrt(u),Math.sqrt(l)]}},{key:"normalizeRect",value:function(e){var t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}},{key:"intersect",value:function(e,t){function r(e,t){return e-t}var n=[e[0],e[2],t[0],t[2]].sort(r),a=[e[1],e[3],t[1],t[3]].sort(r),i=[];return e=o.normalizeRect(e),t=o.normalizeRect(t),n[0]===e[0]&&n[1]===t[0]||n[0]===t[0]&&n[1]===e[0]?(i[0]=n[1],i[2]=n[2],a[0]===e[1]&&a[1]===t[1]||a[0]===t[1]&&a[1]===e[1]?(i[1]=a[1],i[3]=a[2],i):null):null}}],(t=null)&&n(e.prototype,t),r&&n(e,r),o}();t.Util=L;var M=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364]},function(e,t,r){var n=r(6);"undefined"!=typeof globalThis&&globalThis._pdfjsCompatibilityChecked||("undefined"!=typeof globalThis&&globalThis.Math===Math||(globalThis=r(7)),globalThis._pdfjsCompatibilityChecked=!0,!globalThis.btoa&&n.isNodeJS&&(globalThis.btoa=function(e){return Buffer.from(e,"binary").toString("base64")}),!globalThis.atob&&n.isNodeJS&&(globalThis.atob=function(e){return Buffer.from(e,"base64").toString("binary")}),Object.fromEntries||r(52),globalThis.Promise.allSettled||(globalThis.Promise=r(85)),function(){var e=!1;if("undefined"!=typeof ReadableStream)try{new ReadableStream({start:function(e){e.close()}}),e=!0}catch(e){}e||(globalThis.ReadableStream=r(111).ReadableStream)}(),String.prototype.padStart||r(112),String.prototype.padEnd||r(118),Object.values||(Object.values=r(120)),Object.entries||(Object.entries=r(123)))},function(e,t){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.isNodeJS=void 0;var n=!("object"!==("undefined"==typeof process?"undefined":r(process))||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type);t.isNodeJS=n},function(e,t,r){r(8),e.exports=r(10)},function(e,t,r){r(9)({global:!0},{globalThis:r(10)})},function(e,t,r){var c=r(10),f=r(11).f,d=r(25),h=r(28),p=r(29),v=r(39),y=r(51);e.exports=function(e,t){var r,n,a,i,o,s=e.target,u=e.global,l=e.stat;if(r=u?c:l?c[s]||p(s,{}):(c[s]||{}).prototype)for(n in t){if(i=t[n],a=e.noTargetGet?(o=f(r,n))&&o.value:r[n],!y(u?n:s+(l?".":"#")+n,e.forced)&&void 0!==a){if(_typeof2(i)===_typeof2(a))continue;v(i,a)}(e.sham||a&&a.sham)&&d(i,"sham",!0),h(r,n,i,e)}}},function(e){var t=function(e){return e&&e.Math==Math&&e};e.exports=t("object"==("undefined"==typeof globalThis?"undefined":_typeof2(globalThis))&&globalThis)||t("object"==("undefined"==typeof window?"undefined":_typeof2(window))&&window)||t("object"==("undefined"==typeof self?"undefined":_typeof2(self))&&self)||t("object"==("undefined"==typeof global?"undefined":_typeof2(global))&&global)||function(){return this}()||Function("return this")()},function(e,t,r){var n=r(12),a=r(14),i=r(15),o=r(16),s=r(20),u=r(22),l=r(23),c=Object.getOwnPropertyDescriptor;t.f=n?c:function(e,t){if(e=o(e),t=s(t,!0),l)try{return c(e,t)}catch(e){}if(u(e,t))return i(!a.f.call(e,t),e[t])}},function(e,t,r){var n=r(13);e.exports=!n(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},function(e){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,a=n&&!r.call({1:2},1);t.f=a?function(e){var t=n(this,e);return!!t&&t.enumerable}:r},function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,r){var n=r(17),a=r(19);e.exports=function(e){return n(a(e))}},function(e,t,r){var n=r(13),a=r(18),i="".split;e.exports=n(function(){return!Object("z").propertyIsEnumerable(0)})?function(e){return"String"==a(e)?i.call(e,""):Object(e)}:Object},function(e){var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},function(e){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},function(e,t,r){var a=r(21);e.exports=function(e,t){if(!a(e))return e;var r,n;if(t&&"function"==typeof(r=e.toString)&&!a(n=r.call(e)))return n;if("function"==typeof(r=e.valueOf)&&!a(n=r.call(e)))return n;if(!t&&"function"==typeof(r=e.toString)&&!a(n=r.call(e)))return n;throw TypeError("Can't convert object to primitive value")}},function(e){e.exports=function(e){return"object"===_typeof2(e)?null!==e:"function"==typeof e}},function(e){var r={}.hasOwnProperty;e.exports=function(e,t){return r.call(e,t)}},function(e,t,r){var n=r(12),a=r(13),i=r(24);e.exports=!n&&!a(function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a})},function(e,t,r){var n=r(10),a=r(21),i=n.document,o=a(i)&&a(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,r){var n=r(12),a=r(26),i=r(15);e.exports=n?function(e,t,r){return a.f(e,t,i(1,r))}:function(e,t,r){return e[t]=r,e}},function(e,t,r){var n=r(12),a=r(23),i=r(27),o=r(20),s=Object.defineProperty;t.f=n?s:function(e,t,r){if(i(e),t=o(t,!0),i(r),a)try{return s(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},function(e,t,r){var n=r(21);e.exports=function(e){if(!n(e))throw TypeError(String(e)+" is not an object");return e}},function(e,t,r){var u=r(10),l=r(25),c=r(22),f=r(29),n=r(30),a=r(32),i=a.get,d=a.enforce,h=String(String).split("String");(e.exports=function(e,t,r,n){var a,i=!!n&&!!n.unsafe,o=!!n&&!!n.enumerable,s=!!n&&!!n.noTargetGet;"function"==typeof r&&("string"!=typeof t||c(r,"name")||l(r,"name",t),(a=d(r)).source||(a.source=h.join("string"==typeof t?t:""))),e!==u?(i?!s&&e[t]&&(o=!0):delete e[t],o?e[t]=r:l(e,t,r)):o?e[t]=r:f(t,r)})(Function.prototype,"toString",function(){return"function"==typeof this&&i(this).source||n(this)})},function(e,t,r){var n=r(10),a=r(25);e.exports=function(t,r){try{a(n,t,r)}catch(e){n[t]=r}return r}},function(e,t,r){var n=r(31),a=Function.toString;"function"!=typeof n.inspectSource&&(n.inspectSource=function(e){return a.call(e)}),e.exports=n.inspectSource},function(e,t,r){var n=r(10),a=r(29),i="__core-js_shared__",o=n[i]||a(i,{});e.exports=o},function(e,t,r){var n,a,i,o=r(33),s=r(10),u=r(21),l=r(25),c=r(22),f=r(31),d=r(34),h=r(38),p=s.WeakMap;if(o){var v=f.state||(f.state=new p),y=v.get,g=v.has,m=v.set;n=function(e,t){return t.facade=e,m.call(v,e,t),t},a=function(e){return y.call(v,e)||{}},i=function(e){return g.call(v,e)}}else{var b=d("state");h[b]=!0,n=function(e,t){return t.facade=e,l(e,b,t),t},a=function(e){return c(e,b)?e[b]:{}},i=function(e){return c(e,b)}}e.exports={set:n,get:a,has:i,enforce:function(e){return i(e)?a(e):n(e,{})},getterFor:function(r){return function(e){var t;if(!u(e)||(t=a(e)).type!==r)throw TypeError("Incompatible receiver, "+r+" required");return t}}}},function(e,t,r){var n=r(10),a=r(30),i=n.WeakMap;e.exports="function"==typeof i&&/native code/.test(a(i))},function(e,t,r){var n=r(35),a=r(37),i=n("keys");e.exports=function(e){return i[e]||(i[e]=a(e))}},function(e,t,r){var n=r(36),a=r(31);(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.10.0",mode:n?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},function(e){e.exports=!1},function(e){var t=0,r=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++t+r).toString(36)}},function(e){e.exports={}},function(e,t,r){var s=r(22),u=r(40),l=r(11),c=r(26);e.exports=function(e,t){for(var r=u(t),n=c.f,a=l.f,i=0;i<r.length;i++){var o=r[i];s(e,o)||n(e,o,a(t,o))}}},function(e,t,r){var n=r(41),a=r(43),i=r(50),o=r(27);e.exports=n("Reflect","ownKeys")||function(e){var t=a.f(o(e)),r=i.f;return r?t.concat(r(e)):t}},function(e,t,r){var n=r(42),a=r(10),i=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?i(n[e])||i(a[e]):n[e]&&n[e][t]||a[e]&&a[e][t]}},function(e,t,r){var n=r(10);e.exports=n},function(e,t,r){var n=r(44),a=r(49).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,a)}},function(e,t,r){var o=r(22),s=r(16),u=r(45).indexOf,l=r(38);e.exports=function(e,t){var r,n=s(e),a=0,i=[];for(r in n)!o(l,r)&&o(n,r)&&i.push(r);for(;t.length>a;)o(n,r=t[a++])&&(~u(i,r)||i.push(r));return i}},function(e,t,r){var u=r(16),l=r(46),c=r(48),n=function(s){return function(e,t,r){var n,a=u(e),i=l(a.length),o=c(r,i);if(s&&t!=t){for(;o<i;)if((n=a[o++])!=n)return!0}else for(;o<i;o++)if((s||o in a)&&a[o]===t)return s||o||0;return!s&&-1}};e.exports={includes:n(!0),indexOf:n(!1)}},function(e,t,r){var n=r(47),a=Math.min;e.exports=function(e){return 0<e?a(n(e),9007199254740991):0}},function(e){var t=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(0<e?r:t)(e)}},function(e,t,r){var n=r(47),a=Math.max,i=Math.min;e.exports=function(e,t){var r=n(e);return r<0?a(r+t,0):i(r,t)}},function(e){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,r){var n=r(13),a=/#|\.prototype\./,i=function(e,t){var r=s[o(e)];return r==l||r!=u&&("function"==typeof t?n(t):!!t)},o=i.normalize=function(e){return String(e).replace(a,".").toLowerCase()},s=i.data={},u=i.NATIVE="N",l=i.POLYFILL="P";e.exports=i},function(e,t,r){r(53),r(75);var n=r(42);e.exports=n.Object.fromEntries},function(e,t,r){var n=r(16),a=r(54),i=r(65),o=r(32),s=r(66),u="Array Iterator",l=o.set,c=o.getterFor(u);e.exports=s(Array,"Array",function(e,t){l(this,{type:u,target:n(e),index:0,kind:t})},function(){var e=c(this),t=e.target,r=e.kind,n=e.index++;return!t||n>=t.length?{value:e.target=void 0,done:!0}:"keys"==r?{value:n,done:!1}:"values"==r?{value:t[n],done:!1}:{value:[n,t[n]],done:!1}},"values"),i.Arguments=i.Array,a("keys"),a("values"),a("entries")},function(e,t,r){var n=r(55),a=r(61),i=r(26),o=n("unscopables"),s=Array.prototype;null==s[o]&&i.f(s,o,{configurable:!0,value:a(null)}),e.exports=function(e){s[o][e]=!0}},function(e,t,r){var n=r(10),a=r(35),i=r(22),o=r(37),s=r(56),u=r(60),l=a("wks"),c=n.Symbol,f=u?c:c&&c.withoutSetter||o;e.exports=function(e){return i(l,e)&&(s||"string"==typeof l[e])||(s&&i(c,e)?l[e]=c[e]:l[e]=f("Symbol."+e)),l[e]}},function(e,t,r){var n=r(57),a=r(58),i=r(13);e.exports=!!Object.getOwnPropertySymbols&&!i(function(){return!Symbol.sham&&(n?38===a:37<a&&a<41)})},function(e,t,r){var n=r(18),a=r(10);e.exports="process"==n(a.process)},function(e,t,r){var n,a,i=r(10),o=r(59),s=i.process,u=s&&s.versions,l=u&&u.v8;l?a=(n=l.split("."))[0]+n[1]:o&&(!(n=o.match(/Edge\/(\d+)/))||74<=n[1])&&(n=o.match(/Chrome\/(\d+)/))&&(a=n[1]),e.exports=a&&+a},function(e,t,r){var n=r(41);e.exports=n("navigator","userAgent")||""},function(e,t,r){var n=r(56);e.exports=n&&!Symbol.sham&&"symbol"==_typeof2(Symbol.iterator)},function(e,t,r){var n,a=r(27),i=r(62),o=r(49),s=r(38),u=r(64),l=r(24),c=r(34),f="prototype",d="script",h=c("IE_PROTO"),p=function(){},v=function(e){return"<script>"+e+"</"+d+">"},y=function(){try{n=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;y=n?function(e){e.write(v("")),e.close();var t=e.parentWindow.Object;return e=null,t}(n):((t=l("iframe")).style.display="none",u.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(v("document.F=Object")),e.close(),e.F);for(var r=o.length;r--;)delete y[f][o[r]];return y()};s[h]=!0,e.exports=Object.create||function(e,t){var r;return null!==e?(p[f]=a(e),r=new p,p[f]=null,r[h]=e):r=y(),void 0===t?r:i(r,t)}},function(e,t,r){var n=r(12),o=r(26),s=r(27),u=r(63);e.exports=n?Object.defineProperties:function(e,t){s(e);for(var r,n=u(t),a=n.length,i=0;i<a;)o.f(e,r=n[i++],t[r]);return e}},function(e,t,r){var n=r(44),a=r(49);e.exports=Object.keys||function(e){return n(e,a)}},function(e,t,r){var n=r(41);e.exports=n("document","documentElement")},function(e){e.exports={}},function(e,t,r){var g=r(9),m=r(67),b=r(69),_=r(73),A=r(72),S=r(25),w=r(28),n=r(55),k=r(36),x=r(65),a=r(68),C=a.IteratorPrototype,P=a.BUGGY_SAFARI_ITERATORS,T=n("iterator"),R="values",E="entries",O=function(){return this};e.exports=function(e,t,r,n,a,i,o){m(r,t,n);var s,u,l,c=function(e){if(e===a&&v)return v;if(!P&&e in h)return h[e];switch(e){case"keys":case R:case E:return function(){return new r(this,e)}}return function(){return new r(this)}},f=t+" Iterator",d=!1,h=e.prototype,p=h[T]||h["@@iterator"]||a&&h[a],v=!P&&p||c(a),y="Array"==t&&h.entries||p;if(y&&(s=b(y.call(new e)),C!==Object.prototype&&s.next&&(k||b(s)===C||(_?_(s,C):"function"!=typeof s[T]&&S(s,T,O)),A(s,f,!0,!0),k&&(x[f]=O))),a==R&&p&&p.name!==R&&(d=!0,v=function(){return p.call(this)}),k&&!o||h[T]===v||S(h,T,v),x[t]=v,a)if(u={values:c(R),keys:i?v:c("keys"),entries:c(E)},o)for(l in u)!P&&!d&&l in h||w(h,l,u[l]);else g({target:t,proto:!0,forced:P||d},u);return u}},function(e,t,r){var a=r(68).IteratorPrototype,i=r(61),o=r(15),s=r(72),u=r(65),l=function(){return this};e.exports=function(e,t,r){var n=t+" Iterator";return e.prototype=i(a,{next:o(1,r)}),s(e,n,!1,!0),u[n]=l,e}},function(e,t,r){var n,a,i,o=r(13),s=r(69),u=r(25),l=r(22),c=r(55),f=r(36),d=c("iterator"),h=!1;[].keys&&("next"in(i=[].keys())?(a=s(s(i)))!==Object.prototype&&(n=a):h=!0);var p=null==n||o(function(){var e={};return n[d].call(e)!==e});p&&(n={}),f&&!p||l(n,d)||u(n,d,function(){return this}),e.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:h}},function(e,t,r){var n=r(22),a=r(70),i=r(34),o=r(71),s=i("IE_PROTO"),u=Object.prototype;e.exports=o?Object.getPrototypeOf:function(e){return e=a(e),n(e,s)?e[s]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?u:null}},function(e,t,r){var n=r(19);e.exports=function(e){return Object(n(e))}},function(e,t,r){var n=r(13);e.exports=!n(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})},function(e,t,r){var n=r(26).f,a=r(22),i=r(55)("toStringTag");e.exports=function(e,t,r){e&&!a(e=r?e:e.prototype,i)&&n(e,i,{configurable:!0,value:t})}},function(e,t,r){var a=r(27),i=r(74);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var r,n=!1,e={};try{(r=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(e,[]),n=e instanceof Array}catch(e){}return function(e,t){return a(e),i(t),n?r.call(e,t):e.__proto__=t,e}}():void 0)},function(e,t,r){var n=r(21);e.exports=function(e){if(!n(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},function(e,t,r){var n=r(9),a=r(76),i=r(84);n({target:"Object",stat:!0},{fromEntries:function(e){var r={};return a(e,function(e,t){i(r,e,t)},{AS_ENTRIES:!0}),r}})},function(e,t,r){var g=r(27),m=r(77),b=r(46),_=r(78),A=r(80),S=r(83),w=function(e,t){this.stopped=e,this.result=t};e.exports=function(e,t,r){var n,a,i,o,s,u,l,c=r&&r.that,f=!(!r||!r.AS_ENTRIES),d=!(!r||!r.IS_ITERATOR),h=!(!r||!r.INTERRUPTED),p=_(t,c,1+f+h),v=function(e){return n&&S(n),new w(!0,e)},y=function(e){return f?(g(e),h?p(e[0],e[1],v):p(e[0],e[1])):h?p(e,v):p(e)};if(d)n=e;else{if("function"!=typeof(a=A(e)))throw TypeError("Target is not iterable");if(m(a)){for(i=0,o=b(e.length);i<o;i++)if((s=y(e[i]))&&s instanceof w)return s;return new w(!1)}n=a.call(e)}for(u=n.next;!(l=u.call(n)).done;){try{s=y(l.value)}catch(e){throw S(n),e}if("object"==_typeof2(s)&&s&&s instanceof w)return s}return new w(!1)}},function(e,t,r){var n=r(55),a=r(65),i=n("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(a.Array===e||o[i]===e)}},function(e,t,r){var i=r(79);e.exports=function(n,a,e){if(i(n),void 0===a)return n;switch(e){case 0:return function(){return n.call(a)};case 1:return function(e){return n.call(a,e)};case 2:return function(e,t){return n.call(a,e,t)};case 3:return function(e,t,r){return n.call(a,e,t,r)}}return function(){return n.apply(a,arguments)}}},function(e){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},function(e,t,r){var n=r(81),a=r(65),i=r(55)("iterator");e.exports=function(e){if(null!=e)return e[i]||e["@@iterator"]||a[n(e)]}},function(e,t,r){var n=r(82),a=r(18),i=r(55)("toStringTag"),o="Arguments"==a(function(){return arguments}());e.exports=n?a:function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?r:o?a(t):"Object"==(n=a(t))&&"function"==typeof t.callee?"Arguments":n}},function(e,t,r){var n={};n[r(55)("toStringTag")]="z",e.exports="[object z]"===String(n)},function(e,t,r){var n=r(27);e.exports=function(e){var t=e.return;if(void 0!==t)return n(t.call(e)).value}},function(e,t,r){var a=r(20),i=r(26),o=r(15);e.exports=function(e,t,r){var n=a(t);n in e?i.f(e,n,o(0,r)):e[n]=r}},function(e,t,r){r(86),r(87),r(89),r(104),r(105),r(106),r(107),r(109);var n=r(42);e.exports=n.Promise},function(e,t,r){var n=r(9),a=r(69),i=r(73),o=r(61),s=r(25),u=r(15),l=r(76),c=function(e,t){var r=this;if(!(r instanceof c))return new c(e,t);i&&(r=i(new Error(void 0),a(r))),void 0!==t&&s(r,"message",String(t));var n=[];return l(e,n.push,{that:n}),s(r,"errors",n),r};c.prototype=o(Error.prototype,{constructor:u(5,c),message:u(5,""),name:u(5,"AggregateError")}),n({global:!0},{AggregateError:c})},function(e,t,r){var n=r(82),a=r(28),i=r(88);n||a(Object.prototype,"toString",i,{unsafe:!0})},function(e,t,r){var n=r(82),a=r(81);e.exports=n?{}.toString:function(){return"[object "+a(this)+"]"}},function(e,t,r){var n,a,i,o,s=r(9),u=r(36),l=r(10),c=r(41),f=r(90),d=r(28),h=r(91),p=r(72),v=r(92),y=r(21),g=r(79),m=r(93),b=r(30),_=r(76),A=r(94),S=r(95),w=r(96).set,k=r(98),x=r(100),C=r(102),P=r(101),T=r(103),R=r(32),E=r(51),O=r(55),F=r(57),L=r(58),M=O("species"),I="Promise",j=R.get,D=R.set,N=R.getterFor(I),q=f,W=l.TypeError,U=l.document,B=l.process,G=c("fetch"),z=P.f,H=z,V=!!(U&&U.createEvent&&l.dispatchEvent),Y="function"==typeof PromiseRejectionEvent,X="unhandledrejection",Q=E(I,function(){if(!(b(q)!==String(q))){if(66===L)return!0;if(!F&&!Y)return!0}if(u&&!q.prototype.finally)return!0;if(51<=L&&/native code/.test(q))return!1;var e=q.resolve(1),t=function(e){e(function(){},function(){})};return(e.constructor={})[M]=t,!(e.then(function(){})instanceof t)}),K=Q||!A(function(e){q.all(e).catch(function(){})}),J=function(e){var t;return!(!y(e)||"function"!=typeof(t=e.then))&&t},$=function(f,d){if(!f.notified){f.notified=!0;var h=f.reactions;k(function(){for(var e=f.value,t=1==f.state,r=0;h.length>r;){var n,a,i,o=h[r++],s=t?o.ok:o.fail,u=o.resolve,l=o.reject,c=o.domain;try{s?(t||(2===f.rejection&&re(f),f.rejection=1),!0===s?n=e:(c&&c.enter(),n=s(e),c&&(c.exit(),i=!0)),n===o.promise?l(W("Promise-chain cycle")):(a=J(n))?a.call(n,u,l):u(n)):l(e)}catch(e){c&&!i&&c.exit(),l(e)}}f.reactions=[],f.notified=!1,d&&!f.rejection&&ee(f)})}},Z=function(e,t,r){var n,a;V?((n=U.createEvent("Event")).promise=t,n.reason=r,n.initEvent(e,!1,!0),l.dispatchEvent(n)):n={promise:t,reason:r},!Y&&(a=l["on"+e])?a(n):e===X&&C("Unhandled promise rejection",r)},ee=function(n){w.call(l,function(){var e,t=n.facade,r=n.value;if(te(n)&&(e=T(function(){F?B.emit("unhandledRejection",r,t):Z(X,t,r)}),n.rejection=F||te(n)?2:1,e.error))throw e.value})},te=function(e){return 1!==e.rejection&&!e.parent},re=function(t){w.call(l,function(){var e=t.facade;F?B.emit("rejectionHandled",e):Z("rejectionhandled",e,t.value)})},ne=function(t,r,n){return function(e){t(r,e,n)}},ae=function(e,t,r){e.done||(e.done=!0,r&&(e=r),e.value=t,e.state=2,$(e,!0))},ie=function e(r,n,t){if(!r.done){r.done=!0,t&&(r=t);try{if(r.facade===n)throw W("Promise can't be resolved itself");var a=J(n);a?k(function(){var t={done:!1};try{a.call(n,ne(e,t,r),ne(ae,t,r))}catch(e){ae(t,e,r)}}):(r.value=n,r.state=1,$(r,!1))}catch(e){ae({done:!1},e,r)}}};Q&&(q=function(e){m(this,q,I),g(e),n.call(this);var t=j(this);try{e(ne(ie,t),ne(ae,t))}catch(e){ae(t,e)}},(n=function(e){D(this,{type:I,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=h(q.prototype,{then:function(e,t){var r=N(this),n=z(S(this,q));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=F?B.domain:void 0,r.parent=!0,r.reactions.push(n),0!=r.state&&$(r,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),a=function(){var e=new n,t=j(e);this.promise=e,this.resolve=ne(ie,t),this.reject=ne(ae,t)},P.f=z=function(e){return e===q||e===i?new a(e):H(e)},u||"function"!=typeof f||(o=f.prototype.then,d(f.prototype,"then",function(e,t){var r=this;return new q(function(e,t){o.call(r,e,t)}).then(e,t)},{unsafe:!0}),"function"==typeof G&&s({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return x(q,G.apply(l,arguments))}}))),s({global:!0,wrap:!0,forced:Q},{Promise:q}),p(q,I,!1,!0),v(I),i=c(I),s({target:I,stat:!0,forced:Q},{reject:function(e){var t=z(this);return t.reject.call(void 0,e),t.promise}}),s({target:I,stat:!0,forced:u||Q},{resolve:function(e){return x(u&&this===i?q:this,e)}}),s({target:I,stat:!0,forced:K},{all:function(e){var s=this,t=z(s),u=t.resolve,l=t.reject,r=T(function(){var n=g(s.resolve),a=[],i=0,o=1;_(e,function(e){var t=i++,r=!1;a.push(void 0),o++,n.call(s,e).then(function(e){r||(r=!0,a[t]=e,--o||u(a))},l)}),--o||u(a)});return r.error&&l(r.value),t.promise},race:function(e){var r=this,n=z(r),a=n.reject,t=T(function(){var t=g(r.resolve);_(e,function(e){t.call(r,e).then(n.resolve,a)})});return t.error&&a(t.value),n.promise}})},function(e,t,r){var n=r(10);e.exports=n.Promise},function(e,t,r){var a=r(28);e.exports=function(e,t,r){for(var n in t)a(e,n,t[n],r);return e}},function(e,t,r){var n=r(41),a=r(26),i=r(55),o=r(12),s=i("species");e.exports=function(e){var t=n(e),r=a.f;o&&t&&!t[s]&&r(t,s,{configurable:!0,get:function(){return this}})}},function(e){e.exports=function(e,t,r){if(!(e instanceof t))throw TypeError("Incorrect "+(r?r+" ":"")+"invocation");return e}},function(e,t,r){var a=r(55)("iterator"),i=!1;try{var n=0,o={next:function(){return{done:!!n++}},return:function(){i=!0}};o[a]=function(){return this},Array.from(o,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var r=!1;try{var n={};n[a]=function(){return{next:function(){return{done:r=!0}}}},e(n)}catch(e){}return r}},function(e,t,r){var a=r(27),i=r(79),o=r(55)("species");e.exports=function(e,t){var r,n=a(e).constructor;return void 0===n||null==(r=a(n)[o])?t:i(r)}},function(e,t,r){var n,a,i,o=r(10),s=r(13),u=r(78),l=r(64),c=r(24),f=r(97),d=r(57),h=o.location,p=o.setImmediate,v=o.clearImmediate,y=o.process,g=o.MessageChannel,m=o.Dispatch,b=0,_={},A="onreadystatechange",S=function(e){if(_.hasOwnProperty(e)){var t=_[e];delete _[e],t()}},w=function(e){return function(){S(e)}},k=function(e){S(e.data)},x=function(e){o.postMessage(e+"",h.protocol+"//"+h.host)};p&&v||(p=function(e){for(var t=[],r=1;arguments.length>r;)t.push(arguments[r++]);return _[++b]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},n(b),b},v=function(e){delete _[e]},d?n=function(e){y.nextTick(w(e))}:m&&m.now?n=function(e){m.now(w(e))}:g&&!f?(i=(a=new g).port2,a.port1.onmessage=k,n=u(i.postMessage,i,1)):o.addEventListener&&"function"==typeof postMessage&&!o.importScripts&&h&&"file:"!==h.protocol&&!s(x)?(n=x,o.addEventListener("message",k,!1)):n=A in c("script")?function(e){l.appendChild(c("script"))[A]=function(){l.removeChild(this),S(e)}}:function(e){setTimeout(w(e),0)}),e.exports={set:p,clear:v}},function(e,t,r){var n=r(59);e.exports=/(iphone|ipod|ipad).*applewebkit/i.test(n)},function(e,t,r){var n,a,i,o,s,u,l,c,f=r(10),d=r(11).f,h=r(96).set,p=r(97),v=r(99),y=r(57),g=f.MutationObserver||f.WebKitMutationObserver,m=f.document,b=f.process,_=f.Promise,A=d(f,"queueMicrotask"),S=A&&A.value;S||(n=function(){var e,t;for(y&&(e=b.domain)&&e.exit();a;){t=a.fn,a=a.next;try{t()}catch(e){throw a?o():i=void 0,e}}i=void 0,e&&e.enter()},o=p||y||v||!g||!m?_&&_.resolve?(l=_.resolve(void 0),c=l.then,function(){c.call(l,n)}):y?function(){b.nextTick(n)}:function(){h.call(f,n)}:(s=!0,u=m.createTextNode(""),new g(n).observe(u,{characterData:!0}),function(){u.data=s=!s})),e.exports=S||function(e){var t={fn:e,next:void 0};i&&(i.next=t),a||(a=t,o()),i=t}},function(e,t,r){var n=r(59);e.exports=/web0s(?!.*chrome)/i.test(n)},function(e,t,r){var n=r(27),a=r(21),i=r(101);e.exports=function(e,t){if(n(e),a(t)&&t.constructor===e)return t;var r=i.f(e);return(0,r.resolve)(t),r.promise}},function(e,t,r){var a=r(79),n=function(e){var r,n;this.promise=new e(function(e,t){if(void 0!==r||void 0!==n)throw TypeError("Bad Promise constructor");r=e,n=t}),this.resolve=a(r),this.reject=a(n)};e.exports.f=function(e){return new n(e)}},function(e,t,r){var n=r(10);e.exports=function(e,t){var r=n.console;r&&r.error&&(1===arguments.length?r.error(e):r.error(e,t))}},function(e){e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},function(e,t,r){var n=r(9),l=r(79),a=r(101),i=r(103),c=r(76);n({target:"Promise",stat:!0},{allSettled:function(e){var s=this,t=a.f(s),u=t.resolve,r=t.reject,n=i(function(){var n=l(s.resolve),a=[],i=0,o=1;c(e,function(e){var t=i++,r=!1;a.push(void 0),o++,n.call(s,e).then(function(e){r||(r=!0,a[t]={status:"fulfilled",value:e},--o||u(a))},function(e){r||(r=!0,a[t]={status:"rejected",reason:e},--o||u(a))})}),--o||u(a)});return n.error&&r(n.value),t.promise}})},function(e,t,r){var n=r(9),f=r(79),d=r(41),a=r(101),i=r(103),h=r(76),p="No one promise resolved";n({target:"Promise",stat:!0},{any:function(e){var u=this,t=a.f(u),l=t.resolve,c=t.reject,r=i(function(){var n=f(u.resolve),a=[],i=0,o=1,s=!1;h(e,function(e){var t=i++,r=!1;a.push(void 0),o++,n.call(u,e).then(function(e){r||s||(s=!0,l(e))},function(e){r||s||(r=!0,a[t]=e,--o||c(new(d("AggregateError"))(a,p)))})}),--o||c(new(d("AggregateError"))(a,p))});return r.error&&c(r.value),t.promise}})},function(e,t,r){var n=r(9),a=r(36),i=r(90),o=r(13),s=r(41),u=r(95),l=r(100),c=r(28);n({target:"Promise",proto:!0,real:!0,forced:!!i&&o(function(){i.prototype.finally.call({then:function(){}},function(){})})},{finally:function(t){var r=u(this,s("Promise")),e="function"==typeof t;return this.then(e?function(e){return l(r,t()).then(function(){return e})}:t,e?function(e){return l(r,t()).then(function(){throw e})}:t)}}),a||"function"!=typeof i||i.prototype.finally||c(i.prototype,"finally",s("Promise").prototype.finally)},function(e,t,r){var a=r(108).charAt,n=r(32),i=r(66),o="String Iterator",s=n.set,u=n.getterFor(o);i(String,"String",function(e){s(this,{type:o,string:String(e),index:0})},function(){var e,t=u(this),r=t.string,n=t.index;return n>=r.length?{value:void 0,done:!0}:(e=a(r,n),t.index+=e.length,{value:e,done:!1})})},function(e,t,r){var u=r(47),l=r(19),n=function(s){return function(e,t){var r,n,a=String(l(e)),i=u(t),o=a.length;return i<0||o<=i?s?"":void 0:(r=a.charCodeAt(i))<55296||56319<r||i+1===o||(n=a.charCodeAt(i+1))<56320||57343<n?s?a.charAt(i):r:s?a.slice(i,i+2):n-56320+(r-55296<<10)+65536}};e.exports={codeAt:n(!1),charAt:n(!0)}},function(e,t,r){var n=r(10),a=r(110),i=r(53),o=r(25),s=r(55),u=s("iterator"),l=s("toStringTag"),c=i.values;for(var f in a){var d=n[f],h=d&&d.prototype;if(h){if(h[u]!==c)try{o(h,u,c)}catch(e){h[u]=c}if(h[l]||o(h,l,f),a[f])for(var p in i)if(h[p]!==i[p])try{o(h,p,i[p])}catch(e){h[p]=i[p]}}}},function(e){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(e,t){!function(e){var t="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?Symbol:function(e){return"Symbol("+e+")"};function w(){}var r="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:void 0;function n(e){return"object"===_typeof2(e)&&null!==e||"function"==typeof e}var a=w,i=Promise,o=Promise.prototype.then,s=Promise.resolve.bind(i),u=Promise.reject.bind(i);function k(e){return new i(e)}function x(e){return s(e)}function C(e){return u(e)}function P(e,t,r){return o.call(e,t,r)}function T(e,t,r){P(P(e,t,r),void 0,a)}function R(e,t){T(e,t)}function E(e,t){T(e,void 0,t)}function A(e,t,r){return P(e,t,r)}function O(e){P(e,void 0,a)}var y=function(){var e=r&&r.queueMicrotask;if("function"==typeof e)return e;var t=x(void 0);return function(e){return P(t,e)}}();function b(e,t,r){if("function"!=typeof e)throw new TypeError("Argument is not a function");return Function.prototype.apply.call(e,t,r)}function _(e,t,r){try{return x(b(e,t,r))}catch(e){return C(e)}}var v=function(){function e(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}return Object.defineProperty(e.prototype,"length",{get:function(){return this._size},enumerable:!1,configurable:!0}),e.prototype.push=function(e){var t=this._back,r=t;16383===t._elements.length&&(r={_elements:[],_next:void 0}),t._elements.push(e),r!==t&&(this._back=r,t._next=r),++this._size},e.prototype.shift=function(){var e=this._front,t=e,r=this._cursor,n=r+1,a=e._elements,i=a[r];return 16384===n&&(t=e._next,n=0),--this._size,this._cursor=n,e!==t&&(this._front=t),a[r]=void 0,i},e.prototype.forEach=function(e){for(var t=this._cursor,r=this._front,n=r._elements;!(t===n.length&&void 0===r._next||t===n.length&&(r=r._next,n=r._elements,(t=0)===n.length));)e(n[t]),++t},e.prototype.peek=function(){var e=this._front,t=this._cursor;return e._elements[t]},e}();function l(e,t){var r;(e._ownerReadableStream=t)._reader=e,"readable"===t._state?d(e):"closed"===t._state?(d(r=e),g(r)):h(e,t._storedError)}function c(e,t){var r=e._ownerReadableStream;return nr(r,t)}function F(e){var t,r;"readable"===e._ownerReadableStream._state?p(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):(t=e,r=new TypeError("Reader was released and can no longer be used to monitor the stream's closedness"),h(t,r)),e._ownerReadableStream._reader=void 0,e._ownerReadableStream=void 0}function f(e){return new TypeError("Cannot "+e+" a stream using a released reader")}function d(r){r._closedPromise=k(function(e,t){r._closedPromise_resolve=e,r._closedPromise_reject=t})}function h(e,t){d(e),p(e,t)}function p(e,t){void 0!==e._closedPromise_reject&&(O(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}function g(e){void 0!==e._closedPromise_resolve&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}var m=t("[[AbortSteps]]"),S=t("[[ErrorSteps]]"),L=t("[[CancelSteps]]"),M=t("[[PullSteps]]"),I=Number.isFinite||function(e){return"number"==typeof e&&isFinite(e)},j=Math.trunc||function(e){return e<0?Math.ceil(e):Math.floor(e)};function D(e,t){if(void 0!==e&&"object"!==_typeof2(r=e)&&"function"!=typeof r)throw new TypeError(t+" is not an object.");var r}function N(e,t){if("function"!=typeof e)throw new TypeError(t+" is not a function.")}function q(e,t){if(("object"!==_typeof2(r=e)||null===r)&&"function"!=typeof r)throw new TypeError(t+" is not an object.");var r}function W(e,t,r){if(void 0===e)throw new TypeError("Parameter "+t+" is required in '"+r+"'.")}function U(e,t,r){if(void 0===e)throw new TypeError(t+" is required in '"+r+"'.")}function B(e){return Number(e)}function G(e){return 0===e?0:e}function z(e,t){var r=Number.MAX_SAFE_INTEGER,n=Number(e);if(n=G(n),!I(n))throw new TypeError(t+" is not a finite number");if((n=G(j(n)))<0||r<n)throw new TypeError(t+" is outside the accepted range of 0 to "+r+", inclusive");return I(n)&&0!==n?n:0}function H(e,t){if(!tr(e))throw new TypeError(t+" is not a ReadableStream.")}function V(e){return new Z(e)}function Y(e,t){e._reader._readRequests.push(t)}function X(e,t,r){var n=e._reader,a=n._readRequests.shift();r?a._closeSteps():a._chunkSteps(t)}function Q(e){return e._reader._readRequests.length}function K(e){var t=e._reader;return void 0!==t&&!!ee(t)}var J,$,Z=function(){function e(e){if(W(e,1,"ReadableStreamDefaultReader"),H(e,"First parameter"),rr(e))throw new TypeError("This stream has already been locked for exclusive reading by another reader");l(this,e),this._readRequests=new v}return Object.defineProperty(e.prototype,"closed",{get:function(){return ee(this)?this._closedPromise:C(re("closed"))},enumerable:!1,configurable:!0}),e.prototype.cancel=function(e){return void 0===e&&(e=void 0),ee(this)?void 0===this._ownerReadableStream?C(f("cancel")):c(this,e):C(re("cancel"))},e.prototype.read=function(){if(!ee(this))return C(re("read"));if(void 0===this._ownerReadableStream)return C(f("read from"));var r,n,e=k(function(e,t){r=e,n=t}),t={_chunkSteps:function(e){return r({value:e,done:!1})},_closeSteps:function(){return r({value:void 0,done:!0})},_errorSteps:function(e){return n(e)}};return te(this,t),e},e.prototype.releaseLock=function(){if(!ee(this))throw re("releaseLock");if(void 0!==this._ownerReadableStream){if(0<this._readRequests.length)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");F(this)}},e}();function ee(e){return!!n(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readRequests")}function te(e,t){var r=e._ownerReadableStream;r._disturbed=!0,"closed"===r._state?t._closeSteps():"errored"===r._state?t._errorSteps(r._storedError):r._readableStreamController[M](t)}function re(e){return new TypeError("ReadableStreamDefaultReader.prototype."+e+" can only be used on a ReadableStreamDefaultReader")}Object.defineProperties(Z.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),"symbol"===_typeof2(t.toStringTag)&&Object.defineProperty(Z.prototype,t.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0}),"symbol"===_typeof2(t.asyncIterator)&&((J={})[t.asyncIterator]=function(){return this},$=J,Object.defineProperty($,t.asyncIterator,{enumerable:!1}));var ne=function(){function e(e,t){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=e,this._preventCancel=t}return e.prototype.next=function(){var e=this,t=function(){return e._nextSteps()};return this._ongoingPromise=this._ongoingPromise?A(this._ongoingPromise,t,t):t(),this._ongoingPromise},e.prototype.return=function(e){var t=this,r=function(){return t._returnSteps(e)};return this._ongoingPromise?A(this._ongoingPromise,r,r):r()},e.prototype._nextSteps=function(){var t=this;if(this._isFinished)return Promise.resolve({value:void 0,done:!0});var r,n,a=this._reader;if(void 0===a._ownerReadableStream)return C(f("iterate"));var e=k(function(e,t){r=e,n=t}),i={_chunkSteps:function(e){t._ongoingPromise=void 0,y(function(){return r({value:e,done:!1})})},_closeSteps:function(){t._ongoingPromise=void 0,t._isFinished=!0,F(a),r({value:void 0,done:!0})},_errorSteps:function(e){t._ongoingPromise=void 0,t._isFinished=!0,F(a),n(e)}};return te(a,i),e},e.prototype._returnSteps=function(e){if(this._isFinished)return Promise.resolve({value:e,done:!0});this._isFinished=!0;var t=this._reader;if(void 0===t._ownerReadableStream)return C(f("finish iterating"));if(this._preventCancel)return F(t),x({value:e,done:!0});var r=c(t,e);return F(t),A(r,function(){return{value:e,done:!0}})},e}(),ae={next:function(){return ie(this)?this._asyncIteratorImpl.next():C(oe("next"))},return:function(e){return ie(this)?this._asyncIteratorImpl.return(e):C(oe("return"))}};function ie(e){return!!n(e)&&!!Object.prototype.hasOwnProperty.call(e,"_asyncIteratorImpl")}function oe(e){return new TypeError("ReadableStreamAsyncIterator."+e+" can only be used on a ReadableSteamAsyncIterator")}void 0!==$&&Object.setPrototypeOf(ae,$);var se=Number.isNaN||function(e){return e!=e};function ue(e){return!("number"!=typeof(t=e)||se(t)||t<0)&&e!==1/0;var t}function le(e){var t=e._queue.shift();return e._queueTotalSize-=t.size,e._queueTotalSize<0&&(e._queueTotalSize=0),t.value}function ce(e,t,r){if(!ue(r=Number(r)))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");e._queue.push({value:t,size:r}),e._queueTotalSize+=r}function fe(e){e._queue=new v,e._queueTotalSize=0}function de(e){return e.slice()}function he(e){return e}var pe=function(){function e(){throw new TypeError("Illegal constructor")}return Object.defineProperty(e.prototype,"view",{get:function(){if(!ge(this))throw Le("view");return this._view},enumerable:!1,configurable:!0}),e.prototype.respond=function(e){if(!ge(this))throw Le("respond");if(W(e,1,"respond"),e=z(e,"First parameter"),void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");this._view.buffer,function(e,t){if(!ue(t=Number(t)))throw new RangeError("bytesWritten must be a finite");Pe(e,t)}(this._associatedReadableByteStreamController,e)},e.prototype.respondWithNewView=function(e){if(!ge(this))throw Le("respondWithNewView");if(W(e,1,"respondWithNewView"),!ArrayBuffer.isView(e))throw new TypeError("You can only respond with array buffer views");if(0===e.byteLength)throw new TypeError("chunk must have non-zero byteLength");if(0===e.buffer.byteLength)throw new TypeError("chunk's buffer must have non-zero byteLength");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");!function(e,t){var r=e._pendingPullIntos.peek();if(r.byteOffset+r.bytesFilled!==t.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(r.byteLength!==t.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");r.buffer=t.buffer,Pe(e,t.byteLength)}(this._associatedReadableByteStreamController,e)},e}();Object.defineProperties(pe.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),"symbol"===_typeof2(t.toStringTag)&&Object.defineProperty(pe.prototype,t.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});var ve=function(){function e(){throw new TypeError("Illegal constructor")}return Object.defineProperty(e.prototype,"byobRequest",{get:function(){if(!ye(this))throw Me("byobRequest");if(null===this._byobRequest&&0<this._pendingPullIntos.length){var e=this._pendingPullIntos.peek(),t=new Uint8Array(e.buffer,e.byteOffset+e.bytesFilled,e.byteLength-e.bytesFilled),r=Object.create(pe.prototype);a=this,i=t,(n=r)._associatedReadableByteStreamController=a,n._view=i,this._byobRequest=r}var n,a,i;return this._byobRequest},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"desiredSize",{get:function(){if(!ye(this))throw Me("desiredSize");return Oe(this)},enumerable:!1,configurable:!0}),e.prototype.close=function(){if(!ye(this))throw Me("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");var e=this._controlledReadableByteStream._state;if("readable"!==e)throw new TypeError("The stream (in "+e+" state) is not in the readable state and cannot be closed");!function(e){var t=e._controlledReadableByteStream;if(!e._closeRequested&&"readable"===t._state){if(0<e._queueTotalSize)return e._closeRequested=!0;if(0<e._pendingPullIntos.length){var r=e._pendingPullIntos.peek();if(0<r.bytesFilled){var n=new TypeError("Insufficient bytes to fill elements in the given buffer");throw Ee(e,n),n}}Re(e),ar(t)}}(this)},e.prototype.enqueue=function(e){if(!ye(this))throw Me("enqueue");if(W(e,1,"enqueue"),!ArrayBuffer.isView(e))throw new TypeError("chunk must be an array buffer view");if(0===e.byteLength)throw new TypeError("chunk must have non-zero byteLength");if(0===e.buffer.byteLength)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");var t=this._controlledReadableByteStream._state;if("readable"!==t)throw new TypeError("The stream (in "+t+" state) is not in the readable state and cannot be enqueued to");!function(e,t){var r=e._controlledReadableByteStream;if(!e._closeRequested&&"readable"===r._state){var n=t.buffer,a=t.byteOffset,i=t.byteLength,o=he(n);if(K(r))if(0===Q(r))Ae(e,o,a,i);else{var s=new Uint8Array(o,a,i);X(r,s,!1)}else De(r)?(Ae(e,o,a,i),Ce(e)):Ae(e,o,a,i);me(e)}}(this,e)},e.prototype.error=function(e){if(void 0===e&&(e=void 0),!ye(this))throw Me("error");Ee(this,e)},e.prototype[L]=function(e){if(0<this._pendingPullIntos.length){var t=this._pendingPullIntos.peek();t.bytesFilled=0}fe(this);var r=this._cancelAlgorithm(e);return Re(this),r},e.prototype[M]=function(t){var e=this._controlledReadableByteStream;if(0<this._queueTotalSize){var r=this._queue.shift();this._queueTotalSize-=r.byteLength,ke(this);var n=new Uint8Array(r.buffer,r.byteOffset,r.byteLength);t._chunkSteps(n)}else{var a=this._autoAllocateChunkSize;if(void 0!==a){var i=void 0;try{i=new ArrayBuffer(a)}catch(e){return void t._errorSteps(e)}var o={buffer:i,byteOffset:0,byteLength:a,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(o)}Y(e,t),me(this)}},e}();function ye(e){return!!n(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledReadableByteStream")}function ge(e){return!!n(e)&&!!Object.prototype.hasOwnProperty.call(e,"_associatedReadableByteStreamController")}function me(t){var e,r,n="readable"===(r=(e=t)._controlledReadableByteStream)._state&&!e._closeRequested&&!!e._started&&(!!(K(r)&&0<Q(r))||!!(De(r)&&0<je(r))||0<Oe(e));if(n)if(t._pulling)t._pullAgain=!0;else{t._pulling=!0;var a=t._pullAlgorithm();T(a,function(){t._pulling=!1,t._pullAgain&&(t._pullAgain=!1,me(t))},function(e){Ee(t,e)})}}function be(e,t){var r=!1;"closed"===e._state&&(r=!0);var n,a,i,o=_e(t);"default"===t.readerType?X(e,o,r):(n=o,a=r,i=e._reader._readIntoRequests.shift(),a?i._closeSteps(n):i._chunkSteps(n))}function _e(e){var t=e.bytesFilled,r=e.elementSize;return new e.viewConstructor(e.buffer,e.byteOffset,t/r)}function Ae(e,t,r,n){e._queue.push({buffer:t,byteOffset:r,byteLength:n}),e._queueTotalSize+=n}function Se(e,t){var r=t.elementSize,n=t.bytesFilled-t.bytesFilled%r,a=Math.min(e._queueTotalSize,t.byteLength-t.bytesFilled),i=t.bytesFilled+a,o=i-i%r,s=a,u=!1;n<o&&(s=o-t.bytesFilled,u=!0);for(var l,c,f,d,h,p=e._queue;0<s;){var v=p.peek(),y=Math.min(s,v.byteLength),g=t.byteOffset+t.bytesFilled;l=t.buffer,c=g,f=v.buffer,d=v.byteOffset,h=y,new Uint8Array(l).set(new Uint8Array(f,d,h),c),v.byteLength===y?p.shift():(v.byteOffset+=y,v.byteLength-=y),e._queueTotalSize-=y,we(e,y,t),s-=y}return u}function we(e,t,r){xe(e),r.bytesFilled+=t}function ke(e){0===e._queueTotalSize&&e._closeRequested?(Re(e),ar(e._controlledReadableByteStream)):me(e)}function xe(e){null!==e._byobRequest&&(e._byobRequest._associatedReadableByteStreamController=void 0,e._byobRequest._view=null,e._byobRequest=null)}function Ce(e){for(;0<e._pendingPullIntos.length;){if(0===e._queueTotalSize)return;var t=e._pendingPullIntos.peek();Se(e,t)&&(Te(e),be(e._controlledReadableByteStream,t))}}function Pe(e,t){var r=e._pendingPullIntos.peek(),n=e._controlledReadableByteStream._state;if("closed"===n){if(0!==t)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream");!function(e,t){t.buffer=he(t.buffer);var r=e._controlledReadableByteStream;if(De(r))for(;0<je(r);){var n=Te(e);be(r,n)}}(e,r)}else!function(e,t,r){if(r.bytesFilled+t>r.byteLength)throw new RangeError("bytesWritten out of range");if(we(e,t,r),!(r.bytesFilled<r.elementSize)){Te(e);var n=r.bytesFilled%r.elementSize;if(0<n){var a=r.byteOffset+r.bytesFilled,i=r.buffer.slice(a-n,a);Ae(e,i,0,i.byteLength)}r.buffer=he(r.buffer),r.bytesFilled-=n,be(e._controlledReadableByteStream,r),Ce(e)}}(e,t,r);me(e)}function Te(e){var t=e._pendingPullIntos.shift();return xe(e),t}function Re(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0}function Ee(e,t){var r,n=e._controlledReadableByteStream;"readable"===n._state&&(xe(r=e),r._pendingPullIntos=new v,fe(e),Re(e),ir(n,t))}function Oe(e){var t=e._controlledReadableByteStream._state;return"errored"===t?null:"closed"===t?0:e._strategyHWM-e._queueTotalSize}function Fe(e,t,r){var n=Object.create(ve.prototype),a=function(){},i=function(){return x(void 0)},o=function(){return x(void 0)};void 0!==t.start&&(a=function(){return t.start(n)}),void 0!==t.pull&&(i=function(){return t.pull(n)}),void 0!==t.cancel&&(o=function(e){return t.cancel(e)});var s,u,l,c,f,d,h,p=t.autoAllocateChunkSize;if(0===p)throw new TypeError("autoAllocateChunkSize must be greater than 0");s=e,l=a,c=i,f=o,d=r,h=p,(u=n)._controlledReadableByteStream=s,u._pullAgain=!1,u._pulling=!1,u._byobRequest=null,u._queue=u._queueTotalSize=void 0,fe(u),u._closeRequested=!1,u._started=!1,u._strategyHWM=d,u._pullAlgorithm=c,u._cancelAlgorithm=f,u._autoAllocateChunkSize=h,u._pendingPullIntos=new v,s._readableStreamController=u,T(x(l()),function(){u._started=!0,me(u)},function(e){Ee(u,e)})}function Le(e){return new TypeError("ReadableStreamBYOBRequest.prototype."+e+" can only be used on a ReadableStreamBYOBRequest")}function Me(e){return new TypeError("ReadableByteStreamController.prototype."+e+" can only be used on a ReadableByteStreamController")}function Ie(e,t){e._reader._readIntoRequests.push(t)}function je(e){return e._reader._readIntoRequests.length}function De(e){var t=e._reader;return void 0!==t&&!!qe(t)}Object.defineProperties(ve.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"===_typeof2(t.toStringTag)&&Object.defineProperty(ve.prototype,t.toStringTag,{value:"ReadableByteStreamController",configurable:!0});var Ne=function(){function e(e){if(W(e,1,"ReadableStreamBYOBReader"),H(e,"First parameter"),rr(e))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!ye(e._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");l(this,e),this._readIntoRequests=new v}return Object.defineProperty(e.prototype,"closed",{get:function(){return qe(this)?this._closedPromise:C(We("closed"))},enumerable:!1,configurable:!0}),e.prototype.cancel=function(e){return void 0===e&&(e=void 0),qe(this)?void 0===this._ownerReadableStream?C(f("cancel")):c(this,e):C(We("cancel"))},e.prototype.read=function(e){if(!qe(this))return C(We("read"));if(!ArrayBuffer.isView(e))return C(new TypeError("view must be an array buffer view"));if(0===e.byteLength)return C(new TypeError("view must have non-zero byteLength"));if(0===e.buffer.byteLength)return C(new TypeError("view's buffer must have non-zero byteLength"));if(void 0===this._ownerReadableStream)return C(f("read from"));var r,n,t,a,i,o=k(function(e,t){r=e,n=t}),s={_chunkSteps:function(e){return r({value:e,done:!1})},_closeSteps:function(e){return r({value:e,done:!0})},_errorSteps:function(e){return n(e)}};return t=e,a=s,(i=this._ownerReadableStream)._disturbed=!0,"errored"===i._state?a._errorSteps(i._storedError):function(e,t,r){var n=e._controlledReadableByteStream,a=1;t.constructor!==DataView&&(a=t.constructor.BYTES_PER_ELEMENT);var i=t.constructor,o={buffer:he(t.buffer),byteOffset:t.byteOffset,byteLength:t.byteLength,bytesFilled:0,elementSize:a,viewConstructor:i,readerType:"byob"};if(0<e._pendingPullIntos.length)return e._pendingPullIntos.push(o),Ie(n,r);if("closed"===n._state){var s=new i(o.buffer,o.byteOffset,0);return r._closeSteps(s)}if(0<e._queueTotalSize){if(Se(e,o)){var u=_e(o);return ke(e),r._chunkSteps(u)}if(e._closeRequested){var l=new TypeError("Insufficient bytes to fill elements in the given buffer");return Ee(e,l),r._errorSteps(l)}}e._pendingPullIntos.push(o),Ie(n,r),me(e)}(i._readableStreamController,t,a),o},e.prototype.releaseLock=function(){if(!qe(this))throw We("releaseLock");if(void 0!==this._ownerReadableStream){if(0<this._readIntoRequests.length)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");F(this)}},e}();function qe(e){return!!n(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readIntoRequests")}function We(e){return new TypeError("ReadableStreamBYOBReader.prototype."+e+" can only be used on a ReadableStreamBYOBReader")}function Ue(e,t){var r=e.highWaterMark;if(void 0===r)return t;if(se(r)||r<0)throw new RangeError("Invalid highWaterMark");return r}function Be(e){var t=e.size;return t||function(){return 1}}function Ge(e,t){D(e,t);var r,n,a=null==e?void 0:e.highWaterMark,i=null==e?void 0:e.size;return{highWaterMark:void 0===a?void 0:B(a),size:void 0===i?void 0:(r=i,n=t+" has member 'size' that",N(r,n),function(e){return B(r(e))})}}function ze(e,t){D(e,t);var r,n,a,i,o,s,u,l,c,f,d,h,p=null==e?void 0:e.abort,v=null==e?void 0:e.close,y=null==e?void 0:e.start,g=null==e?void 0:e.type,m=null==e?void 0:e.write;return{abort:void 0===p?void 0:(f=p,d=e,h=t+" has member 'abort' that",N(f,h),function(e){return _(f,d,[e])}),close:void 0===v?void 0:(u=v,l=e,c=t+" has member 'close' that",N(u,c),function(){return _(u,l,[])}),start:void 0===y?void 0:(i=y,o=e,s=t+" has member 'start' that",N(i,s),function(e){return b(i,o,[e])}),write:void 0===m?void 0:(r=m,n=e,a=t+" has member 'write' that",N(r,a),function(e,t){return _(r,n,[e,t])}),type:g}}function He(e,t){if(!Qe(e))throw new TypeError(t+" is not a WritableStream.")}Object.defineProperties(Ne.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),"symbol"===_typeof2(t.toStringTag)&&Object.defineProperty(Ne.prototype,t.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});var Ve=function(){function e(e,t){void 0===e&&(e={}),void 0===t&&(t={}),void 0===e?e=null:q(e,"First parameter");var r=Ge(t,"Second parameter"),n=ze(e,"First parameter");Xe(this);var a=n.type;if(void 0!==a)throw new RangeError("Invalid type is specified");var i,o,s,u,l,c,f,d,h,p=Be(r),v=Ue(r,1);i=this,o=n,s=v,u=p,l=Object.create(ht.prototype),c=function(){},f=function(){return x(void 0)},d=function(){return x(void 0)},h=function(){return x(void 0)},void 0!==o.start&&(c=function(){return o.start(l)}),void 0!==o.write&&(f=function(e){return o.write(e,l)}),void 0!==o.close&&(d=function(){return o.close()}),void 0!==o.abort&&(h=function(e){return o.abort(e)}),pt(i,l,c,f,d,h,s,u)}return Object.defineProperty(e.prototype,"locked",{get:function(){if(!Qe(this))throw At("locked");return Ke(this)},enumerable:!1,configurable:!0}),e.prototype.abort=function(e){return void 0===e&&(e=void 0),Qe(this)?Ke(this)?C(new TypeError("Cannot abort a stream that already has a writer")):Je(this,e):C(At("abort"))},e.prototype.close=function(){return Qe(this)?Ke(this)?C(new TypeError("Cannot close a stream that already has a writer")):rt(this)?C(new TypeError("Cannot close an already-closing stream")):$e(this):C(At("close"))},e.prototype.getWriter=function(){if(!Qe(this))throw At("getWriter");return Ye(this)},e}();function Ye(e){return new it(e)}function Xe(e){e._state="writable",e._storedError=void 0,e._writer=void 0,e._writableStreamController=void 0,e._writeRequests=new v,e._inFlightWriteRequest=void 0,e._closeRequest=void 0,e._inFlightCloseRequest=void 0,e._pendingAbortRequest=void 0,e._backpressure=!1}function Qe(e){return!!n(e)&&!!Object.prototype.hasOwnProperty.call(e,"_writableStreamController")}function Ke(e){return void 0!==e._writer}function Je(r,n){var e=r._state;if("closed"===e||"errored"===e)return x(void 0);if(void 0!==r._pendingAbortRequest)return r._pendingAbortRequest._promise;var a=!1;"erroring"===e&&(a=!0,n=void 0);var t=k(function(e,t){r._pendingAbortRequest={_promise:void 0,_resolve:e,_reject:t,_reason:n,_wasAlreadyErroring:a}});return r._pendingAbortRequest._promise=t,a||et(r,n),t}function $e(n){var e=n._state;if("closed"===e||"errored"===e)return C(new TypeError("The stream (in "+e+" state) is not in the writable state and cannot be closed"));var t,r=k(function(e,t){var r={_resolve:e,_reject:t};n._closeRequest=r}),a=n._writer;return void 0!==a&&n._backpressure&&"writable"===e&&Ft(a),ce(t=n._writableStreamController,dt,0),gt(t),r}function Ze(e,t){var r=e._state;"writable"!==r?tt(e):et(e,t)}function et(e,t){var r=e._writableStreamController;e._state="erroring",e._storedError=t;var n,a=e._writer;void 0!==a&&lt(a,t),void 0===(n=e)._inFlightWriteRequest&&void 0===n._inFlightCloseRequest&&r._started&&tt(e)}function tt(t){t._state="errored",t._writableStreamController[S]();var r=t._storedError;if(t._writeRequests.forEach(function(e){e._reject(r)}),t._writeRequests=new v,void 0!==t._pendingAbortRequest){var n=t._pendingAbortRequest;if(t._pendingAbortRequest=void 0,n._wasAlreadyErroring)return n._reject(r),void nt(t);var e=t._writableStreamController[m](n._reason);T(e,function(){n._resolve(),nt(t)},function(e){n._reject(e),nt(t)})}else nt(t)}function rt(e){return void 0!==e._closeRequest||void 0!==e._inFlightCloseRequest}function nt(e){void 0!==e._closeRequest&&(e._closeRequest._reject(e._storedError),e._closeRequest=void 0);var t=e._writer;void 0!==t&&Ct(t,e._storedError)}function at(e,t){var r=e._writer;void 0!==r&&t!==e._backpressure&&(t?Tt(r):Ft(r)),e._backpressure=t}Object.defineProperties(Ve.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),"symbol"===_typeof2(t.toStringTag)&&Object.defineProperty(Ve.prototype,t.toStringTag,{value:"WritableStream",configurable:!0});var it=function(){function e(e){if(W(e,1,"WritableStreamDefaultWriter"),He(e,"First parameter"),Ke(e))throw new TypeError("This stream has already been locked for exclusive writing by another writer");(this._ownerWritableStream=e)._writer=this;var t,r=e._state;if("writable"===r)!rt(e)&&e._backpressure?Tt(this):Et(this),kt(this);else if("erroring"===r)Rt(this,e._storedError),kt(this);else if("closed"===r)Et(this),kt(t=this),Pt(t);else{var n=e._storedError;Rt(this,n),xt(this,n)}}return Object.defineProperty(e.prototype,"closed",{get:function(){return ot(this)?this._closedPromise:C(St("closed"))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"desiredSize",{get:function(){if(!ot(this))throw St("desiredSize");if(void 0===this._ownerWritableStream)throw wt("desiredSize");return e=this._ownerWritableStream,"errored"!==(t=e._state)&&"erroring"!==t?"closed"!==t?yt(e._writableStreamController):0:null;var e,t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ready",{get:function(){return ot(this)?this._readyPromise:C(St("ready"))},enumerable:!1,configurable:!0}),e.prototype.abort=function(e){return void 0===e&&(e=void 0),ot(this)?void 0===this._ownerWritableStream?C(wt("abort")):(t=e,Je(this._ownerWritableStream,t)):C(St("abort"));var t},e.prototype.close=function(){if(!ot(this))return C(St("close"));var e=this._ownerWritableStream;return void 0===e?C(wt("close")):rt(e)?C(new TypeError("Cannot close an already-closing stream")):st(this)},e.prototype.releaseLock=function(){if(!ot(this))throw St("releaseLock");var e=this._ownerWritableStream;void 0!==e&&ct(this)},e.prototype.write=function(e){return void 0===e&&(e=void 0),ot(this)?void 0===this._ownerWritableStream?C(wt("write to")):ft(this,e):C(St("write"))},e}();function ot(e){return!!n(e)&&!!Object.prototype.hasOwnProperty.call(e,"_ownerWritableStream")}function st(e){var t=e._ownerWritableStream;return $e(t)}function ut(e,t){"pending"===e._closedPromiseState?Ct(e,t):xt(e,t)}function lt(e,t){"pending"===e._readyPromiseState?Ot(e,t):Rt(e,t)}function ct(e){var t=e._ownerWritableStream,r=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");lt(e,r),ut(e,r),t._writer=void 0,e._ownerWritableStream=void 0}function ft(e,t){var r=e._ownerWritableStream,n=r._writableStreamController,a=function(t,e){try{return t._strategySizeAlgorithm(e)}catch(e){return mt(t,e),1}}(n,t);if(r!==e._ownerWritableStream)return C(wt("write to"));var i=r._state;if("errored"===i)return C(r._storedError);if(rt(r)||"closed"===i)return C(new TypeError("The stream is closing or closed and cannot be written to"));if("erroring"===i)return C(r._storedError);var o,s=(o=r,k(function(e,t){var r={_resolve:e,_reject:t};o._writeRequests.push(r)}));return function(t,e,r){try{ce(t,e,r)}catch(e){return mt(t,e)}var n=t._controlledWritableStream;if(!rt(n)&&"writable"===n._state){var a=bt(t);at(n,a)}gt(t)}(n,t,a),s}Object.defineProperties(it.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),"symbol"===_typeof2(t.toStringTag)&&Object.defineProperty(it.prototype,t.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});var dt={},ht=function(){function e(){throw new TypeError("Illegal constructor")}return e.prototype.error=function(e){if(void 0===e&&(e=void 0),!n(t=this)||!Object.prototype.hasOwnProperty.call(t,"_controlledWritableStream"))throw new TypeError("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");var t,r=this._controlledWritableStream._state;"writable"===r&&_t(this,e)},e.prototype[m]=function(e){var t=this._abortAlgorithm(e);return vt(this),t},e.prototype[S]=function(){fe(this)},e}();function pt(t,r,e,n,a,i,o,s){((r._controlledWritableStream=t)._writableStreamController=r)._queue=void 0,r._queueTotalSize=void 0,fe(r),r._started=!1,r._strategySizeAlgorithm=s,r._strategyHWM=o,r._writeAlgorithm=n,r._closeAlgorithm=a,r._abortAlgorithm=i;var u=bt(r);at(t,u);var l=e(),c=x(l);T(c,function(){r._started=!0,gt(r)},function(e){r._started=!0,Ze(t,e)})}function vt(e){e._writeAlgorithm=void 0,e._closeAlgorithm=void 0,e._abortAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function yt(e){return e._strategyHWM-e._queueTotalSize}function gt(e){var t=e._controlledWritableStream;if(e._started&&void 0===t._inFlightWriteRequest){var r=t._state;if("erroring"!==r){if(0!==e._queue.length){var n,a,i,o,s=e._queue.peek().value;s===dt?function(e){var t,n=e._controlledWritableStream;(t=n)._inFlightCloseRequest=t._closeRequest,t._closeRequest=void 0,le(e);var r=e._closeAlgorithm();vt(e),T(r,function(){!function(e){e._inFlightCloseRequest._resolve(void 0),e._inFlightCloseRequest=void 0,"erroring"===e._state&&(e._storedError=void 0)!==e._pendingAbortRequest&&(e._pendingAbortRequest._resolve(),e._pendingAbortRequest=void 0),e._state="closed";var t=e._writer;void 0!==t&&Pt(t)}(n)},function(e){var t,r;r=e,(t=n)._inFlightCloseRequest._reject(r),(t._inFlightCloseRequest=void 0)!==t._pendingAbortRequest&&(t._pendingAbortRequest._reject(r),t._pendingAbortRequest=void 0),Ze(t,r)})}(e):(a=s,i=(n=e)._controlledWritableStream,(o=i)._inFlightWriteRequest=o._writeRequests.shift(),T(n._writeAlgorithm(a),function(){var e;(e=i)._inFlightWriteRequest._resolve(void 0),e._inFlightWriteRequest=void 0;var t=i._state;if(le(n),!rt(i)&&"writable"===t){var r=bt(n);at(i,r)}gt(n)},function(e){var t,r;"writable"===i._state&&vt(n),r=e,(t=i)._inFlightWriteRequest._reject(r),t._inFlightWriteRequest=void 0,Ze(t,r)}))}}else tt(t)}}function mt(e,t){"writable"===e._controlledWritableStream._state&&_t(e,t)}function bt(e){var t=yt(e);return t<=0}function _t(e,t){var r=e._controlledWritableStream;vt(e),et(r,t)}function At(e){return new TypeError("WritableStream.prototype."+e+" can only be used on a WritableStream")}function St(e){return new TypeError("WritableStreamDefaultWriter.prototype."+e+" can only be used on a WritableStreamDefaultWriter")}function wt(e){return new TypeError("Cannot "+e+" a stream using a released writer")}function kt(r){r._closedPromise=k(function(e,t){r._closedPromise_resolve=e,r._closedPromise_reject=t,r._closedPromiseState="pending"})}function xt(e,t){kt(e),Ct(e,t)}function Ct(e,t){void 0!==e._closedPromise_reject&&(O(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="rejected")}function Pt(e){void 0!==e._closedPromise_resolve&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="resolved")}function Tt(r){r._readyPromise=k(function(e,t){r._readyPromise_resolve=e,r._readyPromise_reject=t}),r._readyPromiseState="pending"}function Rt(e,t){Tt(e),Ot(e,t)}function Et(e){Tt(e),Ft(e)}function Ot(e,t){void 0!==e._readyPromise_reject&&(O(e._readyPromise),e._readyPromise_reject(t),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="rejected")}function Ft(e){void 0!==e._readyPromise_resolve&&(e._readyPromise_resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="fulfilled")}Object.defineProperties(ht.prototype,{error:{enumerable:!0}}),"symbol"===_typeof2(t.toStringTag)&&Object.defineProperty(ht.prototype,t.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});var Lt,Mt="undefined"!=typeof DOMException?DOMException:void 0,It=function(e){if("function"!=typeof e&&"object"!==_typeof2(e))return!1;try{return new e,!0}catch(e){return!1}}(Mt)?Mt:((Lt=function(e,t){this.message=e||"",this.name=t||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}).prototype=Object.create(Error.prototype),Object.defineProperty(Lt.prototype,"constructor",{value:Lt,writable:!0,configurable:!0}),Lt);function jt(h,p,v,y,g,m){var b=V(h),_=Ye(p),A=!(h._disturbed=!0),S=x(void 0);return k(function(r,n){var a,e,t,i;if(void 0!==m){if(a=function(){var e=new It("Aborted","AbortError"),t=[];y||t.push(function(){return"writable"===p._state?Je(p,e):x(void 0)}),g||t.push(function(){return"readable"===h._state?nr(h,e):x(void 0)}),c(function(){return Promise.all(t.map(function(e){return e()}))},!0,e)},m.aborted)return void a();m.addEventListener("abort",a)}function o(){return A?x(!0):P(_._readyPromise,function(){return k(function(t,e){te(b,{_chunkSteps:function(e){S=P(ft(_,e),void 0,w),t(!1)},_closeSteps:function(){return t(!0)},_errorSteps:e})})})}if(l(h,b._closedPromise,function(e){y?f(!0,e):c(function(){return Je(p,e)},!0,e)}),l(p,_._closedPromise,function(e){g?f(!0,e):c(function(){return nr(h,e)},!0,e)}),e=h,t=b._closedPromise,i=function(){v?f():c(function(){return t=(e=_)._ownerWritableStream,r=t._state,rt(t)||"closed"===r?x(void 0):"errored"!==r?st(e):C(t._storedError);var e,t,r})},"closed"===e._state?i():R(t,i),rt(p)||"closed"===p._state){var s=new TypeError("the destination writable stream closed before all data could be piped to it");g?f(!0,s):c(function(){return nr(h,s)},!0,s)}function u(){var e=S;return P(S,function(){return e!==S?u():void 0})}function l(e,t,r){"errored"===e._state?r(e._storedError):E(t,r)}function c(e,t,r){function n(){T(e(),function(){return d(t,r)},function(e){return d(!0,e)})}A||(A=!0,"writable"!==p._state||rt(p)?n():R(u(),n))}function f(e,t){A||(A=!0,"writable"!==p._state||rt(p)?d(e,t):R(u(),function(){return d(e,t)}))}function d(e,t){ct(_),F(b),void 0!==m&&m.removeEventListener("abort",a),e?n(t):r(void 0)}O(k(function(t,r){function n(e){e?t():P(o(),n,r)}n(!1)}))})}var Dt=function(){function e(){throw new TypeError("Illegal constructor")}return Object.defineProperty(e.prototype,"desiredSize",{get:function(){if(!Nt(this))throw Xt("desiredSize");return Ht(this)},enumerable:!1,configurable:!0}),e.prototype.close=function(){if(!Nt(this))throw Xt("close");if(!Vt(this))throw new TypeError("The stream is not in a state that permits close");Bt(this)},e.prototype.enqueue=function(e){if(void 0===e&&(e=void 0),!Nt(this))throw Xt("enqueue");if(!Vt(this))throw new TypeError("The stream is not in a state that permits enqueue");return Gt(this,e)},e.prototype.error=function(e){if(void 0===e&&(e=void 0),!Nt(this))throw Xt("error");zt(this,e)},e.prototype[L]=function(e){fe(this);var t=this._cancelAlgorithm(e);return Ut(this),t},e.prototype[M]=function(e){var t=this._controlledReadableStream;if(0<this._queue.length){var r=le(this);this._closeRequested&&0===this._queue.length?(Ut(this),ar(t)):qt(this),e._chunkSteps(r)}else Y(t,e),qt(this)},e}();function Nt(e){return!!n(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledReadableStream")}function qt(t){var e=Wt(t);if(e)if(t._pulling)t._pullAgain=!0;else{t._pulling=!0;var r=t._pullAlgorithm();T(r,function(){t._pulling=!1,t._pullAgain&&(t._pullAgain=!1,qt(t))},function(e){zt(t,e)})}}function Wt(e){var t=e._controlledReadableStream;if(!Vt(e))return!1;if(!e._started)return!1;if(rr(t)&&0<Q(t))return!0;var r=Ht(e);return 0<r}function Ut(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function Bt(e){if(Vt(e)){var t=e._controlledReadableStream;e._closeRequested=!0,0===e._queue.length&&(Ut(e),ar(t))}}function Gt(t,e){if(Vt(t)){var r=t._controlledReadableStream;if(rr(r)&&0<Q(r))X(r,e,!1);else{var n=void 0;try{n=t._strategySizeAlgorithm(e)}catch(e){throw zt(t,e),e}try{ce(t,e,n)}catch(e){throw zt(t,e),e}}qt(t)}}function zt(e,t){var r=e._controlledReadableStream;"readable"===r._state&&(fe(e),Ut(e),ir(r,t))}function Ht(e){var t=e._controlledReadableStream._state;return"errored"===t?null:"closed"===t?0:e._strategyHWM-e._queueTotalSize}function Vt(e){var t=e._controlledReadableStream._state;return!e._closeRequested&&"readable"===t}function Yt(e,t,r,n,a,i,o){t._controlledReadableStream=e,t._queue=void 0,t._queueTotalSize=void 0,fe(t),t._started=!1,t._closeRequested=!1,t._pullAgain=!1,t._pulling=!1,t._strategySizeAlgorithm=o,t._strategyHWM=i,t._pullAlgorithm=n,t._cancelAlgorithm=a,e._readableStreamController=t;var s=r();T(x(s),function(){t._started=!0,qt(t)},function(e){zt(t,e)})}function Xt(e){return new TypeError("ReadableStreamDefaultController.prototype."+e+" can only be used on a ReadableStreamDefaultController")}function Qt(e,t){D(e,t);var r,n,a,i,o,s,u,l,c,f=e,d=null==f?void 0:f.autoAllocateChunkSize,h=null==f?void 0:f.cancel,p=null==f?void 0:f.pull,v=null==f?void 0:f.start,y=null==f?void 0:f.type;return{autoAllocateChunkSize:void 0===d?void 0:z(d,t+" has member 'autoAllocateChunkSize' that"),cancel:void 0===h?void 0:(u=h,l=f,c=t+" has member 'cancel' that",N(u,c),function(e){return _(u,l,[e])}),pull:void 0===p?void 0:(i=p,o=f,s=t+" has member 'pull' that",N(i,s),function(e){return _(i,o,[e])}),start:void 0===v?void 0:(r=v,n=f,a=t+" has member 'start' that",N(r,a),function(e){return b(r,n,[e])}),type:void 0===y?void 0:function(e,t){if("bytes"==(e=""+e))return e;throw new TypeError(t+" '"+e+"' is not a valid enumeration value for ReadableStreamType")}(y,t+" has member 'type' that")}}function Kt(e,t){D(e,t);var r=null==e?void 0:e.mode;return{mode:void 0===r?void 0:function(e,t){if("byob"==(e=""+e))return e;throw new TypeError(t+" '"+e+"' is not a valid enumeration value for ReadableStreamReaderMode")}(r,t+" has member 'mode' that")}}function Jt(e,t){D(e,t);var r=null==e?void 0:e.preventAbort,n=null==e?void 0:e.preventCancel,a=null==e?void 0:e.preventClose,i=null==e?void 0:e.signal;return void 0!==i&&function(e,t){if(!function(e){if("object"!==_typeof2(e)||null===e)return!1;try{return"boolean"==typeof e.aborted}catch(e){return!1}}(e))throw new TypeError(t+" is not an AbortSignal.")}(i,t+" has member 'signal' that"),{preventAbort:Boolean(r),preventCancel:Boolean(n),preventClose:Boolean(a),signal:i}}Object.defineProperties(Dt.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"===_typeof2(t.toStringTag)&&Object.defineProperty(Dt.prototype,t.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});var $t=function(){function e(e,t){void 0===e&&(e={}),void 0===t&&(t={}),void 0===e?e=null:q(e,"First parameter");var r,n,a,i,o,s,u,l,c=Ge(t,"Second parameter"),f=Qt(e,"First parameter");if(er(this),"bytes"===f.type){if(void 0!==c.size)throw new RangeError("The strategy for a byte stream cannot have a size function");var d=Ue(c,0);Fe(this,f,d)}else{var h=Be(c),d=Ue(c,1);r=this,n=f,a=d,i=h,o=Object.create(Dt.prototype),s=function(){},u=function(){return x(void 0)},l=function(){return x(void 0)},void 0!==n.start&&(s=function(){return n.start(o)}),void 0!==n.pull&&(u=function(){return n.pull(o)}),void 0!==n.cancel&&(l=function(e){return n.cancel(e)}),Yt(r,o,s,u,l,a,i)}}return Object.defineProperty(e.prototype,"locked",{get:function(){if(!tr(this))throw or("locked");return rr(this)},enumerable:!1,configurable:!0}),e.prototype.cancel=function(e){return void 0===e&&(e=void 0),tr(this)?rr(this)?C(new TypeError("Cannot cancel a stream that already has a reader")):nr(this,e):C(or("cancel"))},e.prototype.getReader=function(e){if(void 0===e&&(e=void 0),!tr(this))throw or("getReader");var t=Kt(e,"First parameter");return void 0===t.mode?V(this):new Ne(this)},e.prototype.pipeThrough=function(e,t){if(void 0===t&&(t={}),!tr(this))throw or("pipeThrough");W(e,1,"pipeThrough");var r=function(e,t){D(e,t);var r=null==e?void 0:e.readable;U(r,"readable","ReadableWritablePair"),H(r,t+" has member 'readable' that");var n=null==e?void 0:e.writable;return U(n,"writable","ReadableWritablePair"),He(n,t+" has member 'writable' that"),{readable:r,writable:n}}(e,"First parameter"),n=Jt(t,"Second parameter");if(rr(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(Ke(r.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");var a=jt(this,r.writable,n.preventClose,n.preventAbort,n.preventCancel,n.signal);return O(a),r.readable},e.prototype.pipeTo=function(e,t){if(void 0===t&&(t={}),!tr(this))return C(or("pipeTo"));if(void 0===e)return C("Parameter 1 is required in 'pipeTo'.");if(!Qe(e))return C(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));var r;try{r=Jt(t,"Second parameter")}catch(e){return C(e)}return rr(this)?C(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):Ke(e)?C(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):jt(this,e,r.preventClose,r.preventAbort,r.preventCancel,r.signal)},e.prototype.tee=function(){if(!tr(this))throw or("tee");var e=function(n,e){var a,i,o,s,u,t=V(n),l=!1,c=!1,f=!1,d=k(function(e){u=e});function r(){if(l)return x(void 0);l=!0;var e={_chunkSteps:function(r){y(function(){l=!1;var e=r,t=r;c||Gt(o._readableStreamController,e),f||Gt(s._readableStreamController,t),u(void 0)})},_closeSteps:function(){l=!1,c||Bt(o._readableStreamController),f||Bt(s._readableStreamController)},_errorSteps:function(){l=!1}};return te(t,e),x(void 0)}function h(e){if(c=!0,a=e,f){var t=de([a,i]),r=nr(n,t);u(r)}return d}function p(e){if(f=!0,i=e,c){var t=de([a,i]),r=nr(n,t);u(r)}return d}function v(){}return o=Zt(v,r,h),s=Zt(v,r,p),E(t._closedPromise,function(e){zt(o._readableStreamController,e),zt(s._readableStreamController,e),u(void 0)}),[o,s]}(this);return de(e)},e.prototype.values=function(e){if(void 0===e&&(e=void 0),!tr(this))throw or("values");var t,r,n,a,i,o=function(e,t){D(e,t);var r=null==e?void 0:e.preventCancel;return{preventCancel:Boolean(r)}}(e,"First parameter");return t=this,r=o.preventCancel,n=V(t),a=new ne(n,r),(i=Object.create(ae))._asyncIteratorImpl=a,i},e}();function Zt(e,t,r,n,a){void 0===n&&(n=1),void 0===a&&(a=function(){return 1});var i=Object.create($t.prototype);er(i);var o=Object.create(Dt.prototype);return Yt(i,o,e,t,r,n,a),i}function er(e){e._state="readable",e._reader=void 0,e._storedError=void 0,e._disturbed=!1}function tr(e){return!!n(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readableStreamController")}function rr(e){return void 0!==e._reader}function nr(e,t){if(e._disturbed=!0,"closed"===e._state)return x(void 0);if("errored"===e._state)return C(e._storedError);ar(e);var r=e._readableStreamController[L](t);return A(r,w)}function ar(e){e._state="closed";var t=e._reader;void 0!==t&&(g(t),ee(t)&&(t._readRequests.forEach(function(e){e._closeSteps()}),t._readRequests=new v))}function ir(e,t){e._state="errored",e._storedError=t;var r=e._reader;void 0!==r&&(p(r,t),ee(r)?(r._readRequests.forEach(function(e){e._errorSteps(t)}),r._readRequests=new v):(r._readIntoRequests.forEach(function(e){e._errorSteps(t)}),r._readIntoRequests=new v))}function or(e){return new TypeError("ReadableStream.prototype."+e+" can only be used on a ReadableStream")}function sr(e,t){D(e,t);var r=null==e?void 0:e.highWaterMark;return U(r,"highWaterMark","QueuingStrategyInit"),{highWaterMark:B(r)}}Object.defineProperties($t.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),"symbol"===_typeof2(t.toStringTag)&&Object.defineProperty($t.prototype,t.toStringTag,{value:"ReadableStream",configurable:!0}),"symbol"===_typeof2(t.asyncIterator)&&Object.defineProperty($t.prototype,t.asyncIterator,{value:$t.prototype.values,writable:!0,configurable:!0});var ur=function(e){return e.byteLength},lr=function(){function e(e){W(e,1,"ByteLengthQueuingStrategy"),e=sr(e,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=e.highWaterMark}return Object.defineProperty(e.prototype,"highWaterMark",{get:function(){if(!fr(this))throw cr("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){if(!fr(this))throw cr("size");return ur},enumerable:!1,configurable:!0}),e}();function cr(e){return new TypeError("ByteLengthQueuingStrategy.prototype."+e+" can only be used on a ByteLengthQueuingStrategy")}function fr(e){return!!n(e)&&!!Object.prototype.hasOwnProperty.call(e,"_byteLengthQueuingStrategyHighWaterMark")}Object.defineProperties(lr.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"===_typeof2(t.toStringTag)&&Object.defineProperty(lr.prototype,t.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});var dr=function(){return 1},hr=function(){function e(e){W(e,1,"CountQueuingStrategy"),e=sr(e,"First parameter"),this._countQueuingStrategyHighWaterMark=e.highWaterMark}return Object.defineProperty(e.prototype,"highWaterMark",{get:function(){if(!vr(this))throw pr("highWaterMark");return this._countQueuingStrategyHighWaterMark},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){if(!vr(this))throw pr("size");return dr},enumerable:!1,configurable:!0}),e}();function pr(e){return new TypeError("CountQueuingStrategy.prototype."+e+" can only be used on a CountQueuingStrategy")}function vr(e){return!!n(e)&&!!Object.prototype.hasOwnProperty.call(e,"_countQueuingStrategyHighWaterMark")}function yr(e,t){D(e,t);var r,n,a,i,o,s,u,l,c,f=null==e?void 0:e.flush,d=null==e?void 0:e.readableType,h=null==e?void 0:e.start,p=null==e?void 0:e.transform,v=null==e?void 0:e.writableType;return{flush:void 0===f?void 0:(u=f,l=e,c=t+" has member 'flush' that",N(u,c),function(e){return _(u,l,[e])}),readableType:d,start:void 0===h?void 0:(i=h,o=e,s=t+" has member 'start' that",N(i,s),function(e){return b(i,o,[e])}),transform:void 0===p?void 0:(r=p,n=e,a=t+" has member 'transform' that",N(r,a),function(e,t){return _(r,n,[e,t])}),writableType:v}}Object.defineProperties(hr.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"===_typeof2(t.toStringTag)&&Object.defineProperty(hr.prototype,t.toStringTag,{value:"CountQueuingStrategy",configurable:!0});var gr=function(){function e(e,t,r){void 0===e&&(e={}),void 0===t&&(t={}),void 0===r&&(r={}),void 0===e&&(e=null);var n=Ge(t,"Second parameter"),a=Ge(r,"Third parameter"),i=yr(e,"First parameter");if(void 0!==i.readableType)throw new RangeError("Invalid readableType specified");if(void 0!==i.writableType)throw new RangeError("Invalid writableType specified");var o,s,u,l,c,f,d,h,p,v,y=Ue(a,0),g=Be(a),m=Ue(n,1),b=Be(n),_=k(function(e){o=e});!function(a,e,t,r,n,i){function o(){return e}a._writable=function(e,t,r,n,a,i){void 0===a&&(a=1),void 0===i&&(i=function(){return 1});var o=Object.create(Ve.prototype);Xe(o);var s=Object.create(ht.prototype);return pt(o,s,e,t,r,n,a,i),o}(o,function(e){return Pr(a,e)},function(){return r=(t=t=a)._readable,e=t._transformStreamController,n=e._flushAlgorithm(),kr(e),A(n,function(){if("errored"===r._state)throw r._storedError;Bt(r._readableStreamController)},function(e){throw br(t,e),r._storedError});var t,r,e,n},function(e){return br(a,e),x(void 0)},t,r),a._readable=Zt(o,function(){return Ar(e=a,!1),e._backpressureChangePromise;var e},function(e){return _r(a,e),x(void 0)},n,i),a._backpressure=void 0,a._backpressureChangePromise=void 0,a._backpressureChangePromise_resolve=void 0,Ar(a,!0),a._transformStreamController=void 0}(this,_,m,b,y,g),s=this,u=i,h=Object.create(Sr.prototype),p=function(e){try{return xr(h,e),x(void 0)}catch(e){return C(e)}},v=function(){return x(void 0)},void 0!==u.transform&&(p=function(e){return u.transform(e,h)}),void 0!==u.flush&&(v=function(){return u.flush(h)}),l=s,f=p,d=v,(((c=h)._controlledTransformStream=l)._transformStreamController=c)._transformAlgorithm=f,c._flushAlgorithm=d,void 0!==i.start?o(i.start(this._transformStreamController)):o(void 0)}return Object.defineProperty(e.prototype,"readable",{get:function(){if(!mr(this))throw Rr("readable");return this._readable},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"writable",{get:function(){if(!mr(this))throw Rr("writable");return this._writable},enumerable:!1,configurable:!0}),e}();function mr(e){return!!n(e)&&!!Object.prototype.hasOwnProperty.call(e,"_transformStreamController")}function br(e,t){zt(e._readable._readableStreamController,t),_r(e,t)}function _r(e,t){kr(e._transformStreamController),mt(e._writable._writableStreamController,t),e._backpressure&&Ar(e,!1)}function Ar(t,e){void 0!==t._backpressureChangePromise&&t._backpressureChangePromise_resolve(),t._backpressureChangePromise=k(function(e){t._backpressureChangePromise_resolve=e}),t._backpressure=e}Object.defineProperties(gr.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),"symbol"===_typeof2(t.toStringTag)&&Object.defineProperty(gr.prototype,t.toStringTag,{value:"TransformStream",configurable:!0});var Sr=function(){function e(){throw new TypeError("Illegal constructor")}return Object.defineProperty(e.prototype,"desiredSize",{get:function(){if(!wr(this))throw Tr("desiredSize");var e=this._controlledTransformStream._readable._readableStreamController;return Ht(e)},enumerable:!1,configurable:!0}),e.prototype.enqueue=function(e){if(void 0===e&&(e=void 0),!wr(this))throw Tr("enqueue");xr(this,e)},e.prototype.error=function(e){if(void 0===e&&(e=void 0),!wr(this))throw Tr("error");var t;t=e,br(this._controlledTransformStream,t)},e.prototype.terminate=function(){if(!wr(this))throw Tr("terminate");!function(e){var t=e._controlledTransformStream;Bt(t._readable._readableStreamController);var r=new TypeError("TransformStream terminated");_r(t,r)}(this)},e}();function wr(e){return!!n(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledTransformStream")}function kr(e){e._transformAlgorithm=void 0,e._flushAlgorithm=void 0}function xr(e,t){var r=e._controlledTransformStream,n=r._readable._readableStreamController;if(!Vt(n))throw new TypeError("Readable side is not in a state that permits enqueue");try{Gt(n,t)}catch(e){throw _r(r,e),r._readable._storedError}var a=!Wt(n);a!==r._backpressure&&Ar(r,!0)}function Cr(t,e){var r=t._transformAlgorithm(e);return A(r,void 0,function(e){throw br(t._controlledTransformStream,e),e})}function Pr(r,n){var a=r._transformStreamController;if(r._backpressure){var e=r._backpressureChangePromise;return A(e,function(){var e=r._writable,t=e._state;if("erroring"===t)throw e._storedError;return Cr(a,n)})}return Cr(a,n)}function Tr(e){return new TypeError("TransformStreamDefaultController.prototype."+e+" can only be used on a TransformStreamDefaultController")}function Rr(e){return new TypeError("TransformStream.prototype."+e+" can only be used on a TransformStream")}Object.defineProperties(Sr.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"===_typeof2(t.toStringTag)&&Object.defineProperty(Sr.prototype,t.toStringTag,{value:"TransformStreamDefaultController",configurable:!0}),e.ByteLengthQueuingStrategy=lr,e.CountQueuingStrategy=hr,e.ReadableByteStreamController=ve,e.ReadableStream=$t,e.ReadableStreamBYOBReader=Ne,e.ReadableStreamBYOBRequest=pe,e.ReadableStreamDefaultController=Dt,e.ReadableStreamDefaultReader=Z,e.TransformStream=gr,e.TransformStreamDefaultController=Sr,e.WritableStream=Ve,e.WritableStreamDefaultController=ht,e.WritableStreamDefaultWriter=it,Object.defineProperty(e,"__esModule",{value:!0})}(t)},function(e,t,r){r(113);var n=r(117);e.exports=n("String","padStart")},function(e,t,r){var n=r(9),a=r(114).start;n({target:"String",proto:!0,forced:r(116)},{padStart:function(e){return a(this,e,1<arguments.length?arguments[1]:void 0)}})},function(e,t,r){var c=r(46),f=r(115),d=r(19),h=Math.ceil,n=function(l){return function(e,t,r){var n,a,i=String(d(e)),o=i.length,s=void 0===r?" ":String(r),u=c(t);return u<=o||""==s?i:(n=u-o,(a=f.call(s,h(n/s.length))).length>n&&(a=a.slice(0,n)),l?i+a:a+i)}};e.exports={start:n(!1),end:n(!0)}},function(e,t,r){var a=r(47),i=r(19);e.exports=function(e){var t=String(i(this)),r="",n=a(e);if(n<0||n==1/0)throw RangeError("Wrong number of repetitions");for(;0<n;(n>>>=1)&&(t+=t))1&n&&(r+=t);return r}},function(e,t,r){var n=r(59);e.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(n)},function(e,t,r){var n=r(10),a=r(78),i=Function.call;e.exports=function(e,t,r){return a(i,n[e].prototype[t],r)}},function(e,t,r){r(119);var n=r(117);e.exports=n("String","padEnd")},function(e,t,r){var n=r(9),a=r(114).end;n({target:"String",proto:!0,forced:r(116)},{padEnd:function(e){return a(this,e,1<arguments.length?arguments[1]:void 0)}})},function(e,t,r){r(121);var n=r(42);e.exports=n.Object.values},function(e,t,r){var n=r(9),a=r(122).values;n({target:"Object",stat:!0},{values:function(e){return a(e)}})},function(e,t,r){var u=r(12),l=r(63),c=r(16),f=r(14).f,n=function(s){return function(e){for(var t,r=c(e),n=l(r),a=n.length,i=0,o=[];i<a;)t=n[i++],u&&!f.call(r,t)||o.push(s?[t,r[t]]:r[t]);return o}};e.exports={entries:n(!0),values:n(!1)}},function(e,t,r){r(124);var n=r(42);e.exports=n.Object.entries},function(e,t,r){var n=r(9),a=r(122).entries;n({target:"Object",stat:!0},{entries:function(e){return a(e)}})},function(__unused_webpack_module,exports,__w_pdfjs_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultCMapReaderFactory=exports.DefaultCanvasFactory=exports.build=void 0;var _regenerator=_interopRequireDefault(__w_pdfjs_require__(2)),_util=__w_pdfjs_require__(4),_display_utils=__w_pdfjs_require__(1),_font_loader=__w_pdfjs_require__(126),_node_utils=__w_pdfjs_require__(127),_annotation_storage=__w_pdfjs_require__(128),_api_compatibility=__w_pdfjs_require__(129),_canvas=__w_pdfjs_require__(130),_worker_options=__w_pdfjs_require__(132),_is_node=__w_pdfjs_require__(6),_message_handler=__w_pdfjs_require__(133),_metadata=__w_pdfjs_require__(134),_optional_content_config=__w_pdfjs_require__(135),_transport_stream=__w_pdfjs_require__(136),_webgl=__w_pdfjs_require__(137);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function asyncGeneratorStep(e,t,r,n,a,i,o){try{var s=e[i](o),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,a)}function _asyncToGenerator(s){return function(){var e=this,o=arguments;return new Promise(function(t,r){var n=s.apply(e,o);function a(e){asyncGeneratorStep(n,t,r,a,i,"next",e)}function i(e){asyncGeneratorStep(n,t,r,a,i,"throw",e)}a(void 0)})}}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _createForOfIteratorHelper(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw i}}}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _iterableToArrayLimit(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw i}}return r}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DefaultCanvasFactory=_is_node.isNodeJS?_node_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;var DefaultCMapReaderFactory=_is_node.isNodeJS?_node_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory,createPDFNetworkStream;function setPDFNetworkStreamFactory(e){createPDFNetworkStream=e}function getDocument(e){var t,o=new PDFDocumentLoadingTask;if("string"==typeof e||e instanceof URL)t={url:e};else if((0,_util.isArrayBuffer)(e))t={data:e};else if(e instanceof PDFDataRangeTransport)t={range:e};else{if("object"!==_typeof(e))throw new Error("Invalid parameter in getDocument, need either string, URL, Uint8Array, or parameter object.");if(!e.url&&!e.data&&!e.range)throw new Error("Invalid parameter object: need either .data, .range or .url");t=e}var s=Object.create(null),r=null,u=null;for(var n in t){var a=t[n];switch(n){case"url":if("undefined"!=typeof window)try{s[n]=new URL(a,window.location).href;continue}catch(e){(0,_util.warn)('Cannot create valid URL: "'.concat(e,'".'))}else if("string"==typeof a||a instanceof URL){s[n]=a.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":r=a;continue;case"worker":u=a;continue;case"data":if(_is_node.isNodeJS&&"undefined"!=typeof Buffer&&a instanceof Buffer)s[n]=new Uint8Array(a);else{if(a instanceof Uint8Array)break;if("string"==typeof a)s[n]=(0,_util.stringToBytes)(a);else if("object"!==_typeof(a)||null===a||isNaN(a.length)){if(!(0,_util.isArrayBuffer)(a))throw new Error("Invalid PDF binary data: either typed array, string, or array-like object is expected in the data property.");s[n]=new Uint8Array(a)}else s[n]=new Uint8Array(a)}continue}s[n]=a}if(s.rangeChunkSize=s.rangeChunkSize||DEFAULT_RANGE_CHUNK_SIZE,s.CMapReaderFactory=s.CMapReaderFactory||DefaultCMapReaderFactory,s.ignoreErrors=!0!==s.stopAtErrors,s.fontExtraProperties=!0===s.fontExtraProperties,s.pdfBug=!0===s.pdfBug,s.enableXfa=!0===s.enableXfa,("string"!=typeof s.docBaseUrl||(0,_display_utils.isDataScheme)(s.docBaseUrl))&&(s.docBaseUrl=null),Number.isInteger(s.maxImageSize)||(s.maxImageSize=-1),"boolean"!=typeof s.isEvalSupported&&(s.isEvalSupported=!0),"boolean"!=typeof s.disableFontFace&&(s.disableFontFace=_api_compatibility.apiCompatibilityParams.disableFontFace||!1),void 0===s.ownerDocument&&(s.ownerDocument=globalThis.document),"boolean"!=typeof s.disableRange&&(s.disableRange=!1),"boolean"!=typeof s.disableStream&&(s.disableStream=!1),"boolean"!=typeof s.disableAutoFetch&&(s.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(s.verbosity),!u){var i={verbosity:s.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};u=i.port?PDFWorker.fromPort(i):new PDFWorker(i),o._worker=u}var l=o.docId;return u.promise.then(function(){if(o.destroyed)throw new Error("Loading aborted");var e=_fetchDocument(u,s,r,l),t=new Promise(function(e){var t;r?t=new _transport_stream.PDFDataTransportStream({length:s.length,initialData:s.initialData,progressiveDone:s.progressiveDone,contentDispositionFilename:s.contentDispositionFilename,disableRange:s.disableRange,disableStream:s.disableStream},r):s.data||(t=createPDFNetworkStream({url:s.url,length:s.length,httpHeaders:s.httpHeaders,withCredentials:s.withCredentials,rangeChunkSize:s.rangeChunkSize,disableRange:s.disableRange,disableStream:s.disableStream})),e(t)});return Promise.all([e,t]).then(function(e){var t=_slicedToArray(e,2),r=t[0],n=t[1];if(o.destroyed)throw new Error("Loading aborted");var a=new _message_handler.MessageHandler(l,r,u.port);a.postMessageTransfers=u.postMessageTransfers;var i=new WorkerTransport(a,o,n,s);o._transport=i,a.send("Ready",null)})}).catch(o._capability.reject),o}function _fetchDocument(t,e,r,n){return t.destroyed?Promise.reject(new Error("Worker was destroyed")):(r&&(e.length=r.length,e.initialData=r.initialData,e.progressiveDone=r.progressiveDone,e.contentDispositionFilename=r.contentDispositionFilename),t.messageHandler.sendWithPromise("GetDocRequest",{docId:n,apiVersion:"2.8.335",source:{data:e.data,url:e.url,password:e.password,disableAutoFetch:e.disableAutoFetch,rangeChunkSize:e.rangeChunkSize,length:e.length},maxImageSize:e.maxImageSize,disableFontFace:e.disableFontFace,postMessageTransfers:t.postMessageTransfers,docBaseUrl:e.docBaseUrl,ignoreErrors:e.ignoreErrors,isEvalSupported:e.isEvalSupported,fontExtraProperties:e.fontExtraProperties,enableXfa:e.enableXfa}).then(function(e){if(t.destroyed)throw new Error("Worker was destroyed");return e}))}exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;var PDFDocumentLoadingTask=(qba=0,function(){function e(){_classCallCheck(this,e),this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d"+qba++,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}return _createClass(e,[{key:"promise",get:function(){return this._capability.promise}},{key:"destroy",value:function(){var e=this;return this.destroyed=!0,(this._transport?this._transport.destroy():Promise.resolve()).then(function(){e._transport=null,e._worker&&(e._worker.destroy(),e._worker=null)})}}]),e}()),qba,PDFDataRangeTransport=function(){function a(e,t){var r=2<arguments.length&&void 0!==arguments[2]&&arguments[2],n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,a),this.length=e,this.initialData=t,this.progressiveDone=r,this.contentDispositionFilename=n,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}return _createClass(a,[{key:"addRangeListener",value:function(e){this._rangeListeners.push(e)}},{key:"addProgressListener",value:function(e){this._progressListeners.push(e)}},{key:"addProgressiveReadListener",value:function(e){this._progressiveReadListeners.push(e)}},{key:"addProgressiveDoneListener",value:function(e){this._progressiveDoneListeners.push(e)}},{key:"onDataRange",value:function(e,t){var r,n=_createForOfIteratorHelper(this._rangeListeners);try{for(n.s();!(r=n.n()).done;){(0,r.value)(e,t)}}catch(e){n.e(e)}finally{n.f()}}},{key:"onDataProgress",value:function(r,n){var a=this;this._readyCapability.promise.then(function(){var e,t=_createForOfIteratorHelper(a._progressListeners);try{for(t.s();!(e=t.n()).done;){(0,e.value)(r,n)}}catch(e){t.e(e)}finally{t.f()}})}},{key:"onDataProgressiveRead",value:function(r){var n=this;this._readyCapability.promise.then(function(){var e,t=_createForOfIteratorHelper(n._progressiveReadListeners);try{for(t.s();!(e=t.n()).done;){(0,e.value)(r)}}catch(e){t.e(e)}finally{t.f()}})}},{key:"onDataProgressiveDone",value:function(){var r=this;this._readyCapability.promise.then(function(){var e,t=_createForOfIteratorHelper(r._progressiveDoneListeners);try{for(t.s();!(e=t.n()).done;){(0,e.value)()}}catch(e){t.e(e)}finally{t.f()}})}},{key:"transportReady",value:function(){this._readyCapability.resolve()}},{key:"requestDataRange",value:function(e,t){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}},{key:"abort",value:function(){}}]),a}();exports.PDFDataRangeTransport=PDFDataRangeTransport;var PDFDocumentProxy=function(){function r(e,t){_classCallCheck(this,r),this._pdfInfo=e,this._transport=t}return _createClass(r,[{key:"annotationStorage",get:function(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}},{key:"numPages",get:function(){return this._pdfInfo.numPages}},{key:"fingerprint",get:function(){return this._pdfInfo.fingerprint}},{key:"isPureXfa",get:function(){return this._pdfInfo.isPureXfa}},{key:"getPage",value:function(e){return this._transport.getPage(e)}},{key:"getPageIndex",value:function(e){return this._transport.getPageIndex(e)}},{key:"getDestinations",value:function(){return this._transport.getDestinations()}},{key:"getDestination",value:function(e){return this._transport.getDestination(e)}},{key:"getPageLabels",value:function(){return this._transport.getPageLabels()}},{key:"getPageLayout",value:function(){return this._transport.getPageLayout()}},{key:"getPageMode",value:function(){return this._transport.getPageMode()}},{key:"getViewerPreferences",value:function(){return this._transport.getViewerPreferences()}},{key:"getOpenAction",value:function(){return this._transport.getOpenAction()}},{key:"getAttachments",value:function(){return this._transport.getAttachments()}},{key:"getJavaScript",value:function(){return this._transport.getJavaScript()}},{key:"getJSActions",value:function(){return this._transport.getDocJSActions()}},{key:"getOutline",value:function(){return this._transport.getOutline()}},{key:"getOptionalContentConfig",value:function(){return this._transport.getOptionalContentConfig()}},{key:"getPermissions",value:function(){return this._transport.getPermissions()}},{key:"getMetadata",value:function(){return this._transport.getMetadata()}},{key:"getMarkInfo",value:function(){return this._transport.getMarkInfo()}},{key:"getData",value:function(){return this._transport.getData()}},{key:"getDownloadInfo",value:function(){return this._transport.downloadInfoCapability.promise}},{key:"getStats",value:function(){return this._transport.getStats()}},{key:"cleanup",value:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];return this._transport.startCleanup(e||this.isPureXfa)}},{key:"destroy",value:function(){return this.loadingTask.destroy()}},{key:"loadingParams",get:function(){return this._transport.loadingParams}},{key:"loadingTask",get:function(){return this._transport.loadingTask}},{key:"saveDocument",value:function(e){return this._transport.saveDocument(e)}},{key:"getFieldObjects",value:function(){return this._transport.getFieldObjects()}},{key:"hasJSActions",value:function(){return this._transport.hasJSActions()}},{key:"getCalculationOrderIds",value:function(){return this._transport.getCalculationOrderIds()}}]),r}();exports.PDFDocumentProxy=PDFDocumentProxy;var PDFPageProxy=function(){function i(e,t,r,n){var a=4<arguments.length&&void 0!==arguments[4]&&arguments[4];_classCallCheck(this,i),this._pageIndex=e,this._pageInfo=t,this._ownerDocument=n,this._transport=r,this._stats=a?new _display_utils.StatTimer:null,this._pdfBug=a,this.commonObjs=r.commonObjs,this.objs=new PDFObjects,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this.destroyed=!1}return _createClass(i,[{key:"pageNumber",get:function(){return this._pageIndex+1}},{key:"rotate",get:function(){return this._pageInfo.rotate}},{key:"ref",get:function(){return this._pageInfo.ref}},{key:"userUnit",get:function(){return this._pageInfo.userUnit}},{key:"view",get:function(){return this._pageInfo.view}},{key:"getViewport",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.scale,r=e.rotation,n=void 0===r?this.rotate:r,a=e.offsetX,i=void 0===a?0:a,o=e.offsetY,s=void 0===o?0:o,u=e.dontFlip,l=void 0!==u&&u;return new _display_utils.PageViewport({viewBox:this.view,scale:t,rotation:n,offsetX:i,offsetY:s,dontFlip:l})}},{key:"getAnnotations",value:function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).intent,t=void 0===e?null:e;return this._annotationsPromise&&this._annotationsIntent===t||(this._annotationsPromise=this._transport.getAnnotations(this._pageIndex,t),this._annotationsIntent=t),this._annotationsPromise}},{key:"getJSActions",value:function(){return this._jsActionsPromise||(this._jsActionsPromise=this._transport.getPageJSActions(this._pageIndex))}},{key:"getXfa",value:function(){return this._xfaPromise||(this._xfaPromise=this._transport.getPageXfa(this._pageIndex))}},{key:"render",value:function(e){var t,a=this,r=e.canvasContext,n=e.viewport,i=e.intent,o=void 0===i?"display":i,s=e.enableWebGL,u=void 0!==s&&s,l=e.renderInteractiveForms,c=void 0!==l&&l,f=e.transform,d=void 0===f?null:f,h=e.imageLayer,p=void 0===h?null:h,v=e.canvasFactory,y=void 0===v?null:v,g=e.background,m=void 0===g?null:g,b=e.annotationStorage,_=void 0===b?null:b,A=e.optionalContentConfigPromise,S=void 0===A?null:A;this._stats&&this._stats.time("Overall");var w="print"===o?"print":"display";this.pendingCleanup=!1,S||(S=this._transport.getOptionalContentConfig());var k=this._intentStates.get(w);k||(k=Object.create(null),this._intentStates.set(w,k)),k.streamReaderCancelTimeout&&(clearTimeout(k.streamReaderCancelTimeout),k.streamReaderCancelTimeout=null);var x=y||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),C=new _webgl.WebGLContext({enable:u});k.displayReadyCapability||(k.displayReadyCapability=(0,_util.createPromiseCapability)(),k.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList({pageIndex:this._pageIndex,intent:w,renderInteractiveForms:!0===c,annotationStorage:(null==_?void 0:_.serializable)||null}));var P=function(e){k.renderTasks.delete(T),(a.cleanupAfterRender||"print"===w)&&(a.pendingCleanup=!0),a._tryCleanup(),e?(T.capability.reject(e),a._abortOperatorList({intentState:k,reason:e})):T.capability.resolve(),a._stats&&(a._stats.timeEnd("Rendering"),a._stats.timeEnd("Overall"))},T=new InternalRenderTask({callback:P,params:{canvasContext:r,viewport:n,transform:d,imageLayer:p,background:m},objs:this.objs,commonObjs:this.commonObjs,operatorList:k.operatorList,pageIndex:this._pageIndex,canvasFactory:x,webGLContext:C,useRequestAnimationFrame:"print"!==w,pdfBug:this._pdfBug});((t=k).renderTasks||(t.renderTasks=new Set)).add(T);var R=T.task;return Promise.all([k.displayReadyCapability.promise,S]).then(function(e){var t=_slicedToArray(e,2),r=t[0],n=t[1];a.pendingCleanup?P():(a._stats&&a._stats.time("Rendering"),T.initializeGraphics({transparency:r,optionalContentConfig:n}),T.operatorListChanged())}).catch(P),R}},{key:"getOperatorList",value:function(){var e,t,r="oplist",n=this._intentStates.get(r);(n||(n=Object.create(null),this._intentStates.set(r,n)),n.opListReadCapability)||((e=Object.create(null)).operatorListChanged=function(){n.operatorList.lastChunk&&(n.opListReadCapability.resolve(n.operatorList),n.renderTasks.delete(e))},n.opListReadCapability=(0,_util.createPromiseCapability)(),((t=n).renderTasks||(t.renderTasks=new Set)).add(e),n.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList({pageIndex:this._pageIndex,intent:r}));return n.opListReadCapability.promise}},{key:"streamTextContent",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.normalizeWhitespace,r=void 0!==t&&t,n=e.disableCombineTextItems,a=void 0!==n&&n;return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,normalizeWhitespace:!0===r,combineTextItems:!0!==a},{highWaterMark:100,size:function(e){return e.items.length}})}},{key:"getTextContent",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r=this.streamTextContent(e);return new Promise(function(a,e){var t=r.getReader(),i={items:[],styles:Object.create(null)};!function n(){t.read().then(function(e){var t,r=e.value;e.done?a(i):(Object.assign(i.styles,r.styles),(t=i.items).push.apply(t,_toConsumableArray(r.items)),n())},e)}()})}},{key:"_destroy",value:function(){this.destroyed=!0,this._transport.pageCache[this._pageIndex]=null;var e,t=[],r=_createForOfIteratorHelper(this._intentStates);try{for(r.s();!(e=r.n()).done;){var n=_slicedToArray(e.value,2),a=n[0],i=n[1];if(this._abortOperatorList({intentState:i,reason:new Error("Page was destroyed."),force:!0}),"oplist"!==a){var o,s=_createForOfIteratorHelper(i.renderTasks);try{for(s.s();!(o=s.n()).done;){var u=o.value;t.push(u.completed),u.cancel()}}catch(e){s.e(e)}finally{s.f()}}}}catch(e){r.e(e)}finally{r.f()}return this.objs.clear(),this._annotationsPromise=null,this._jsActionsPromise=null,this._xfaPromise=null,this.pendingCleanup=!1,Promise.all(t)}},{key:"cleanup",value:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];return this.pendingCleanup=!0,this._tryCleanup(e)}},{key:"_tryCleanup",value:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];if(!this.pendingCleanup)return!1;var t,r=_createForOfIteratorHelper(this._intentStates.values());try{for(r.s();!(t=r.n()).done;){var n=t.value,a=n.renderTasks,i=n.operatorList;if(0<a.size||!i.lastChunk)return!1}}catch(e){r.e(e)}finally{r.f()}return this._intentStates.clear(),this.objs.clear(),this._annotationsPromise=null,this._jsActionsPromise=null,this._xfaPromise=null,e&&this._stats&&(this._stats=new _display_utils.StatTimer),!(this.pendingCleanup=!1)}},{key:"_startRenderPage",value:function(e,t){var r=this._intentStates.get(t);r&&(this._stats&&this._stats.timeEnd("Page Request"),r.displayReadyCapability&&r.displayReadyCapability.resolve(e))}},{key:"_renderPageChunk",value:function(e,t){for(var r=0,n=e.length;r<n;r++)t.operatorList.fnArray.push(e.fnArray[r]),t.operatorList.argsArray.push(e.argsArray[r]);t.operatorList.lastChunk=e.lastChunk;var a,i=_createForOfIteratorHelper(t.renderTasks);try{for(i.s();!(a=i.n()).done;){a.value.operatorListChanged()}}catch(e){i.e(e)}finally{i.f()}e.lastChunk&&this._tryCleanup()}},{key:"_pumpOperatorList",value:function(e){var n=this;(0,_util.assert)(e.intent,'PDFPageProxy._pumpOperatorList: Expected "intent" argument.');var t=this._transport.messageHandler.sendWithStream("GetOperatorList",e).getReader(),a=this._intentStates.get(e.intent);a.streamReader=t;!function r(){t.read().then(function(e){var t=e.value;e.done?a.streamReader=null:n._transport.destroyed||(n._renderPageChunk(t,a),r())},function(e){if(a.streamReader=null,!n._transport.destroyed){if(a.operatorList){a.operatorList.lastChunk=!0;var t,r=_createForOfIteratorHelper(a.renderTasks);try{for(r.s();!(t=r.n()).done;)t.value.operatorListChanged()}catch(e){r.e(e)}finally{r.f()}n._tryCleanup()}if(a.displayReadyCapability)a.displayReadyCapability.reject(e);else{if(!a.opListReadCapability)throw e;a.opListReadCapability.reject(e)}}})}()}},{key:"_abortOperatorList",value:function(e){var t=this,r=e.intentState,n=e.reason,a=e.force,i=void 0!==a&&a;if((0,_util.assert)(n instanceof Error||"object"===_typeof(n)&&null!==n,'PDFPageProxy._abortOperatorList: Expected "reason" argument.'),r.streamReader){if(!i){if(0<r.renderTasks.size)return;if(n instanceof _display_utils.RenderingCancelledException)return void(r.streamReaderCancelTimeout=setTimeout(function(){t._abortOperatorList({intentState:r,reason:n,force:!0}),r.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT))}if(r.streamReader.cancel(new _util.AbortException(null==n?void 0:n.message)),r.streamReader=null,!this._transport.destroyed){var o,s=_createForOfIteratorHelper(this._intentStates);try{for(s.s();!(o=s.n()).done;){var u=_slicedToArray(o.value,2),l=u[0];if(u[1]===r){this._intentStates.delete(l);break}}}catch(e){s.e(e)}finally{s.f()}this.cleanup()}}}},{key:"stats",get:function(){return this._stats}}]),i}();exports.PDFPageProxy=PDFPageProxy;var LoopbackPort=function(){function e(){_classCallCheck(this,e),this._listeners=[],this._deferred=Promise.resolve(void 0)}return _createClass(e,[{key:"postMessage",value:function(e,y){var r=this;var g=new WeakMap,n={data:function e(t){if("object"!==_typeof(t)||null===t)return t;if(g.has(t))return g.get(t);var r,n;if((r=t.buffer)&&(0,_util.isArrayBuffer)(r))return n=null!=y&&y.includes(r)?new t.constructor(r,t.byteOffset,t.byteLength):new t.constructor(t),g.set(t,n),n;if(t instanceof Map){n=new Map,g.set(t,n);var a,i=_createForOfIteratorHelper(t);try{for(i.s();!(a=i.n()).done;){var o=_slicedToArray(a.value,2),s=o[0],u=o[1];n.set(s,e(u))}}catch(e){i.e(e)}finally{i.f()}return n}if(t instanceof Set){n=new Set,g.set(t,n);var l,c=_createForOfIteratorHelper(t);try{for(c.s();!(l=c.n()).done;){var f=l.value;n.add(e(f))}}catch(e){c.e(e)}finally{c.f()}return n}for(var d in n=Array.isArray(t)?[]:{},g.set(t,n),t){for(var h,p=void 0,v=t;!(p=Object.getOwnPropertyDescriptor(v,d));)v=Object.getPrototypeOf(v);if(void 0!==p.value)if("function"!=typeof p.value)n[d]=e(p.value);else if(null!==(h=t.hasOwnProperty)&&void 0!==h&&h.call(t,d))throw new Error("LoopbackPort.postMessage - cannot clone: ".concat(t[d]))}return n}(e)};this._deferred.then(function(){var e,t=_createForOfIteratorHelper(r._listeners);try{for(t.s();!(e=t.n()).done;){e.value.call(r,n)}}catch(e){t.e(e)}finally{t.f()}})}},{key:"addEventListener",value:function(e,t){this._listeners.push(t)}},{key:"removeEventListener",value:function(e,t){var r=this._listeners.indexOf(t);this._listeners.splice(r,1)}},{key:"terminate",value:function(){this._listeners.length=0}}]),e}();exports.LoopbackPort=LoopbackPort;var PDFWorker=function PDFWorkerClosure(){var pdfWorkerPorts=new WeakMap,isWorkerDisabled=!1,fallbackWorkerSrc,nextFakeWorkerId=0,fakeWorkerCapability;if(_is_node.isNodeJS&&"function"==typeof require)isWorkerDisabled=!0,fallbackWorkerSrc="./pdf.worker.js";else if("object"===("undefined"==typeof document?"undefined":_typeof(document))&&"currentScript"in document){var _document$currentScri,pdfjsFilePath=null===(_document$currentScri=document.currentScript)||void 0===_document$currentScri?void 0:_document$currentScri.src;pdfjsFilePath&&(fallbackWorkerSrc=pdfjsFilePath.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}function _getWorkerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(void 0!==fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}function getMainThreadWorkerMessageHandler(){var e;try{var t;e=null===(t=globalThis.pdfjsWorker)||void 0===t?void 0:t.WorkerMessageHandler}catch(e){}return e||null}function setupFakeWorkerGlobal(){if(fakeWorkerCapability)return fakeWorkerCapability.promise;fakeWorkerCapability=(0,_util.createPromiseCapability)();var loader=function(){var _ref12=_asyncToGenerator(_regenerator.default.mark(function _callee(){var mainWorkerMessageHandler,worker;return _regenerator.default.wrap(function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(mainWorkerMessageHandler=getMainThreadWorkerMessageHandler(),mainWorkerMessageHandler)return _context.abrupt("return",mainWorkerMessageHandler);_context.next=3;break;case 3:if(_is_node.isNodeJS&&"function"==typeof require)return worker=eval("require")(_getWorkerSrc()),_context.abrupt("return",worker.WorkerMessageHandler);_context.next=6;break;case 6:return _context.next=8,(0,_display_utils.loadScript)(_getWorkerSrc());case 8:return _context.abrupt("return",window.pdfjsWorker.WorkerMessageHandler);case 9:case"end":return _context.stop()}},_callee)}));return function(){return _ref12.apply(this,arguments)}}();return loader().then(fakeWorkerCapability.resolve,fakeWorkerCapability.reject),fakeWorkerCapability.promise}function createCDNWrapper(e){var t="importScripts('"+e+"');";return URL.createObjectURL(new Blob([t]))}var PDFWorker=function(){function s(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.name,r=void 0===t?null:t,n=e.port,a=void 0===n?null:n,i=e.verbosity,o=void 0===i?(0,_util.getVerbosityLevel)():i;if(_classCallCheck(this,s),a&&pdfWorkerPorts.has(a))throw new Error("Cannot use more than one PDFWorker per port");if(this.name=r,this.destroyed=!1,this.postMessageTransfers=!0,this.verbosity=o,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,a)return pdfWorkerPorts.set(a,this),void this._initializeFromPort(a);this._initialize()}return _createClass(s,[{key:"promise",get:function(){return this._readyCapability.promise}},{key:"port",get:function(){return this._port}},{key:"messageHandler",get:function(){return this._messageHandler}},{key:"_initializeFromPort",value:function(e){this._port=e,this._messageHandler=new _message_handler.MessageHandler("main","worker",e),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}},{key:"_initialize",value:function(){var r=this;if("undefined"!=typeof Worker&&!isWorkerDisabled&&!getMainThreadWorkerMessageHandler()){var e=_getWorkerSrc();try{(0,_util.isSameOrigin)(window.location.href,e)||(e=createCDNWrapper(new URL(e,window.location).href));var t=new Worker(e),n=new _message_handler.MessageHandler("main","worker",t),a=function(){t.removeEventListener("error",i),n.destroy(),t.terminate(),r.destroyed?r._readyCapability.reject(new Error("Worker was destroyed")):r._setupFakeWorker()},i=function(){r._webWorker||a()};t.addEventListener("error",i),n.on("test",function(e){t.removeEventListener("error",i),r.destroyed?a():e?(r._messageHandler=n,r._port=t,r._webWorker=t,e.supportTransfers||(r.postMessageTransfers=!1),r._readyCapability.resolve(),n.send("configure",{verbosity:r.verbosity})):(r._setupFakeWorker(),n.destroy(),t.terminate())}),n.on("ready",function(e){if(t.removeEventListener("error",i),r.destroyed)a();else try{o()}catch(e){r._setupFakeWorker()}});var o=function(){var t=new Uint8Array([r.postMessageTransfers?255:0]);try{n.send("test",t,[t.buffer])}catch(e){(0,_util.warn)("Cannot use postMessage transfers."),t[0]=0,n.send("test",t)}};return void o()}catch(e){(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}},{key:"_setupFakeWorker",value:function(){var i=this;isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),isWorkerDisabled=!0),setupFakeWorkerGlobal().then(function(e){if(i.destroyed)i._readyCapability.reject(new Error("Worker was destroyed"));else{var t=new LoopbackPort;i._port=t;var r="fake"+nextFakeWorkerId++,n=new _message_handler.MessageHandler(r+"_worker",r,t);e.setup(n,t);var a=new _message_handler.MessageHandler(r,r+"_worker",t);i._messageHandler=a,i._readyCapability.resolve(),a.send("configure",{verbosity:i.verbosity})}}).catch(function(e){i._readyCapability.reject(new Error('Setting up fake worker failed: "'.concat(e.message,'".')))})}},{key:"destroy",value:function(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),pdfWorkerPorts.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}}],[{key:"fromPort",value:function(e){if(!e||!e.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return pdfWorkerPorts.has(e.port)?pdfWorkerPorts.get(e.port):new s(e)}},{key:"getWorkerSrc",value:function(){return _getWorkerSrc()}}]),s}();return PDFWorker}();exports.PDFWorker=PDFWorker;var WorkerTransport=function(){function a(e,t,r,n){_classCallCheck(this,a),this.messageHandler=e,this.loadingTask=t,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:t.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:n.ownerDocument}),this._params=n,this.CMapReaderFactory=new n.CMapReaderFactory({baseUrl:n.cMapUrl,isCompressed:n.cMapPacked}),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.pageCache=[],this.pagePromises=[],this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}var e;return _createClass(a,[{key:"loadingTaskSettled",get:function(){return this.loadingTask._capability.settled}},{key:"destroy",value:function(){var e=this;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));var t=[];this.pageCache.forEach(function(e){e&&t.push(e._destroy())}),this.pageCache.length=0,this.pagePromises.length=0;var r=this.messageHandler.sendWithPromise("Terminate",null);if(t.push(r),this.loadingTaskSettled){var n=this.loadingTask.promise.then(function(e){e.hasOwnProperty("annotationStorage")&&e.annotationStorage.resetModified()}).catch(function(){});t.push(n)}return Promise.all(t).then(function(){e.commonObjs.clear(),e.fontLoader.clear(),e._hasJSActionsPromise=null,e._networkStream&&e._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),e.messageHandler&&(e.messageHandler.destroy(),e.messageHandler=null),e.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}},{key:"setupMessageHandler",value:function(){var c=this,f=this.messageHandler,n=this.loadingTask;f.on("GetReader",function(e,r){(0,_util.assert)(c._networkStream,"GetReader - no `IPDFStream` instance available."),c._fullReader=c._networkStream.getFullReader(),c._fullReader.onProgress=function(e){c._lastProgress={loaded:e.loaded,total:e.total}},r.onPull=function(){c._fullReader.read().then(function(e){var t=e.value;e.done?r.close():((0,_util.assert)((0,_util.isArrayBuffer)(t),"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(t),1,[t]))}).catch(function(e){r.error(e)})},r.onCancel=function(e){c._fullReader.cancel(e),r.ready.catch(function(e){if(!c.destroyed)throw e})}}),f.on("ReaderHeadersReady",function(e){var t=(0,_util.createPromiseCapability)(),r=c._fullReader;return r.headersReady.then(function(){r.isStreamingSupported&&r.isRangeSupported||(c._lastProgress&&n.onProgress&&n.onProgress(c._lastProgress),r.onProgress=function(e){n.onProgress&&n.onProgress({loaded:e.loaded,total:e.total})}),t.resolve({isStreamingSupported:r.isStreamingSupported,isRangeSupported:r.isRangeSupported,contentLength:r.contentLength})},t.reject),t.promise}),f.on("GetRangeReader",function(e,r){(0,_util.assert)(c._networkStream,"GetRangeReader - no `IPDFStream` instance available.");var t=c._networkStream.getRangeReader(e.begin,e.end);t?(r.onPull=function(){t.read().then(function(e){var t=e.value;e.done?r.close():((0,_util.assert)((0,_util.isArrayBuffer)(t),"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(t),1,[t]))}).catch(function(e){r.error(e)})},r.onCancel=function(e){t.cancel(e),r.ready.catch(function(e){if(!c.destroyed)throw e})}):r.close()}),f.on("GetDoc",function(e){var t=e.pdfInfo;c._numPages=t.numPages,n._capability.resolve(new PDFDocumentProxy(t,c))}),f.on("DocException",function(e){var t;switch(e.name){case"PasswordException":t=new _util.PasswordException(e.message,e.code);break;case"InvalidPDFException":t=new _util.InvalidPDFException(e.message);break;case"MissingPDFException":t=new _util.MissingPDFException(e.message);break;case"UnexpectedResponseException":t=new _util.UnexpectedResponseException(e.message,e.status);break;case"UnknownErrorException":t=new _util.UnknownErrorException(e.message,e.details)}if(!(t instanceof Error)){(0,_util.warn)("DocException - expected a valid Error.")}n._capability.reject(t)}),f.on("PasswordRequest",function(e){if(c._passwordCapability=(0,_util.createPromiseCapability)(),n.onPassword){try{n.onPassword(function(e){c._passwordCapability.resolve({password:e})},e.code)}catch(e){c._passwordCapability.reject(e)}}else c._passwordCapability.reject(new _util.PasswordException(e.message,e.code));return c._passwordCapability.promise}),f.on("DataLoaded",function(e){n.onProgress&&n.onProgress({loaded:e.length,total:e.length}),c.downloadInfoCapability.resolve(e)}),f.on("StartRenderPage",function(e){c.destroyed||c.pageCache[e.pageIndex]._startRenderPage(e.transparency,e.intent)}),f.on("commonobj",function(e){var t;if(!c.destroyed){var r=_slicedToArray(e,3),n=r[0],a=r[1],i=r[2];if(!c.commonObjs.has(n))switch(a){case"Font":var o=c._params;if("error"in i){var s=i.error;(0,_util.warn)("Error during font loading: ".concat(s)),c.commonObjs.resolve(n,s);break}var u=null;o.pdfBug&&null!==(t=globalThis.FontInspector)&&void 0!==t&&t.enabled&&(u={registerFont:function(e,t){globalThis.FontInspector.fontAdded(e,t)}});var l=new _font_loader.FontFaceObject(i,{isEvalSupported:o.isEvalSupported,disableFontFace:o.disableFontFace,ignoreErrors:o.ignoreErrors,onUnsupportedFeature:c._onUnsupportedFeature.bind(c),fontRegistry:u});c.fontLoader.bind(l).catch(function(e){return f.sendWithPromise("FontFallback",{id:n})}).finally(function(){!o.fontExtraProperties&&l.data&&(l.data=null),c.commonObjs.resolve(n,l)});break;case"FontPath":case"Image":c.commonObjs.resolve(n,i);break;default:throw new Error("Got unknown common object type ".concat(a))}}}),f.on("obj",function(e){var t;if(!c.destroyed){var r=_slicedToArray(e,4),n=r[0],a=r[1],i=r[2],o=r[3],s=c.pageCache[a];if(!s.objs.has(n))switch(i){case"Image":s.objs.resolve(n,o);8e6<(null==o?void 0:null===(t=o.data)||void 0===t?void 0:t.length)&&(s.cleanupAfterRender=!0);break;default:throw new Error("Got unknown object type ".concat(i))}}}),f.on("DocProgress",function(e){c.destroyed||n.onProgress&&n.onProgress({loaded:e.loaded,total:e.total})}),f.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),f.on("FetchBuiltInCMap",function(e,t){if(c.destroyed)t.error(new Error("Worker was destroyed"));else{var r=!1;t.onPull=function(){r?t.close():(r=!0,c.CMapReaderFactory.fetch(e).then(function(e){t.enqueue(e,1,[e.cMapData.buffer])}).catch(function(e){t.error(e)}))}}})}},{key:"_onUnsupportedFeature",value:function(e){var t=e.featureId;this.destroyed||this.loadingTask.onUnsupportedFeature&&this.loadingTask.onUnsupportedFeature(t)}},{key:"getData",value:function(){return this.messageHandler.sendWithPromise("GetData",null)}},{key:"getPage",value:function(e){var r=this;if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request"));var n=e-1;if(n in this.pagePromises)return this.pagePromises[n];var t=this.messageHandler.sendWithPromise("GetPage",{pageIndex:n}).then(function(e){if(r.destroyed)throw new Error("Transport destroyed");var t=new PDFPageProxy(n,e,r,r._params.ownerDocument,r._params.pdfBug);return r.pageCache[n]=t});return this.pagePromises[n]=t}},{key:"getPageIndex",value:function(e){return this.messageHandler.sendWithPromise("GetPageIndex",{ref:e}).catch(function(e){return Promise.reject(new Error(e))})}},{key:"getAnnotations",value:function(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}},{key:"saveDocument",value:function(e){var t,r;return this.messageHandler.sendWithPromise("SaveDocument",{numPages:this._numPages,annotationStorage:(null==e?void 0:e.serializable)||null,filename:null!==(t=null===(r=this._fullReader)||void 0===r?void 0:r.filename)&&void 0!==t?t:null}).finally(function(){e&&e.resetModified()})}},{key:"getFieldObjects",value:function(){return this.messageHandler.sendWithPromise("GetFieldObjects",null)}},{key:"hasJSActions",value:function(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}},{key:"getCalculationOrderIds",value:function(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}},{key:"getDestinations",value:function(){return this.messageHandler.sendWithPromise("GetDestinations",null)}},{key:"getDestination",value:function(e){return"string"!=typeof e?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}},{key:"getPageLabels",value:function(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}},{key:"getPageLayout",value:function(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}},{key:"getPageMode",value:function(){return this.messageHandler.sendWithPromise("GetPageMode",null)}},{key:"getViewerPreferences",value:function(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}},{key:"getOpenAction",value:function(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}},{key:"getAttachments",value:function(){return this.messageHandler.sendWithPromise("GetAttachments",null)}},{key:"getJavaScript",value:function(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}},{key:"getDocJSActions",value:function(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}},{key:"getPageJSActions",value:function(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}},{key:"getPageXfa",value:function(e){return this.messageHandler.sendWithPromise("GetPageXfa",{pageIndex:e})}},{key:"getOutline",value:function(){return this.messageHandler.sendWithPromise("GetOutline",null)}},{key:"getOptionalContentConfig",value:function(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(function(e){return new _optional_content_config.OptionalContentConfig(e)})}},{key:"getPermissions",value:function(){return this.messageHandler.sendWithPromise("GetPermissions",null)}},{key:"getMetadata",value:function(){var i=this;return this.messageHandler.sendWithPromise("GetMetadata",null).then(function(e){var t,r,n,a;return{info:e[0],metadata:e[1]?new _metadata.Metadata(e[1]):null,contentDispositionFilename:null!==(t=null===(r=i._fullReader)||void 0===r?void 0:r.filename)&&void 0!==t?t:null,contentLength:null!==(n=null===(a=i._fullReader)||void 0===a?void 0:a.contentLength)&&void 0!==n?n:null}})}},{key:"getMarkInfo",value:function(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}},{key:"getStats",value:function(){return this.messageHandler.sendWithPromise("GetStats",null)}},{key:"startCleanup",value:(e=_asyncToGenerator(_regenerator.default.mark(function e(){var t,r,n,a,i=arguments;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<i.length&&void 0!==i[0]&&i[0],e.next=3,this.messageHandler.sendWithPromise("Cleanup",null);case 3:if(this.destroyed)return e.abrupt("return");e.next=5;break;case 5:r=0,n=this.pageCache.length;case 6:if(!(r<n)){e.next=16;break}if(a=this.pageCache[r]){e.next=10;break}return e.abrupt("continue",13);case 10:if(a.cleanup()){e.next=13;break}throw new Error("startCleanup: Page ".concat(r+1," is currently rendering."));case 13:r++,e.next=6;break;case 16:this.commonObjs.clear(),t||this.fontLoader.clear(),this._hasJSActionsPromise=null;case 19:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"loadingParams",get:function(){var e=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:e.disableAutoFetch,disableFontFace:e.disableFontFace})}}]),a}(),PDFObjects=function(){function e(){_classCallCheck(this,e),this._objs=Object.create(null)}return _createClass(e,[{key:"_ensureObj",value:function(e){return this._objs[e]?this._objs[e]:this._objs[e]={capability:(0,_util.createPromiseCapability)(),data:null,resolved:!1}}},{key:"get",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;if(t)return this._ensureObj(e).capability.promise.then(t),null;var r=this._objs[e];if(!r||!r.resolved)throw new Error("Requesting object that isn't resolved yet ".concat(e,"."));return r.data}},{key:"has",value:function(e){var t=this._objs[e];return(null==t?void 0:t.resolved)||!1}},{key:"resolve",value:function(e,t){var r=this._ensureObj(e);r.resolved=!0,r.data=t,r.capability.resolve(t)}},{key:"clear",value:function(){this._objs=Object.create(null)}}]),e}(),RenderTask=function(){function t(e){_classCallCheck(this,t),this._internalRenderTask=e,this.onContinue=null}return _createClass(t,[{key:"promise",get:function(){return this._internalRenderTask.capability.promise}},{key:"cancel",value:function(){this._internalRenderTask.cancel()}}]),t}(),InternalRenderTask=(Fka=new WeakSet,function(){function h(e){var t=e.callback,r=e.params,n=e.objs,a=e.commonObjs,i=e.operatorList,o=e.pageIndex,s=e.canvasFactory,u=e.webGLContext,l=e.useRequestAnimationFrame,c=void 0!==l&&l,f=e.pdfBug,d=void 0!==f&&f;_classCallCheck(this,h),this.callback=t,this.params=r,this.objs=n,this.commonObjs=a,this.operatorListIdx=null,this.operatorList=i,this._pageIndex=o,this.canvasFactory=s,this.webGLContext=u,this._pdfBug=d,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===c&&"undefined"!=typeof window,this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=r.canvasContext.canvas}var e;return _createClass(h,[{key:"completed",get:function(){return this.capability.promise.catch(function(){})}},{key:"initializeGraphics",value:function(e){var t,r=e.transparency,n=void 0!==r&&r,a=e.optionalContentConfig;if(!this.cancelled){if(this._canvas){if(Fka.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Fka.add(this._canvas)}this._pdfBug&&null!==(t=globalThis.StepperManager)&&void 0!==t&&t.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());var i=this.params,o=i.canvasContext,s=i.viewport,u=i.transform,l=i.imageLayer,c=i.background;this.gfx=new _canvas.CanvasGraphics(o,this.commonObjs,this.objs,this.canvasFactory,this.webGLContext,l,a),this.gfx.beginDrawing({transform:u,viewport:s,transparency:n,background:c}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}}},{key:"cancel",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&Fka.delete(this._canvas),this.callback(e||new _display_utils.RenderingCancelledException("Rendering cancelled, page ".concat(this._pageIndex+1),"canvas"))}},{key:"operatorListChanged",value:function(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),this.running||this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}},{key:"_continue",value:function(){this.running=!0,this.cancelled||(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}},{key:"_scheduleNext",value:function(){var e=this;this._useRequestAnimationFrame?window.requestAnimationFrame(function(){e._nextBound().catch(e._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}},{key:"_next",value:(e=_asyncToGenerator(_regenerator.default.mark(function e(){return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.cancelled)return e.abrupt("return");e.next=2;break;case 2:this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&Fka.delete(this._canvas),this.callback()));case 4:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})}]),h}()),Fka,version="2.8.335";exports.version=version;var build="228adbf67";exports.build=build},function(e,t,r){function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.FontLoader=t.FontFaceObject=void 0;var n,o=(n=r(2))&&n.__esModule?n:{default:n},b=r(4);function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(i){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,r,n=u(i);if(o){var a=u(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return t=this,!(r=e)||"object"!==s(r)&&"function"!=typeof r?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):r}}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t,r,n,a,i,o){try{var s=e[i](o),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,a)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e,t,r){return t&&c(e.prototype,t),r&&c(e,r),e}var d,p=function(){function i(e){var t=e.docId,r=e.onUnsupportedFeature,n=e.ownerDocument,a=void 0===n?globalThis.document:n;h(this,i),this.constructor===i&&(0,b.unreachable)("Cannot initialize BaseFontLoader."),this.docId=t,this._onUnsupportedFeature=r,this._document=a,this.nativeFontFaces=[],this.styleElement=null}var s,t;return f(i,[{key:"addNativeFontFace",value:function(e){this.nativeFontFaces.push(e),this._document.fonts.add(e)}},{key:"insertRule",value:function(e){var t=this.styleElement;t||((t=this.styleElement=this._document.createElement("style")).id="PDFJS_FONT_STYLE_TAG_".concat(this.docId),this._document.documentElement.getElementsByTagName("head")[0].appendChild(t));var r=t.sheet;r.insertRule(e,r.cssRules.length)}},{key:"clear",value:function(){var t=this;this.nativeFontFaces.forEach(function(e){t._document.fonts.delete(e)}),this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}},{key:"bind",value:(s=o.default.mark(function e(r){var t,n,a=this;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r.attached||r.missingFile)return e.abrupt("return");e.next=2;break;case 2:if(r.attached=!0,!this.isFontLoadingAPISupported){e.next=19;break}if(t=r.createNativeFontFace())return this.addNativeFontFace(t),e.prev=7,e.next=10,t.loaded;e.next=18;break;case 10:e.next=18;break;case 12:throw e.prev=12,e.t0=e.catch(7),this._onUnsupportedFeature({featureId:b.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,b.warn)("Failed to load font '".concat(t.family,"': '").concat(e.t0,"'.")),r.disableFontFace=!0,e.t0;case 18:return e.abrupt("return");case 19:if(!(n=r.createFontFaceRule())){e.next=26;break}if(this.insertRule(n),this.isSyncFontLoadingSupported)return e.abrupt("return");e.next=24;break;case 24:return e.next=26,new Promise(function(e){var t=a._queueLoadingCallback(e);a._prepareFontLoadEvent([n],[r],t)});case 26:case"end":return e.stop()}},e,this,[[7,12]])}),t=function(){var e=this,o=arguments;return new Promise(function(t,r){var n=s.apply(e,o);function a(e){l(n,t,r,a,i,"next",e)}function i(e){l(n,t,r,a,i,"throw",e)}a(void 0)})},function(e){return t.apply(this,arguments)})},{key:"_queueLoadingCallback",value:function(e){(0,b.unreachable)("Abstract method `_queueLoadingCallback`.")}},{key:"isFontLoadingAPISupported",get:function(){var e;return(0,b.shadow)(this,"isFontLoadingAPISupported",!(null===(e=this._document)||void 0===e||!e.fonts))}},{key:"isSyncFontLoadingSupported",get:function(){(0,b.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}},{key:"_loadTestFont",get:function(){(0,b.unreachable)("Abstract method `_loadTestFont`.")}},{key:"_prepareFontLoadEvent",value:function(e,t,r){(0,b.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}]),i}();t.FontLoader=d,t.FontLoader=d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(n,p);var r=i(n);function n(e){var t;return h(this,n),(t=r.call(this,e)).loadingContext={requests:[],nextRequestId:0},t.loadTestFontId=0,t}return f(n,[{key:"isSyncFontLoadingSupported",get:function(){var e=!1;if("undefined"==typeof navigator)e=!0;else{var t=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);14<=(null==t?void 0:t[1])&&(e=!0)}return(0,b.shadow)(this,"isSyncFontLoadingSupported",e)}},{key:"_queueLoadingCallback",value:function(e){var t=this.loadingContext,r={id:"pdfjs-font-loading-".concat(t.nextRequestId++),done:!1,complete:function(){for((0,b.assert)(!r.done,"completeRequest() cannot be called twice."),r.done=!0;0<t.requests.length&&t.requests[0].done;){var e=t.requests.shift();setTimeout(e.callback,0)}},callback:e};return t.requests.push(r),r}},{key:"_loadTestFont",get:function(){return(0,b.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}},{key:"_prepareFontLoadEvent",value:function(e,t,r){var n,a,i=this;function o(e,t){return e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|255&e.charCodeAt(t+3)}function s(e,t,r,n){return e.substring(0,t)+n+e.substring(t+r)}var u=this._document.createElement("canvas");u.width=1,u.height=1;var l=u.getContext("2d"),c=0;var f="lt".concat(Date.now()).concat(this.loadTestFontId++),d=this._loadTestFont,h=o(d=s(d,976,f.length,f),16);for(n=0,a=f.length-3;n<a;n+=4)h=h-1482184792+o(f,n)|0;n<f.length&&(h=h-1482184792+o(f+"XXX",n)|0),d=s(d,16,4,(0,b.string32)(h));var p="url(data:font/opentype;base64,".concat(btoa(d),");"),v='@font-face {font-family:"'.concat(f,'";src:').concat(p,"}");this.insertRule(v);var y=[];for(n=0,a=t.length;n<a;n++)y.push(t[n].loadedName);y.push(f);var g=this._document.createElement("div");for(g.style.visibility="hidden",g.style.width=g.style.height="10px",g.style.position="absolute",g.style.top=g.style.left="0px",n=0,a=y.length;n<a;++n){var m=this._document.createElement("span");m.textContent="Hi",m.style.fontFamily=y[n],g.appendChild(m)}this._document.body.appendChild(g),function e(t,r){if(30<++c)return(0,b.warn)("Load test font never loaded."),void r();l.font="30px "+t,l.fillText(".",0,20),0<l.getImageData(0,0,1,1).data[3]?r():setTimeout(e.bind(null,t,r))}(f,function(){i._document.body.removeChild(g),r.complete()})}}]),n}();var v=function(){function d(e,t){var r=t.isEvalSupported,n=void 0===r||r,a=t.disableFontFace,i=void 0!==a&&a,o=t.ignoreErrors,s=void 0!==o&&o,u=t.onUnsupportedFeature,l=t.fontRegistry,c=void 0===l?null:l;for(var f in h(this,d),this.compiledGlyphs=Object.create(null),e)this[f]=e[f];this.isEvalSupported=!1!==n,this.disableFontFace=!0===i,this.ignoreErrors=!0===s,this._onUnsupportedFeature=u,this.fontRegistry=c}return f(d,[{key:"createNativeFontFace",value:function(){if(!this.data||this.disableFontFace)return null;var e=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),e}},{key:"createFontFaceRule",value:function(){if(!this.data||this.disableFontFace)return null;var e=(0,b.bytesToString)(new Uint8Array(this.data)),t="url(data:".concat(this.mimetype,";base64,").concat(btoa(e),");"),r='@font-face {font-family:"'.concat(this.loadedName,'";src:').concat(t,"}");return this.fontRegistry&&this.fontRegistry.registerFont(this,t),r}},{key:"getPathGenerator",value:function(e,t){if(void 0!==this.compiledGlyphs[t])return this.compiledGlyphs[t];var a,i;try{a=e.get(this.loadedName+"_path_"+t)}catch(e){if(!this.ignoreErrors)throw e;return this._onUnsupportedFeature({featureId:b.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,b.warn)('getPathGenerator - ignoring character: "'.concat(e,'".')),this.compiledGlyphs[t]=function(e,t){}}if(this.isEvalSupported&&b.IsEvalSupportedCached.value){for(var r,n="",o=0,s=a.length;o<s;o++)r=void 0!==(i=a[o]).args?i.args.join(","):"",n+="c."+i.cmd+"("+r+");\n";return this.compiledGlyphs[t]=new Function("c","size",n)}return this.compiledGlyphs[t]=function(e,t){for(var r=0,n=a.length;r<n;r++)"scale"===(i=a[r]).cmd&&(i.args=[t,-t]),e[i.cmd].apply(e,i.args)}}}]),d}();t.FontFaceObject=v},function(e,t,r){function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.NodeCMapReaderFactory=t.NodeCanvasFactory=void 0;var n=r(1),a=r(6),i=r(4);function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(i){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,r,n=d(i);if(o){var a=d(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return t=this,!(r=e)||"object"!==s(r)&&"function"!=typeof r?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):r}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var p=function e(){h(this,e),(0,i.unreachable)("Not implemented: NodeCanvasFactory")};t.NodeCanvasFactory=p;var v=function e(){h(this,e),(0,i.unreachable)("Not implemented: NodeCMapReaderFactory")};t.NodeCMapReaderFactory=v,a.isNodeJS&&(t.NodeCanvasFactory=p=function(e){l(r,n.BaseCanvasFactory);var t=f(r);function r(){return h(this,r),t.apply(this,arguments)}return u(r,[{key:"create",value:function(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");var r=require("canvas").createCanvas(e,t);return{canvas:r,context:r.getContext("2d")}}}]),r}(),t.NodeCMapReaderFactory=v=function(e){l(r,n.BaseCMapReaderFactory);var t=f(r);function r(){return h(this,r),t.apply(this,arguments)}return u(r,[{key:"_fetchData",value:function(e,a){return new Promise(function(r,n){require("fs").readFile(e,function(e,t){!e&&t?r({cMapData:new Uint8Array(t),compressionType:a}):n(new Error(e))})})}}]),r}())},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationStorage=void 0;var a=r(1),i=r(4);function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null}var t,r,n;return t=e,(r=[{key:"getValue",value:function(e,t){var r=this._storage.get(e);return void 0!==r?r:t}},{key:"getOrCreateValue",value:function(e,t){return(0,a.deprecated)("Use getValue instead."),this._storage.has(e)?this._storage.get(e):(this._storage.set(e,t),t)}},{key:"setValue",value:function(e,t){var r=this._storage.get(e),n=!1;if(void 0!==r)for(var a=0,i=Object.entries(t);a<i.length;a++){var o=l(i[a],2),s=o[0],u=o[1];r[s]!==u&&(n=!0,r[s]=u)}else this._storage.set(e,t),n=!0;n&&this._setModified()}},{key:"getAll",value:function(){return 0<this._storage.size?(0,i.objectFromMap)(this._storage):null}},{key:"size",get:function(){return this._storage.size}},{key:"_setModified",value:function(){this._modified||(this._modified=!0,"function"==typeof this.onSetModified&&this.onSetModified())}},{key:"resetModified",value:function(){this._modified&&(this._modified=!1,"function"==typeof this.onResetModified&&this.onResetModified())}},{key:"serializable",get:function(){return 0<this._storage.size?this._storage:null}}])&&o(t.prototype,r),n&&o(t,n),e}();t.AnnotationStorage=s},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.apiCompatibilityParams=void 0;var n=r(6),a=Object.create(null);n.isNodeJS&&(a.disableFontFace=!0);var i=Object.freeze(a);t.apiCompatibilityParams=i},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasGraphics=void 0;var q=r(4),_=r(131);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw i}}}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var n=1.000001;function s(s){if(!s.mozCurrentTransform){s._originalSave=s.save,s._originalRestore=s.restore,s._originalRotate=s.rotate,s._originalScale=s.scale,s._originalTranslate=s.translate,s._originalTransform=s.transform,s._originalSetTransform=s.setTransform,s._originalResetTransform=s.resetTransform,s._transformMatrix=s._transformMatrix||[1,0,0,1,0,0],s._transformStack=[];try{var e=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(s),"lineWidth");s._setLineWidth=e.set,s._getLineWidth=e.get,Object.defineProperty(s,"lineWidth",{set:function(e){this._setLineWidth(e*n)},get:function(){return this._getLineWidth()}})}catch(e){}Object.defineProperty(s,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(s,"mozCurrentTransformInverse",{get:function(){var e=this._transformMatrix,t=e[0],r=e[1],n=e[2],a=e[3],i=e[4],o=e[5],s=t*a-r*n,u=r*n-t*a;return[a/s,r/u,n/u,t/s,(a*i-n*o)/u,(r*i-t*o)/s]}}),s.save=function(){var e=this._transformMatrix;this._transformStack.push(e),this._transformMatrix=e.slice(0,6),this._originalSave()},s.restore=function(){var e=this._transformStack.pop();e&&(this._transformMatrix=e,this._originalRestore())},s.translate=function(e,t){var r=this._transformMatrix;r[4]=r[0]*e+r[2]*t+r[4],r[5]=r[1]*e+r[3]*t+r[5],this._originalTranslate(e,t)},s.scale=function(e,t){var r=this._transformMatrix;r[0]=r[0]*e,r[1]=r[1]*e,r[2]=r[2]*t,r[3]=r[3]*t,this._originalScale(e,t)},s.transform=function(e,t,r,n,a,i){var o=this._transformMatrix;this._transformMatrix=[o[0]*e+o[2]*t,o[1]*e+o[3]*t,o[0]*r+o[2]*n,o[1]*r+o[3]*n,o[0]*a+o[2]*i+o[4],o[1]*a+o[3]*i+o[5]],s._originalTransform(e,t,r,n,a,i)},s.setTransform=function(e,t,r,n,a,i){this._transformMatrix=[e,t,r,n,a,i],s._originalSetTransform(e,t,r,n,a,i)},s.resetTransform=function(){this._transformMatrix=[1,0,0,1,0,0],s._originalResetTransform()},s.rotate=function(e){var t=Math.cos(e),r=Math.sin(e),n=this._transformMatrix;this._transformMatrix=[n[0]*t+n[2]*r,n[1]*t+n[3]*r,n[0]*-r+n[2]*t,n[1]*-r+n[3]*t,n[4],n[5]],this._originalRotate(e)}}}var f=function(){function e(e){this.canvasFactory=e,this.cache=Object.create(null)}return e.prototype={getCanvas:function(e,t,r,n){var a;return void 0!==this.cache[e]?(a=this.cache[e],this.canvasFactory.reset(a,t,r),a.context.setTransform(1,0,0,1,0,0)):(a=this.canvasFactory.create(t,r),this.cache[e]=a),n&&s(a.context),a},clear:function(){for(var e in this.cache){var t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}},e}();var d=function(){function e(){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=q.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=q.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=q.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.resumeSMaskCtx=null,this.transferMaps=null}return e.prototype={clone:function(){return Object.create(this)},setCurrentPoint:function(e,t){this.x=e,this.y=t}},e}(),a=function(){function o(e,t,r,n,a,i,o){this.ctx=e,this.current=new d,this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=r,this.canvasFactory=n,this.webGLContext=a,this.imageLayer=i,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=o,this.cachedCanvases=new f(this.canvasFactory),e&&s(e),this._cachedGetSinglePixelWidth=null}function y(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if("undefined"!=typeof ImageData&&t instanceof ImageData)e.putImageData(t,0,0);else{var n,a,i,o,s,u,l,c,f,d=t.height,h=t.width,p=d%16,v=(d-p)/16,y=0===p?v:v+1,g=e.createImageData(h,16),m=0,b=t.data,_=g.data;if(r)switch(r.length){case 1:u=r[0],l=r[0],c=r[0],f=r[0];break;case 4:u=r[0],l=r[1],c=r[2],f=r[3]}if(t.kind===q.ImageKind.GRAYSCALE_1BPP){var A=b.byteLength,S=new Uint32Array(_.buffer,0,_.byteLength>>2),w=S.length,k=h+7>>3,x=4294967295,C=q.IsLittleEndianCached.value?4278190080:255;if(f&&255===f[0]&&0===f[255]){var P=[C,x];x=P[0],C=P[1]}for(a=0;a<y;a++){for(o=a<v?16:p,i=n=0;i<o;i++){for(var T=A-m,R=0,E=k<T?h:8*T-7,O=-8&E,F=0,L=0;R<O;R+=8)L=b[m++],S[n++]=128&L?x:C,S[n++]=64&L?x:C,S[n++]=32&L?x:C,S[n++]=16&L?x:C,S[n++]=8&L?x:C,S[n++]=4&L?x:C,S[n++]=2&L?x:C,S[n++]=1&L?x:C;for(;R<E;R++)0===F&&(L=b[m++],F=128),S[n++]=L&F?x:C,F>>=1}for(;n<w;)S[n++]=0;e.putImageData(g,0,16*a)}}else if(t.kind===q.ImageKind.RGBA_32BPP){var M=!!(u||l||c);for(s=16*h*4,a=i=0;a<v;a++){if(_.set(b.subarray(m,m+s)),m+=s,M)for(var I=0;I<s;I+=4)u&&(_[I+0]=u[_[I+0]]),l&&(_[I+1]=l[_[I+1]]),c&&(_[I+2]=c[_[I+2]]);e.putImageData(g,0,i),i+=16}if(a<y){if(s=h*p*4,_.set(b.subarray(m,m+s)),M)for(var j=0;j<s;j+=4)u&&(_[j+0]=u[_[j+0]]),l&&(_[j+1]=l[_[j+1]]),c&&(_[j+2]=c[_[j+2]]);e.putImageData(g,0,i)}}else{if(t.kind!==q.ImageKind.RGB_24BPP)throw new Error("bad image kind: ".concat(t.kind));var D=!!(u||l||c);for(s=h*(o=16),a=0;a<y;a++){for(v<=a&&(s=h*(o=p)),n=0,i=s;i--;)_[n++]=b[m++],_[n++]=b[m++],_[n++]=b[m++],_[n++]=255;if(D)for(var N=0;N<n;N+=4)u&&(_[N+0]=u[_[N+0]]),l&&(_[N+1]=l[_[N+1]]),c&&(_[N+2]=c[_[N+2]]);e.putImageData(g,0,16*a)}}}}function v(e,t){for(var r=t.height,n=t.width,a=r%16,i=(r-a)/16,o=0===a?i:i+1,s=e.createImageData(n,16),u=0,l=t.data,c=s.data,f=0;f<o;f++){for(var d=f<i?16:a,h=3,p=0;p<d;p++)for(var v=void 0,y=0,g=0;g<n;g++)y||(v=l[u++],y=128),c[h]=v&y?0:255,h+=4,y>>=1;e.putImageData(s,0,16*f)}}function p(e,t){for(var r=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"],n=0,a=r.length;n<a;n++){var i=r[n];void 0!==e[i]&&(t[i]=e[i])}void 0!==e.setLineDash&&(t.setLineDash(e.getLineDash()),t.lineDashOffset=e.lineDashOffset)}function c(e){e.strokeStyle="#000000",e.fillStyle="#000000",e.fillRule="nonzero",e.globalAlpha=1,e.lineWidth=1,e.lineCap="butt",e.lineJoin="miter",e.miterLimit=10,e.globalCompositeOperation="source-over",e.font="10px sans-serif",void 0!==e.setLineDash&&(e.setLineDash([]),e.lineDashOffset=0)}function g(e,t,r,n){for(var a=e.length,i=3;i<a;i+=4){var o=e[i];if(0===o)e[i-3]=t,e[i-2]=r,e[i-1]=n;else if(o<255){var s=255-o;e[i-3]=e[i-3]*o+t*s>>8,e[i-2]=e[i-2]*o+r*s>>8,e[i-1]=e[i-1]*o+n*s>>8}}}function m(e,t,r){for(var n=e.length,a=3;a<n;a+=4){var i=r?r[e[a]]:e[a];t[a]=t[a]*i*(1/255)|0}}function b(e,t,r){for(var n=e.length,a=3;a<n;a+=4){var i=77*e[a-3]+152*e[a-2]+28*e[a-1];t[a]=r?t[a]*r[i>>8]>>8:t[a]*i>>16}}function r(e,t,r,n){var a=t.canvas,i=t.context;e.setTransform(t.scaleX,0,0,t.scaleY,t.offsetX,t.offsetY);var o=t.backdrop||null;if(!t.transferMap&&n.isEnabled){var s=n.composeSMask({layer:r.canvas,mask:a,properties:{subtype:t.subtype,backdrop:o}});return e.setTransform(1,0,0,1,0,0),void e.drawImage(s,t.offsetX,t.offsetY)}!function(e,t,r,n,a,i,o){var s,u=!!i,l=u?i[0]:0,c=u?i[1]:0,f=u?i[2]:0;s="Luminosity"===a?b:m;for(var d=Math.min(n,Math.ceil(1048576/r)),h=0;h<n;h+=d){var p=Math.min(d,n-h),v=e.getImageData(0,h,r,p),y=t.getImageData(0,h,r,p);u&&g(v.data,l,c,f),s(v.data,y.data,o),e.putImageData(y,0,h)}}(i,r,a.width,a.height,t.subtype,o,t.transferMap),e.drawImage(a,0,0)}var t=["butt","round","square"],n=["miter","round","bevel"],e={},a={};for(var i in o.prototype={beginDrawing:function(e){var t=e.transform,r=e.viewport,n=e.transparency,a=void 0!==n&&n,i=e.background,o=void 0===i?null:i,s=this.ctx.canvas.width,u=this.ctx.canvas.height;if(this.ctx.save(),this.ctx.fillStyle=o||"rgb(255, 255, 255)",this.ctx.fillRect(0,0,s,u),this.ctx.restore(),a){var l=this.cachedCanvases.getCanvas("transparent",s,u,!0);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),c(this.ctx),t&&this.ctx.transform.apply(this.ctx,t),this.ctx.transform.apply(this.ctx,r.transform),this.baseTransform=this.ctx.mozCurrentTransform.slice(),this._combinedScaleFactor=Math.hypot(this.baseTransform[0],this.baseTransform[2]),this.imageLayer&&this.imageLayer.beginLayout()},executeOperatorList:function(e,t,r,n){var a=e.argsArray,i=e.fnArray,o=t||0,s=a.length;if(s===o)return o;for(var u,l=10<s-o&&"function"==typeof r,c=l?Date.now()+15:0,f=0,d=this.commonObjs,h=this.objs;;){if(void 0!==n&&o===n.nextBreakPoint)return n.breakIt(o,r),o;if((u=i[o])!==q.OPS.dependency)this[u].apply(this,a[o]);else{var p,v=A(a[o]);try{for(v.s();!(p=v.n()).done;){var y=p.value,g=y.startsWith("g_")?d:h;if(!g.has(y))return g.get(y,r),o}}catch(e){v.e(e)}finally{v.f()}}if(++o===s)return o;if(l&&10<++f){if(Date.now()>c)return r(),o;f=0}}},endDrawing:function(){for(;this.stateStack.length||null!==this.current.activeSMask;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.webGLContext.clear(),this.imageLayer&&this.imageLayer.endLayout()},setLineWidth:function(e){this.current.lineWidth=e,this.ctx.lineWidth=e},setLineCap:function(e){this.ctx.lineCap=t[e]},setLineJoin:function(e){this.ctx.lineJoin=n[e]},setMiterLimit:function(e){this.ctx.miterLimit=e},setDash:function(e,t){var r=this.ctx;void 0!==r.setLineDash&&(r.setLineDash(e),r.lineDashOffset=t)},setRenderingIntent:function(e){},setFlatness:function(e){},setGState:function(e){for(var t=0,r=e.length;t<r;t++){var n=e[t],a=n[0],i=n[1];switch(a){case"LW":this.setLineWidth(i);break;case"LC":this.setLineCap(i);break;case"LJ":this.setLineJoin(i);break;case"ML":this.setMiterLimit(i);break;case"D":this.setDash(i[0],i[1]);break;case"RI":this.setRenderingIntent(i);break;case"FL":this.setFlatness(i);break;case"Font":this.setFont(i[0],i[1]);break;case"CA":this.current.strokeAlpha=n[1];break;case"ca":this.current.fillAlpha=n[1],this.ctx.globalAlpha=n[1];break;case"BM":this.ctx.globalCompositeOperation=i;break;case"SMask":this.current.activeSMask&&(0<this.stateStack.length&&this.stateStack[this.stateStack.length-1].activeSMask===this.current.activeSMask?this.suspendSMaskGroup():this.endSMaskGroup()),this.current.activeSMask=i?this.tempSMask:null,this.current.activeSMask&&this.beginSMaskGroup(),this.tempSMask=null;break;case"TR":this.current.transferMaps=i}}},beginSMaskGroup:function(){var e=this.current.activeSMask,t=e.canvas.width,r=e.canvas.height,n="smaskGroupAt"+this.groupLevel,a=this.cachedCanvases.getCanvas(n,t,r,!0),i=this.ctx,o=i.mozCurrentTransform;this.ctx.save();var s=a.context;s.scale(1/e.scaleX,1/e.scaleY),s.translate(-e.offsetX,-e.offsetY),s.transform.apply(s,o),e.startTransformInverse=s.mozCurrentTransformInverse,p(i,s),this.ctx=s,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(i),this.groupLevel++},suspendSMaskGroup:function(){var e=this.ctx;this.groupLevel--,this.ctx=this.groupStack.pop(),r(this.ctx,this.current.activeSMask,e,this.webGLContext),this.ctx.restore(),this.ctx.save(),p(e,this.ctx),this.current.resumeSMaskCtx=e;var t=q.Util.transform(this.current.activeSMask.startTransformInverse,e.mozCurrentTransform);this.ctx.transform.apply(this.ctx,t),e.save(),e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,e.canvas.width,e.canvas.height),e.restore()},resumeSMaskGroup:function(){var e=this.current.resumeSMaskCtx,t=this.ctx;this.ctx=e,this.groupStack.push(t),this.groupLevel++},endSMaskGroup:function(){var e=this.ctx;this.groupLevel--,this.ctx=this.groupStack.pop(),r(this.ctx,this.current.activeSMask,e,this.webGLContext),this.ctx.restore(),p(e,this.ctx);var t=q.Util.transform(this.current.activeSMask.startTransformInverse,e.mozCurrentTransform);this.ctx.transform.apply(this.ctx,t)},save:function(){this.ctx.save();var e=this.current;this.stateStack.push(e),this.current=e.clone(),this.current.resumeSMaskCtx=null},restore:function(){this.current.resumeSMaskCtx&&this.resumeSMaskGroup(),null===this.current.activeSMask||0!==this.stateStack.length&&this.stateStack[this.stateStack.length-1].activeSMask===this.current.activeSMask||this.endSMaskGroup(),0!==this.stateStack.length?(this.current=this.stateStack.pop(),this.ctx.restore(),this.pendingClip=null,this._cachedGetSinglePixelWidth=null):this.current.activeSMask=null},transform:function(e,t,r,n,a,i){this.ctx.transform(e,t,r,n,a,i),this._cachedGetSinglePixelWidth=null},constructPath:function(e,t){for(var r=this.ctx,n=this.current,a=n.x,i=n.y,o=0,s=0,u=e.length;o<u;o++)switch(0|e[o]){case q.OPS.rectangle:a=t[s++],i=t[s++];var l=t[s++],c=t[s++],f=a+l,d=i+c;r.moveTo(a,i),0===l||0===c?r.lineTo(f,d):(r.lineTo(f,i),r.lineTo(f,d),r.lineTo(a,d)),r.closePath();break;case q.OPS.moveTo:a=t[s++],i=t[s++],r.moveTo(a,i);break;case q.OPS.lineTo:a=t[s++],i=t[s++],r.lineTo(a,i);break;case q.OPS.curveTo:a=t[s+4],i=t[s+5],r.bezierCurveTo(t[s],t[s+1],t[s+2],t[s+3],a,i),s+=6;break;case q.OPS.curveTo2:r.bezierCurveTo(a,i,t[s],t[s+1],t[s+2],t[s+3]),a=t[s+2],i=t[s+3],s+=4;break;case q.OPS.curveTo3:a=t[s+2],i=t[s+3],r.bezierCurveTo(t[s],t[s+1],a,i,a,i),s+=4;break;case q.OPS.closePath:r.closePath()}n.setCurrentPoint(a,i)},closePath:function(){this.ctx.closePath()},stroke:function(e){e=void 0===e||e;var t=this.ctx,r=this.current.strokeColor;if(t.globalAlpha=this.current.strokeAlpha,this.contentVisible)if("object"===u(r)&&null!=r&&r.getPattern){t.save();var n=t.mozCurrentTransform,a=q.Util.singularValueDecompose2dScale(n)[0];t.strokeStyle=r.getPattern(t,this);var i=this.getSinglePixelWidth(),o=this.current.lineWidth*a;i<0&&o<=-i?(t.resetTransform(),t.lineWidth=Math.round(this._combinedScaleFactor)):t.lineWidth=Math.max(i,o),t.stroke(),t.restore()}else{var s=this.getSinglePixelWidth();s<0&&-s>=this.current.lineWidth?(t.save(),t.resetTransform(),t.lineWidth=Math.round(this._combinedScaleFactor),t.stroke(),t.restore()):(t.lineWidth=Math.max(s,this.current.lineWidth),t.stroke())}e&&this.consumePath(),t.globalAlpha=this.current.fillAlpha},closeStroke:function(){this.closePath(),this.stroke()},fill:function(e){e=void 0===e||e;var t=this.ctx,r=this.current.fillColor,n=!1;this.current.patternFill&&(t.save(),this.baseTransform&&t.setTransform.apply(t,this.baseTransform),t.fillStyle=r.getPattern(t,this),n=!0),this.contentVisible&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),n&&t.restore(),e&&this.consumePath()},eoFill:function(){this.pendingEOFill=!0,this.fill()},fillStroke:function(){this.fill(!1),this.stroke(!1),this.consumePath()},eoFillStroke:function(){this.pendingEOFill=!0,this.fillStroke()},closeFillStroke:function(){this.closePath(),this.fillStroke()},closeEOFillStroke:function(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()},endPath:function(){this.consumePath()},clip:function(){this.pendingClip=e},eoClip:function(){this.pendingClip=a},beginText:function(){this.current.textMatrix=q.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0},endText:function(){var e=this.pendingTextPaths,t=this.ctx;if(void 0!==e){t.save(),t.beginPath();for(var r=0;r<e.length;r++){var n=e[r];t.setTransform.apply(t,n.transform),t.translate(n.x,n.y),n.addToPath(t,n.fontSize)}t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}else t.beginPath()},setCharSpacing:function(e){this.current.charSpacing=e},setWordSpacing:function(e){this.current.wordSpacing=e},setHScale:function(e){this.current.textHScale=e/100},setLeading:function(e){this.current.leading=-e},setFont:function(e,t){var r=this.commonObjs.get(e),n=this.current;if(!r)throw new Error("Can't find font for ".concat(e));if(n.fontMatrix=r.fontMatrix||q.FONT_IDENTITY_MATRIX,0!==n.fontMatrix[0]&&0!==n.fontMatrix[3]||(0,q.warn)("Invalid font matrix for font "+e),n.fontDirection=t<0?(t=-t,-1):1,this.current.font=r,this.current.fontSize=t,!r.isType3Font){var a=r.loadedName||"sans-serif",i="normal";r.black?i="900":r.bold&&(i="bold");var o=r.italic?"italic":"normal",s='"'.concat(a,'", ').concat(r.fallbackName),u=t;t<16?u=16:100<t&&(u=100),this.current.fontSizeScale=t/u,this.ctx.font="".concat(o," ").concat(i," ").concat(u,"px ").concat(s)}},setTextRenderingMode:function(e){this.current.textRenderingMode=e},setTextRise:function(e){this.current.textRise=e},moveText:function(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t},setLeadingMoveText:function(e,t){this.setLeading(-t),this.moveText(e,t)},setTextMatrix:function(e,t,r,n,a,i){this.current.textMatrix=[e,t,r,n,a,i],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0},nextLine:function(){this.moveText(0,this.current.leading)},paintChar:function(e,t,r,n,a){var i,o=this.ctx,s=this.current,u=s.font,l=s.textRenderingMode,c=s.fontSize/s.fontSizeScale,f=l&q.TextRenderingMode.FILL_STROKE_MASK,d=!!(l&q.TextRenderingMode.ADD_TO_PATH_FLAG),h=s.patternFill&&!u.missingFile;((u.disableFontFace||d||h)&&(i=u.getPathGenerator(this.commonObjs,e)),u.disableFontFace||h?(o.save(),o.translate(t,r),o.beginPath(),i(o,c),n&&o.setTransform.apply(o,n),f!==q.TextRenderingMode.FILL&&f!==q.TextRenderingMode.FILL_STROKE||o.fill(),f!==q.TextRenderingMode.STROKE&&f!==q.TextRenderingMode.FILL_STROKE||(a&&(o.resetTransform(),o.lineWidth=Math.round(this._combinedScaleFactor)),o.stroke()),o.restore()):(f!==q.TextRenderingMode.FILL&&f!==q.TextRenderingMode.FILL_STROKE||o.fillText(e,t,r),f!==q.TextRenderingMode.STROKE&&f!==q.TextRenderingMode.FILL_STROKE||(a?(o.save(),o.moveTo(t,r),o.resetTransform(),o.lineWidth=Math.round(this._combinedScaleFactor),o.strokeText(e,0,0),o.restore()):o.strokeText(e,t,r))),d)&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:o.mozCurrentTransform,x:t,y:r,fontSize:c,addToPath:i})},get isFontSubpixelAAEnabled(){var e=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10).context;e.scale(1.5,1),e.fillText("I",0,10);for(var t=e.getImageData(0,0,10,10).data,r=!1,n=3;n<t.length;n+=4)if(0<t[n]&&t[n]<255){r=!0;break}return(0,q.shadow)(this,"isFontSubpixelAAEnabled",r)},showText:function(e){var t=this.current,r=t.font;if(r.isType3Font)return this.showType3Text(e);var n=t.fontSize;if(0!==n){var a,i=this.ctx,o=t.fontSizeScale,s=t.charSpacing,u=t.wordSpacing,l=t.fontDirection,c=t.textHScale*l,f=e.length,d=r.vertical,h=d?1:-1,p=r.defaultVMetrics,v=n*t.fontMatrix[0],y=t.textRenderingMode===q.TextRenderingMode.FILL&&!r.disableFontFace&&!t.patternFill;if(i.save(),t.patternFill){i.save();var g=t.fillColor.getPattern(i,this);a=i.mozCurrentTransform,i.restore(),i.fillStyle=g}i.transform.apply(i,t.textMatrix),i.translate(t.x,t.y+t.textRise),0<l?i.scale(c,-1):i.scale(c,1);var m=t.lineWidth,b=!1,_=t.textMatrixScale;if(0===_||0===m){var A=t.textRenderingMode&q.TextRenderingMode.FILL_STROKE_MASK;A!==q.TextRenderingMode.STROKE&&A!==q.TextRenderingMode.FILL_STROKE||(this._cachedGetSinglePixelWidth=null,b=(m=this.getSinglePixelWidth())<0)}else m/=_;1!==o&&(i.scale(o,o),m/=o),i.lineWidth=m;var S,w=0;for(S=0;S<f;++S){var k=e[S];if((0,q.isNum)(k))w+=h*k*n/1e3;else{var x=!1,C=(k.isSpace?u:0)+s,P=k.fontChar,T=k.accent,R=void 0,E=void 0,O=k.width;if(d){var F=k.vmetric||p,L=-(k.vmetric?F[1]:.5*O)*v,M=F[2]*v;O=F?-F[0]:O,R=L/o,E=(w+M)/o}else R=w/o,E=0;if(r.remeasure&&0<O){var I=1e3*i.measureText(P).width/n*o;if(O<I&&this.isFontSubpixelAAEnabled){var j=O/I;x=!0,i.save(),i.scale(j,1),R/=j}else O!==I&&(R+=(O-I)/2e3*n/o)}if(this.contentVisible&&(k.isInFont||r.missingFile))if(y&&!T)i.fillText(P,R,E);else if(this.paintChar(P,R,E,a,b),T){var D=R+n*T.offset.x/o,N=E-n*T.offset.y/o;this.paintChar(T.fontChar,D,N,a,b)}w+=d?O*v-C*l:O*v+C*l,x&&i.restore()}}d?t.y-=w:t.x+=w*c,i.restore()}},showType3Text:function(e){var t,r,n,a,i=this.ctx,o=this.current,s=o.font,u=o.fontSize,l=o.fontDirection,c=s.vertical?1:-1,f=o.charSpacing,d=o.wordSpacing,h=o.textHScale*l,p=o.fontMatrix||q.FONT_IDENTITY_MATRIX,v=e.length;if(!(o.textRenderingMode===q.TextRenderingMode.INVISIBLE)&&0!==u){for(this._cachedGetSinglePixelWidth=null,i.save(),i.transform.apply(i,o.textMatrix),i.translate(o.x,o.y),i.scale(h,l),t=0;t<v;++t)if(r=e[t],(0,q.isNum)(r))a=c*r*u/1e3,this.ctx.translate(a,0),o.x+=a*h;else{var y=(r.isSpace?d:0)+f,g=s.charProcOperatorList[r.operatorListId];if(g)this.contentVisible&&(this.processingType3=r,this.save(),i.scale(u,u),i.transform.apply(i,p),this.executeOperatorList(g),this.restore()),n=q.Util.applyTransform([r.width,0],p)[0]*u+y,i.translate(n,0),o.x+=n*h;else(0,q.warn)('Type3 character "'.concat(r.operatorListId,'" is not available.'))}i.restore(),this.processingType3=null}},setCharWidth:function(e,t){},setCharWidthAndBounds:function(e,t,r,n,a,i){this.ctx.rect(r,n,a-r,i-n),this.clip(),this.endPath()},getColorN_Pattern:function(e){var t,r=this;if("TilingPattern"===e[0]){var n=e[1],a=this.baseTransform||this.ctx.mozCurrentTransform.slice(),i={createCanvasGraphics:function(e){return new o(e,r.commonObjs,r.objs,r.canvasFactory,r.webGLContext)}};t=new _.TilingPattern(e,n,this.ctx,i,a)}else t=(0,_.getShadingPatternFromIR)(e);return t},setStrokeColorN:function(){this.current.strokeColor=this.getColorN_Pattern(arguments)},setFillColorN:function(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0},setStrokeRGBColor:function(e,t,r){var n=q.Util.makeHexColor(e,t,r);this.ctx.strokeStyle=n,this.current.strokeColor=n},setFillRGBColor:function(e,t,r){var n=q.Util.makeHexColor(e,t,r);this.ctx.fillStyle=n,this.current.fillColor=n,this.current.patternFill=!1},shadingFill:function(e){if(this.contentVisible){var t=this.ctx;this.save();var r=(0,_.getShadingPatternFromIR)(e);t.fillStyle=r.getPattern(t,this,!0);var n=t.mozCurrentTransformInverse;if(n){var a=t.canvas,i=a.width,o=a.height,s=q.Util.applyTransform([0,0],n),u=q.Util.applyTransform([0,o],n),l=q.Util.applyTransform([i,0],n),c=q.Util.applyTransform([i,o],n),f=Math.min(s[0],u[0],l[0],c[0]),d=Math.min(s[1],u[1],l[1],c[1]),h=Math.max(s[0],u[0],l[0],c[0]),p=Math.max(s[1],u[1],l[1],c[1]);this.ctx.fillRect(f,d,h-f,p-d)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.restore()}},beginInlineImage:function(){(0,q.unreachable)("Should not call beginInlineImage")},beginImageData:function(){(0,q.unreachable)("Should not call beginImageData")},paintFormXObjectBegin:function(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(e)&&6===e.length&&this.transform.apply(this,e),this.baseTransform=this.ctx.mozCurrentTransform,t)){var r=t[2]-t[0],n=t[3]-t[1];this.ctx.rect(t[0],t[1],r,n),this.clip(),this.endPath()}},paintFormXObjectEnd:function(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())},beginGroup:function(e){if(this.contentVisible){this.save();var t=this.ctx;e.isolated||(0,q.info)("TODO: Support non-isolated groups."),e.knockout&&(0,q.warn)("Knockout groups not supported.");var r=t.mozCurrentTransform;if(e.matrix&&t.transform.apply(t,e.matrix),!e.bbox)throw new Error("Bounding box is required.");var n=q.Util.getAxialAlignedBoundingBox(e.bbox,t.mozCurrentTransform),a=[0,0,t.canvas.width,t.canvas.height];n=q.Util.intersect(n,a)||[0,0,0,0];var i=Math.floor(n[0]),o=Math.floor(n[1]),s=Math.max(Math.ceil(n[2])-i,1),u=Math.max(Math.ceil(n[3])-o,1),l=1,c=1;4096<s&&(l=s/4096,s=4096),4096<u&&(c=u/4096,u=4096);var f="groupAt"+this.groupLevel;e.smask&&(f+="_smask_"+this.smaskCounter++%2);var d=this.cachedCanvases.getCanvas(f,s,u,!0),h=d.context;h.scale(1/l,1/c),h.translate(-i,-o),h.transform.apply(h,r),e.smask?this.smaskStack.push({canvas:d.canvas,context:h,offsetX:i,offsetY:o,scaleX:l,scaleY:c,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(i,o),t.scale(l,c)),p(t,h),this.ctx=h,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++,this.current.activeSMask=null}},endGroup:function(e){if(this.contentVisible){this.groupLevel--;var t=this.ctx;this.ctx=this.groupStack.pop(),void 0!==this.ctx.imageSmoothingEnabled?this.ctx.imageSmoothingEnabled=!1:this.ctx.mozImageSmoothingEnabled=!1,e.smask?this.tempSMask=this.smaskStack.pop():this.ctx.drawImage(t.canvas,0,0),this.restore()}},beginAnnotations:function(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)},endAnnotations:function(){this.restore()},beginAnnotation:function(e,t,r){if(this.save(),c(this.ctx),this.current=new d,Array.isArray(e)&&4===e.length){var n=e[2]-e[0],a=e[3]-e[1];this.ctx.rect(e[0],e[1],n,a),this.clip(),this.endPath()}this.transform.apply(this,t),this.transform.apply(this,r)},endAnnotation:function(){this.restore()},paintImageMaskXObject:function(e){if(this.contentVisible){var t=this.ctx,r=e.width,n=e.height,a=this.current.fillColor,i=this.current.patternFill,o=this.processingType3;if(o&&void 0===o.compiled&&(o.compiled=r<=1e3&&n<=1e3?function(e){var t,r,n,a,o=e.width,s=e.height,i=o+1,u=new Uint8Array(i*(s+1)),l=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),c=o+7&-8,f=e.data,d=new Uint8Array(c*s),h=0;for(t=0,r=f.length;t<r;t++)for(var p=f[t],v=128;0<v;)d[h++]=p&v?0:255,v>>=1;var y=0;for((h=0)!==d[h]&&(u[0]=1,++y),n=1;n<o;n++)d[h]!==d[h+1]&&(u[n]=d[h]?2:1,++y),h++;for(0!==d[h]&&(u[n]=2,++y),t=1;t<s;t++){a=t*i,d[(h=t*c)-c]!==d[h]&&(u[a]=d[h]?1:8,++y);var g=(d[h]?4:0)+(d[h-c]?8:0);for(n=1;n<o;n++)l[g=(g>>2)+(d[h+1]?4:0)+(d[h-c+1]?8:0)]&&(u[a+n]=l[g],++y),h++;if(d[h-c]!==d[h]&&(u[a+n]=d[h]?2:4,++y),1e3<y)return null}for(a=t*i,0!==d[h=c*(s-1)]&&(u[a]=8,++y),n=1;n<o;n++)d[h]!==d[h+1]&&(u[a+n]=d[h]?4:8,++y),h++;if(0!==d[h]&&(u[a+n]=4,++y),1e3<y)return null;var m=new Int32Array([0,i,-1,0,-i,0,0,0,1]),b=[];for(t=0;y&&t<=s;t++){for(var _=t*i,A=_+o;_<A&&!u[_];)_++;if(_!==A){var S=[_%i,t],w=_,k=u[_];do{for(var x=m[k];!u[_+=x];);var C=u[_];5!==C&&10!==C?(k=C,u[_]=0):(k=C&51*k>>4,u[_]&=k>>2|k<<2),S.push(_%i),S.push(_/i|0),u[_]||--y}while(w!==_);b.push(S),--t}}return function(e){e.save(),e.scale(1/o,-1/s),e.translate(0,-s),e.beginPath();for(var t=0,r=b.length;t<r;t++){var n=b[t];e.moveTo(n[0],n[1]);for(var a=2,i=n.length;a<i;a+=2)e.lineTo(n[a],n[a+1])}e.fill(),e.beginPath(),e.restore()}}({data:e.data,width:r,height:n}):null),null!=o&&o.compiled)o.compiled(t);else{var s=this.cachedCanvases.getCanvas("maskCanvas",r,n),u=s.context;u.save(),v(u,e),u.globalCompositeOperation="source-in",u.fillStyle=i?a.getPattern(u,this):a,u.fillRect(0,0,r,n),u.restore(),this.paintInlineImageXObject(s.canvas)}}},paintImageMaskXObjectRepeat:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,a=4<arguments.length?arguments[4]:void 0,i=5<arguments.length?arguments[5]:void 0;if(this.contentVisible){var o=e.width,s=e.height,u=this.current.fillColor,l=this.current.patternFill,c=this.cachedCanvases.getCanvas("maskCanvas",o,s),f=c.context;f.save(),v(f,e),f.globalCompositeOperation="source-in",f.fillStyle=l?u.getPattern(f,this):u,f.fillRect(0,0,o,s),f.restore();for(var d=this.ctx,h=0,p=i.length;h<p;h+=2)d.save(),d.transform(t,r,n,a,i[h],i[h+1]),d.scale(1,-1),d.drawImage(c.canvas,0,0,o,s,0,-1,1,1),d.restore()}},paintImageMaskXObjectGroup:function(e){if(this.contentVisible)for(var t=this.ctx,r=this.current.fillColor,n=this.current.patternFill,a=0,i=e.length;a<i;a++){var o=e[a],s=o.width,u=o.height,l=this.cachedCanvases.getCanvas("maskCanvas",s,u),c=l.context;c.save(),v(c,o),c.globalCompositeOperation="source-in",c.fillStyle=n?r.getPattern(c,this):r,c.fillRect(0,0,s,u),c.restore(),t.save(),t.transform.apply(t,o.transform),t.scale(1,-1),t.drawImage(l.canvas,0,0,s,u,0,-1,1,1),t.restore()}},paintImageXObject:function(e){if(this.contentVisible){var t=e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e);t?this.paintInlineImageXObject(t):(0,q.warn)("Dependent image isn't ready yet")}},paintImageXObjectRepeat:function(e,t,r,n){if(this.contentVisible){var a=e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e);if(a){for(var i=a.width,o=a.height,s=[],u=0,l=n.length;u<l;u+=2)s.push({transform:[t,0,0,r,n[u],n[u+1]],x:0,y:0,w:i,h:o});this.paintInlineImageXObjectGroup(a,s)}else(0,q.warn)("Dependent image isn't ready yet")}},paintInlineImageXObject:function(e){if(this.contentVisible){var t=e.width,r=e.height,n=this.ctx;this.save(),n.scale(1/t,-1/r);var a,i,o,s=n.mozCurrentTransformInverse,u=Math.max(Math.hypot(s[0],s[1]),1),l=Math.max(Math.hypot(s[2],s[3]),1);a="function"==typeof HTMLElement&&e instanceof HTMLElement||!e.data?e:(y(o=(i=this.cachedCanvases.getCanvas("inlineImage",t,r)).context,e,this.current.transferMaps),i.canvas);for(var c=t,f=r,d="prescale1";2<u&&1<c||2<l&&1<f;){var h=c,p=f;2<u&&1<c&&(u/=c/(h=Math.ceil(c/2))),2<l&&1<f&&(l/=f/(p=Math.ceil(f/2))),(o=(i=this.cachedCanvases.getCanvas(d,h,p)).context).clearRect(0,0,h,p),o.drawImage(a,0,0,c,f,0,0,h,p),a=i.canvas,c=h,f=p,d="prescale1"===d?"prescale2":"prescale1"}if(n.drawImage(a,0,0,c,f,0,-r,t,r),this.imageLayer){var v=this.getCanvasPosition(0,-r);this.imageLayer.appendImage({imgData:e,left:v[0],top:v[1],width:t/s[0],height:r/s[3]})}this.restore()}},paintInlineImageXObjectGroup:function(e,t){if(this.contentVisible){var r=this.ctx,n=e.width,a=e.height,i=this.cachedCanvases.getCanvas("inlineImage",n,a);y(i.context,e,this.current.transferMaps);for(var o=0,s=t.length;o<s;o++){var u=t[o];if(r.save(),r.transform.apply(r,u.transform),r.scale(1,-1),r.drawImage(i.canvas,u.x,u.y,u.w,u.h,0,-1,1,1),this.imageLayer){var l=this.getCanvasPosition(u.x,u.y);this.imageLayer.appendImage({imgData:e,left:l[0],top:l[1],width:n,height:a})}r.restore()}}},paintSolidColorImageMask:function(){this.contentVisible&&this.ctx.fillRect(0,0,1,1)},markPoint:function(e){},markPointProps:function(e,t){},beginMarkedContent:function(e){this.markedContentStack.push({visible:!0})},beginMarkedContentProps:function(e,t){"OC"===e?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()},endMarkedContent:function(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()},beginCompat:function(){},endCompat:function(){},consumePath:function(){var e=this.ctx;this.pendingClip&&(this.pendingClip===a?e.clip("evenodd"):e.clip(),this.pendingClip=null),e.beginPath()},getSinglePixelWidth:function(){if(null===this._cachedGetSinglePixelWidth){var e=this.ctx.mozCurrentTransform,t=Math.abs(e[0]*e[3]-e[2]*e[1]),r=Math.pow(e[0],2)+Math.pow(e[2],2),n=Math.pow(e[1],2)+Math.pow(e[3],2),a=Math.sqrt(Math.max(r,n))/t;r!==n&&1<this._combinedScaleFactor*a?this._cachedGetSinglePixelWidth=-this._combinedScaleFactor*a:t>Number.EPSILON?this._cachedGetSinglePixelWidth=a:this._cachedGetSinglePixelWidth=1}return this._cachedGetSinglePixelWidth},getCanvasPosition:function(e,t){var r=this.ctx.mozCurrentTransform;return[r[0]*e+r[2]*t+r[4],r[1]*e+r[3]*t+r[5]]},isContentVisible:function(){for(var e=this.markedContentStack.length-1;0<=e;e--)if(!this.markedContentStack[e].visible)return!1;return!0}},q.OPS)o.prototype[q.OPS[i]]=o.prototype[i];return o}();t.CanvasGraphics=a},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.getShadingPatternFromIR=function(e){var t=n[e[0]];if(t)return t.fromIR(e);throw new Error("Unknown IR type: ".concat(e[0]))},t.TilingPattern=void 0;var A=r(4),n={};function h(e,t){if(t&&"undefined"!=typeof Path2D){var r=t[2]-t[0],n=t[3]-t[1],a=new Path2D;a.rect(t[0],t[1],r,n),e.clip(a)}}n.RadialAxial={fromIR:function(e){var i=e[1],o=e[2],s=e[3],u=e[4],l=e[5],c=e[6],f=e[7];return{getPattern:function(e){var t;h(e,o),"axial"===i?t=e.createLinearGradient(u[0],u[1],l[0],l[1]):"radial"===i&&(t=e.createRadialGradient(u[0],u[1],c,l[0],l[1],f));for(var r=0,n=s.length;r<n;++r){var a=s[r];t.addColorStop(a[0],a[1])}return t}}}};var p=function(){function d(e,t,r,n,a,i,o,s){var u,l=t.coords,c=t.colors,f=e.data,d=4*e.width;l[r+1]>l[n+1]&&(u=r,r=n,n=u,u=i,i=o,o=u),l[n+1]>l[a+1]&&(u=n,n=a,a=u,u=o,o=s,s=u),l[r+1]>l[n+1]&&(u=r,r=n,n=u,u=i,i=o,o=u);var h=(l[r]+t.offsetX)*t.scaleX,p=(l[r+1]+t.offsetY)*t.scaleY,v=(l[n]+t.offsetX)*t.scaleX,y=(l[n+1]+t.offsetY)*t.scaleY,g=(l[a]+t.offsetX)*t.scaleX,m=(l[a+1]+t.offsetY)*t.scaleY;if(!(m<=p))for(var b,_,A,S,w,k,x,C,P=c[i],T=c[i+1],R=c[i+2],E=c[o],O=c[o+1],F=c[o+2],L=c[s],M=c[s+1],I=c[s+2],j=Math.round(p),D=Math.round(m),N=j;N<=D;N++){if(N<y){var q=void 0;b=h-(h-v)*(q=N<p?0:p===y?1:(p-N)/(p-y)),_=P-(P-E)*q,A=T-(T-O)*q,S=R-(R-F)*q}else{var W=void 0;b=v-(v-g)*(W=m<N?1:y===m?0:(y-N)/(y-m)),_=E-(E-L)*W,A=O-(O-M)*W,S=F-(F-I)*W}var U=void 0;w=h-(h-g)*(U=N<p?0:m<N?1:(p-N)/(p-m)),k=P-(P-L)*U,x=T-(T-M)*U,C=R-(R-I)*U;for(var B=Math.round(Math.min(b,w)),G=Math.round(Math.max(b,w)),z=d*N+4*B,H=B;H<=G;H++)(U=(b-H)/(b-w))<0?U=0:1<U&&(U=1),f[z++]=_-(_-k)*U|0,f[z++]=A-(A-x)*U|0,f[z++]=S-(S-C)*U|0,f[z++]=255}}function C(e,t,r){var n,a,i=t.coords,o=t.colors;switch(t.type){case"lattice":var s=t.verticesPerRow,u=Math.floor(i.length/s)-1,l=s-1;for(n=0;n<u;n++)for(var c=n*s,f=0;f<l;f++,c++)d(e,r,i[c],i[c+1],i[c+s],o[c],o[c+1],o[c+s]),d(e,r,i[c+s+1],i[c+1],i[c+s],o[c+s+1],o[c+1],o[c+s]);break;case"triangles":for(n=0,a=i.length;n<a;n+=3)d(e,r,i[n],i[n+1],i[n+2],o[n],o[n+1],o[n+2]);break;default:throw new Error("illegal figure")}}return function(e,t,r,n,a,i,o,s){var u,l,c,f,d=Math.floor(e[0]),h=Math.floor(e[1]),p=Math.ceil(e[2])-d,v=Math.ceil(e[3])-h,y=Math.min(Math.ceil(Math.abs(p*t[0]*1.1)),3e3),g=Math.min(Math.ceil(Math.abs(v*t[1]*1.1)),3e3),m=p/y,b=v/g,_={coords:r,colors:n,offsetX:-d,offsetY:-h,scaleX:1/m,scaleY:1/b},A=y+4,S=g+4;if(s.isEnabled)u=s.drawFigures({width:y,height:g,backgroundColor:i,figures:a,context:_}),(l=o.getCanvas("mesh",A,S,!1)).context.drawImage(u,2,2),u=l.canvas;else{var w=(l=o.getCanvas("mesh",A,S,!1)).context,k=w.createImageData(y,g);if(i){var x=k.data;for(c=0,f=x.length;c<f;c+=4)x[c]=i[0],x[c+1]=i[1],x[c+2]=i[2],x[c+3]=255}for(c=0;c<a.length;c++)C(k,a[c],_);w.putImageData(k,2,2),u=l.canvas}return{canvas:u,offsetX:d-2*m,offsetY:h-2*b,scaleX:m,scaleY:b}}}();n.Mesh={fromIR:function(e){var o=e[2],s=e[3],u=e[4],l=e[5],c=e[6],f=e[7],d=e[8];return{getPattern:function(e,t,r){var n;if(h(e,f),r)n=A.Util.singularValueDecompose2dScale(e.mozCurrentTransform);else if(n=A.Util.singularValueDecompose2dScale(t.baseTransform),c){var a=A.Util.singularValueDecompose2dScale(c);n=[n[0]*a[0],n[1]*a[1]]}var i=p(l,n,o,s,u,r?null:d,t.cachedCanvases,t.webGLContext);return r||(e.setTransform.apply(e,t.baseTransform),c&&e.transform.apply(e,c)),e.translate(i.offsetX,i.offsetY),e.scale(i.scaleX,i.scaleY),e.createPattern(i.canvas,"no-repeat")}}}},n.Dummy={fromIR:function(){return{getPattern:function(){return"hotpink"}}}};var a=function(){var s=1,u=2;function e(e,t,r,n,a){this.operatorList=e[2],this.matrix=e[3]||[1,0,0,1,0,0],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.canvasGraphicsFactory=n,this.baseTransform=a,this.ctx=r}return e.prototype={createPatternCanvas:function(e){var t=this.operatorList,r=this.bbox,n=this.xstep,a=this.ystep,i=this.paintType,o=this.tilingType,s=this.color,u=this.canvasGraphicsFactory;(0,A.info)("TilingType: "+o);var l=r[0],c=r[1],f=r[2],d=r[3],h=A.Util.singularValueDecompose2dScale(this.matrix),p=A.Util.singularValueDecompose2dScale(this.baseTransform),v=[h[0]*p[0],h[1]*p[1]],y=this.getSizeAndScale(n,this.ctx.canvas.width,v[0]),g=this.getSizeAndScale(a,this.ctx.canvas.height,v[1]),m=e.cachedCanvases.getCanvas("pattern",y.size,g.size,!0),b=m.context,_=u.createCanvasGraphics(b);return _.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(_,i,s),_.transform(y.scale,0,0,g.scale,0,0),_.transform(1,0,0,1,-l,-c),this.clipBbox(_,r,l,c,f,d),_.executeOperatorList(t),this.ctx.transform(1,0,0,1,l,c),this.ctx.scale(1/y.scale,1/g.scale),m.canvas},getSizeAndScale:function(e,t,r){e=Math.abs(e);var n=Math.max(3e3,t),a=Math.ceil(e*r);return n<=a?a=n:r=a/e,{scale:r,size:a}},clipBbox:function(e,t,r,n,a,i){if(Array.isArray(t)&&4===t.length){var o=a-r,s=i-n;e.ctx.rect(r,n,o,s),e.clip(),e.endPath()}},setFillAndStrokeStyleToContext:function(e,t,r){var n=e.ctx,a=e.current;switch(t){case s:var i=this.ctx;n.fillStyle=i.fillStyle,n.strokeStyle=i.strokeStyle,a.fillColor=i.fillStyle,a.strokeColor=i.strokeStyle;break;case u:var o=A.Util.makeHexColor(r[0],r[1],r[2]);n.fillStyle=o,n.strokeStyle=o,a.fillColor=o,a.strokeColor=o;break;default:throw new A.FormatError("Unsupported paint type: ".concat(t))}},getPattern:function(e,t){(e=this.ctx).setTransform.apply(e,this.baseTransform),e.transform.apply(e,this.matrix);var r=this.createPatternCanvas(t);return e.createPattern(r,"repeat")}},e}();t.TilingPattern=a},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalWorkerOptions=void 0;var r=Object.create(null);(t.GlobalWorkerOptions=r).workerPort=void 0===r.workerPort?null:r.workerPort,r.workerSrc=void 0===r.workerSrc?"":r.workerSrc},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.MessageHandler=void 0;var n,i=(n=r(2))&&n.__esModule?n:{default:n},c=r(4);function u(e,t,r,n,a,i,o){try{var s=e[i](o),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,a)}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var l=1,f=2,d=1,h=2,p=3,v=4,y=5,g=6,m=7,b=8;function _(e){if("object"!==a(e)||null===e)return e;switch(e.name){case"AbortException":return new c.AbortException(e.message);case"MissingPDFException":return new c.MissingPDFException(e.message);case"UnexpectedResponseException":return new c.UnexpectedResponseException(e.message,e.status);case"UnknownErrorException":return new c.UnknownErrorException(e.message,e.details);default:return new c.UnknownErrorException(e.message,e.toString())}}var s=function(){function r(e,t,s){var u=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this.sourceName=e,this.targetName=t,this.comObj=s,this.callbackId=1,this.streamId=1,this.postMessageTransfers=!0,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=function(e){var t=e.data;if(t.targetName===u.sourceName)if(t.stream)u._processStreamMessage(t);else if(t.callback){var r=t.callbackId,n=u.callbackCapabilities[r];if(!n)throw new Error("Cannot resolve callback ".concat(r));if(delete u.callbackCapabilities[r],t.callback===l)n.resolve(t.data);else{if(t.callback!==f)throw new Error("Unexpected callback case");n.reject(_(t.reason))}}else{var a=u.actionHandler[t.action];if(!a)throw new Error("Unknown action from worker: ".concat(t.action));if(t.callbackId){var i=u.sourceName,o=t.sourceName;new Promise(function(e){e(a(t.data))}).then(function(e){s.postMessage({sourceName:i,targetName:o,callback:l,callbackId:t.callbackId,data:e})},function(e){s.postMessage({sourceName:i,targetName:o,callback:f,callbackId:t.callbackId,reason:_(e)})})}else t.streamId?u._createStreamSink(t):a(t.data)}},s.addEventListener("message",this._onComObjOnMessage)}var e,t,n,s,a;return e=r,(t=[{key:"on",value:function(e,t){var r=this.actionHandler;if(r[e])throw new Error('There is already an actionName called "'.concat(e,'"'));r[e]=t}},{key:"send",value:function(e,t,r){this._postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},r)}},{key:"sendWithPromise",value:function(e,t,r){var n=this.callbackId++,a=(0,c.createPromiseCapability)();this.callbackCapabilities[n]=a;try{this._postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:n,data:t},r)}catch(e){a.reject(e)}return a.promise}},{key:"sendWithStream",value:function(r,n,e,a){var i=this,o=this.streamId++,s=this.sourceName,u=this.targetName,l=this.comObj;return new ReadableStream({start:function(e){var t=(0,c.createPromiseCapability)();return i.streamControllers[o]={controller:e,startCall:t,pullCall:null,cancelCall:null,isClosed:!1},i._postMessage({sourceName:s,targetName:u,action:r,streamId:o,data:n,desiredSize:e.desiredSize},a),t.promise},pull:function(e){var t=(0,c.createPromiseCapability)();return i.streamControllers[o].pullCall=t,l.postMessage({sourceName:s,targetName:u,stream:g,streamId:o,desiredSize:e.desiredSize}),t.promise},cancel:function(e){(0,c.assert)(e instanceof Error,"cancel must have a valid reason");var t=(0,c.createPromiseCapability)();return i.streamControllers[o].cancelCall=t,i.streamControllers[o].isClosed=!0,l.postMessage({sourceName:s,targetName:u,stream:d,streamId:o,reason:_(e)}),t.promise}},e)}},{key:"_createStreamSink",value:function(t){var a=this,r=this.actionHandler[t.action],i=t.streamId,o=this.sourceName,s=t.sourceName,n=this.comObj,u={enqueue:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,r=2<arguments.length?arguments[2]:void 0;if(!this.isCancelled){var n=this.desiredSize;this.desiredSize-=t,0<n&&this.desiredSize<=0&&(this.sinkCapability=(0,c.createPromiseCapability)(),this.ready=this.sinkCapability.promise),a._postMessage({sourceName:o,targetName:s,stream:v,streamId:i,chunk:e},r)}},close:function(){this.isCancelled||(this.isCancelled=!0,n.postMessage({sourceName:o,targetName:s,stream:p,streamId:i}),delete a.streamSinks[i])},error:function(e){(0,c.assert)(e instanceof Error,"error must have a valid reason"),this.isCancelled||(this.isCancelled=!0,n.postMessage({sourceName:o,targetName:s,stream:y,streamId:i,reason:_(e)}))},sinkCapability:(0,c.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};u.sinkCapability.resolve(),u.ready=u.sinkCapability.promise,this.streamSinks[i]=u,new Promise(function(e){e(r(t.data,u))}).then(function(){n.postMessage({sourceName:o,targetName:s,stream:b,streamId:i,success:!0})},function(e){n.postMessage({sourceName:o,targetName:s,stream:b,streamId:i,reason:_(e)})})}},{key:"_processStreamMessage",value:function(t){var r=t.streamId,n=this.sourceName,a=t.sourceName,i=this.comObj;switch(t.stream){case b:t.success?this.streamControllers[r].startCall.resolve():this.streamControllers[r].startCall.reject(_(t.reason));break;case m:t.success?this.streamControllers[r].pullCall.resolve():this.streamControllers[r].pullCall.reject(_(t.reason));break;case g:if(!this.streamSinks[r]){i.postMessage({sourceName:n,targetName:a,stream:m,streamId:r,success:!0});break}this.streamSinks[r].desiredSize<=0&&0<t.desiredSize&&this.streamSinks[r].sinkCapability.resolve(),this.streamSinks[r].desiredSize=t.desiredSize;var o=this.streamSinks[t.streamId].onPull;new Promise(function(e){e(o&&o())}).then(function(){i.postMessage({sourceName:n,targetName:a,stream:m,streamId:r,success:!0})},function(e){i.postMessage({sourceName:n,targetName:a,stream:m,streamId:r,reason:_(e)})});break;case v:if((0,c.assert)(this.streamControllers[r],"enqueue should have stream controller"),this.streamControllers[r].isClosed)break;this.streamControllers[r].controller.enqueue(t.chunk);break;case p:if((0,c.assert)(this.streamControllers[r],"close should have stream controller"),this.streamControllers[r].isClosed)break;this.streamControllers[r].isClosed=!0,this.streamControllers[r].controller.close(),this._deleteStreamController(r);break;case y:(0,c.assert)(this.streamControllers[r],"error should have stream controller"),this.streamControllers[r].controller.error(_(t.reason)),this._deleteStreamController(r);break;case h:t.success?this.streamControllers[r].cancelCall.resolve():this.streamControllers[r].cancelCall.reject(_(t.reason)),this._deleteStreamController(r);break;case d:if(!this.streamSinks[r])break;var s=this.streamSinks[t.streamId].onCancel;new Promise(function(e){e(s&&s(_(t.reason)))}).then(function(){i.postMessage({sourceName:n,targetName:a,stream:h,streamId:r,success:!0})},function(e){i.postMessage({sourceName:n,targetName:a,stream:h,streamId:r,reason:_(e)})}),this.streamSinks[r].sinkCapability.reject(_(t.reason)),this.streamSinks[r].isCancelled=!0,delete this.streamSinks[r];break;default:throw new Error("Unexpected stream case")}}},{key:"_deleteStreamController",value:(s=i.default.mark(function e(t){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.allSettled([this.streamControllers[t].startCall,this.streamControllers[t].pullCall,this.streamControllers[t].cancelCall].map(function(e){return e&&e.promise}));case 2:delete this.streamControllers[t];case 3:case"end":return e.stop()}},e,this)}),a=function(){var e=this,o=arguments;return new Promise(function(t,r){var n=s.apply(e,o);function a(e){u(n,t,r,a,i,"next",e)}function i(e){u(n,t,r,a,i,"throw",e)}a(void 0)})},function(e){return a.apply(this,arguments)})},{key:"_postMessage",value:function(e,t){t&&this.postMessageTransfers?this.comObj.postMessage(e,t):this.comObj.postMessage(e)}},{key:"destroy",value:function(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}])&&o(e.prototype,t),n&&o(e,n),r}();t.MessageHandler=s},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.Metadata=void 0;var a=r(4);function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var n=function(){function n(e){var t=e.parsedData,r=e.rawData;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this._metadataMap=t,this._data=r}var e,t,r;return e=n,(t=[{key:"getRaw",value:function(){return this._data}},{key:"get",value:function(e){var t;return null!==(t=this._metadataMap.get(e))&&void 0!==t?t:null}},{key:"getAll",value:function(){return(0,a.objectFromMap)(this._metadataMap)}},{key:"has",value:function(e){return this._metadataMap.has(e)}}])&&i(e.prototype,t),r&&i(e,r),n}();t.Metadata=n},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.OptionalContentConfig=void 0;var h=r(4);function p(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw i}}}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var y=function e(t,r){v(this,e),this.visible=!0,this.name=t,this.intent=r},a=function(){function d(e){if(v(this,d),this.name=null,this.creator=null,this._order=null,this._groups=new Map,null!==e){this.name=e.name,this.creator=e.creator,this._order=e.order;var t,r=p(e.groups);try{for(r.s();!(t=r.n()).done;){var n=t.value;this._groups.set(n.id,new y(n.name,n.intent))}}catch(e){r.e(e)}finally{r.f()}if("OFF"===e.baseState){var a,i=p(this._groups);try{for(i.s();!(a=i.n()).done;){a.value.visible=!1}}catch(e){i.e(e)}finally{i.f()}}var o,s=p(e.on);try{for(s.s();!(o=s.n()).done;){var u=o.value;this._groups.get(u).visible=!0}}catch(e){s.e(e)}finally{s.f()}var l,c=p(e.off);try{for(c.s();!(l=c.n()).done;){var f=l.value;this._groups.get(f).visible=!1}}catch(e){c.e(e)}finally{c.f()}}}var e,t,r;return e=d,(t=[{key:"isVisible",value:function(e){if("OCG"===e.type)return this._groups.has(e.id)?this._groups.get(e.id).visible:((0,h.warn)("Optional content group not found: ".concat(e.id)),!0);if("OCMD"!==e.type)return(0,h.warn)("Unknown group type ".concat(e.type,".")),!0;if(e.expression&&(0,h.warn)("Visibility expression not supported yet."),!e.policy||"AnyOn"===e.policy){var t,r=p(e.ids);try{for(r.s();!(t=r.n()).done;){var n=t.value;if(!this._groups.has(n))return(0,h.warn)("Optional content group not found: ".concat(n)),!0;if(this._groups.get(n).visible)return!0}}catch(e){r.e(e)}finally{r.f()}return!1}if("AllOn"===e.policy){var a,i=p(e.ids);try{for(i.s();!(a=i.n()).done;){var o=a.value;if(!this._groups.has(o))return(0,h.warn)("Optional content group not found: ".concat(o)),!0;if(!this._groups.get(o).visible)return!1}}catch(e){i.e(e)}finally{i.f()}return!0}if("AnyOff"===e.policy){var s,u=p(e.ids);try{for(u.s();!(s=u.n()).done;){var l=s.value;if(!this._groups.has(l))return(0,h.warn)("Optional content group not found: ".concat(l)),!0;if(!this._groups.get(l).visible)return!0}}catch(e){u.e(e)}finally{u.f()}return!1}if("AllOff"!==e.policy)return(0,h.warn)("Unknown optional content policy ".concat(e.policy,".")),!0;var c,f=p(e.ids);try{for(f.s();!(c=f.n()).done;){var d=c.value;if(!this._groups.has(d))return(0,h.warn)("Optional content group not found: ".concat(d)),!0;if(this._groups.get(d).visible)return!1}}catch(e){f.e(e)}finally{f.f()}return!0}},{key:"setVisibility",value:function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];this._groups.has(e)?this._groups.get(e).visible=!!t:(0,h.warn)("Optional content group not found: ".concat(e))}},{key:"getOrder",value:function(){return this._groups.size?this._order?this._order.slice():Array.from(this._groups.keys()):null}},{key:"getGroups",value:function(){return 0<this._groups.size?(0,h.objectFromMap)(this._groups):null}},{key:"getGroup",value:function(e){return this._groups.get(e)||null}}])&&n(e.prototype,t),r&&n(e,r),d}();t.OptionalContentConfig=a},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.PDFDataTransportStream=void 0;var n,a=(n=r(2))&&n.__esModule?n:{default:n},o=r(4),u=r(1);function l(e,t,r,n,a,i,o){try{var s=e[i](o),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,a)}function i(s){return function(){var e=this,o=arguments;return new Promise(function(t,r){var n=s.apply(e,o);function a(e){l(n,t,r,a,i,"next",e)}function i(e){l(n,t,r,a,i,"throw",e)}a(void 0)})}}function c(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw i}}}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h(e,t,r){return t&&s(e.prototype,t),r&&s(e,r),e}var p=function(){function i(e,t){var r=this;d(this,i),(0,o.assert)(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=e.progressiveDone||!1,this._contentDispositionFilename=e.contentDispositionFilename||null;var n=e.initialData;if(0<(null==n?void 0:n.length)){var a=new Uint8Array(n).buffer;this._queuedChunks.push(a)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._contentLength=e.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener(function(e,t){r._onReceiveData({begin:e,chunk:t})}),this._pdfDataRangeTransport.addProgressListener(function(e,t){r._onProgress({loaded:e,total:t})}),this._pdfDataRangeTransport.addProgressiveReadListener(function(e){r._onReceiveData({chunk:e})}),this._pdfDataRangeTransport.addProgressiveDoneListener(function(){r._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}return h(i,[{key:"_onReceiveData",value:function(t){var r=new Uint8Array(t.chunk).buffer;if(void 0===t.begin)this._fullRequestReader?this._fullRequestReader._enqueue(r):this._queuedChunks.push(r);else{var e=this._rangeReaders.some(function(e){return e._begin===t.begin&&(e._enqueue(r),!0)});(0,o.assert)(e,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}},{key:"_progressiveDataLength",get:function(){var e,t;return null!==(e=null===(t=this._fullRequestReader)||void 0===t?void 0:t._loaded)&&void 0!==e?e:0}},{key:"_onProgress",value:function(e){if(void 0===e.total){var t=this._rangeReaders[0];null!=t&&t.onProgress&&t.onProgress({loaded:e.loaded})}else{var r=this._fullRequestReader;null!=r&&r.onProgress&&r.onProgress({loaded:e.loaded,total:e.total})}}},{key:"_onProgressiveDone",value:function(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}},{key:"_removeRangeReader",value:function(e){var t=this._rangeReaders.indexOf(e);0<=t&&this._rangeReaders.splice(t,1)}},{key:"getFullReader",value:function(){(0,o.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");var e=this._queuedChunks;return this._queuedChunks=null,new v(this,e,this._progressiveDone,this._contentDispositionFilename)}},{key:"getRangeReader",value:function(e,t){if(t<=this._progressiveDataLength)return null;var r=new y(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(r),r}},{key:"cancelAllRequests",value:function(t){this._fullRequestReader&&this._fullRequestReader.cancel(t),this._rangeReaders.slice(0).forEach(function(e){e.cancel(t)}),this._pdfDataRangeTransport.abort()}}]),i}();t.PDFDataTransportStream=p;var v=function(){function s(e,t){var r=2<arguments.length&&void 0!==arguments[2]&&arguments[2],n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;d(this,s),this._stream=e,this._done=r||!1,this._filename=(0,u.isPdfFile)(n)?n:null,this._queuedChunks=t||[],this._loaded=0;var a,i=c(this._queuedChunks);try{for(i.s();!(a=i.n()).done;){var o=a.value;this._loaded+=o.byteLength}}catch(e){i.e(e)}finally{i.f()}this._requests=[],this._headersReady=Promise.resolve(),(e._fullRequestReader=this).onProgress=null}var e;return h(s,[{key:"_enqueue",value:function(e){if(!this._done){if(0<this._requests.length)this._requests.shift().resolve({value:e,done:!1});else this._queuedChunks.push(e);this._loaded+=e.byteLength}}},{key:"headersReady",get:function(){return this._headersReady}},{key:"filename",get:function(){return this._filename}},{key:"isRangeSupported",get:function(){return this._stream._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._stream._isStreamingSupported}},{key:"contentLength",get:function(){return this._stream._contentLength}},{key:"read",value:(e=i(a.default.mark(function e(){var t,r;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0<this._queuedChunks.length)return t=this._queuedChunks.shift(),e.abrupt("return",{value:t,done:!1});e.next=3;break;case 3:if(this._done)return e.abrupt("return",{value:void 0,done:!0});e.next=5;break;case 5:return r=(0,o.createPromiseCapability)(),this._requests.push(r),e.abrupt("return",r.promise);case 8:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"cancel",value:function(e){this._done=!0,this._requests.forEach(function(e){e.resolve({value:void 0,done:!0})}),this._requests=[]}},{key:"progressiveDone",value:function(){this._done||(this._done=!0)}}]),s}(),y=function(){function n(e,t,r){d(this,n),this._stream=e,this._begin=t,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}var e;return h(n,[{key:"_enqueue",value:function(e){if(!this._done){if(0===this._requests.length)this._queuedChunk=e;else this._requests.shift().resolve({value:e,done:!1}),this._requests.forEach(function(e){e.resolve({value:void 0,done:!0})}),this._requests=[];this._done=!0,this._stream._removeRangeReader(this)}}},{key:"isStreamingSupported",get:function(){return!1}},{key:"read",value:(e=i(a.default.mark(function e(){var t,r;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._queuedChunk)return t=this._queuedChunk,this._queuedChunk=null,e.abrupt("return",{value:t,done:!1});e.next=4;break;case 4:if(this._done)return e.abrupt("return",{value:void 0,done:!0});e.next=6;break;case 6:return r=(0,o.createPromiseCapability)(),this._requests.push(r),e.abrupt("return",r.promise);case 9:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"cancel",value:function(e){this._done=!0,this._requests.forEach(function(e){e.resolve({value:void 0,done:!0})}),this._requests=[],this._stream._removeRangeReader(this)}}]),n}()},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.WebGLContext=void 0;var a=r(4);function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var n=function(){function n(e){var t=e.enable,r=void 0!==t&&t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this._enabled=!0===r}var e,t,r;return e=n,(t=[{key:"isEnabled",get:function(){var e=this._enabled;return e&&(e=o.tryInitGL()),(0,a.shadow)(this,"isEnabled",e)}},{key:"composeSMask",value:function(e){var t=e.layer,r=e.mask,n=e.properties;return o.composeSMask(t,r,n)}},{key:"drawFigures",value:function(e){var t=e.width,r=e.height,n=e.backgroundColor,a=e.figures,i=e.context;return o.drawFigures(t,r,n,a,i)}},{key:"clear",value:function(){o.cleanup()}}])&&i(e.prototype,t),r&&i(e,r),n}();t.WebGLContext=n;var o=function(){function r(e,t,r){var n=e.createShader(r);if(e.shaderSource(n,t),e.compileShader(n),e.getShaderParameter(n,e.COMPILE_STATUS))return n;var a=e.getShaderInfoLog(n);throw new Error("Error during shader compilation: "+a)}function O(e,t){return r(e,t,e.VERTEX_SHADER)}function F(e,t){return r(e,t,e.FRAGMENT_SHADER)}function L(e,t){for(var r=e.createProgram(),n=0,a=t.length;n<a;++n)e.attachShader(r,t[n]);if(e.linkProgram(r),e.getProgramParameter(r,e.LINK_STATUS))return r;var i=e.getProgramInfoLog(r);throw new Error("Error during program linking: "+i)}function f(e,t,r){e.activeTexture(r);var n=e.createTexture();return e.bindTexture(e.TEXTURE_2D,n),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t),n}var M,I;function j(){M||(I=document.createElement("canvas"),M=I.getContext("webgl",{premultipliedalpha:!1}))}var d="  attribute vec2 a_position;                                      attribute vec2 a_texCoord;                                                                                                      uniform vec2 u_resolution;                                                                                                      varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec2 clipSpace = (a_position / u_resolution) * 2.0 - 1.0;       gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_texCoord = a_texCoord;                                      }                                                             ",h="  precision mediump float;                                                                                                        uniform vec4 u_backdrop;                                        uniform int u_subtype;                                          uniform sampler2D u_image;                                      uniform sampler2D u_mask;                                                                                                       varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec4 imageColor = texture2D(u_image, v_texCoord);               vec4 maskColor = texture2D(u_mask, v_texCoord);                 if (u_backdrop.a > 0.0) {                                         maskColor.rgb = maskColor.rgb * maskColor.a +                                   u_backdrop.rgb * (1.0 - maskColor.a);         }                                                               float lum;                                                      if (u_subtype == 0) {                                             lum = maskColor.a;                                            } else {                                                          lum = maskColor.r * 0.3 + maskColor.g * 0.59 +                        maskColor.b * 0.11;                                     }                                                               imageColor.a *= lum;                                            imageColor.rgb *= imageColor.a;                                 gl_FragColor = imageColor;                                    }                                                             ",p=null;var D="  attribute vec2 a_position;                                      attribute vec3 a_color;                                                                                                         uniform vec2 u_resolution;                                      uniform vec2 u_scale;                                           uniform vec2 u_offset;                                                                                                          varying vec4 v_color;                                                                                                           void main() {                                                     vec2 position = (a_position + u_offset) * u_scale;              vec2 clipSpace = (position / u_resolution) * 2.0 - 1.0;         gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_color = vec4(a_color / 255.0, 1.0);                         }                                                             ",N="  precision mediump float;                                                                                                        varying vec4 v_color;                                                                                                           void main() {                                                     gl_FragColor = v_color;                                       }                                                             ",q=null;return{tryInitGL:function(){try{return j(),!!M}catch(e){}return!1},composeSMask:function(e,t,r){var n=e.width,a=e.height;p||function(){j();var e=I,t=M;M=I=null;var r=L(t,[O(t,d),F(t,h)]);t.useProgram(r);var n={};n.gl=t,n.canvas=e,n.resolutionLocation=t.getUniformLocation(r,"u_resolution"),n.positionLocation=t.getAttribLocation(r,"a_position"),n.backdropLocation=t.getUniformLocation(r,"u_backdrop"),n.subtypeLocation=t.getUniformLocation(r,"u_subtype");var a=t.getAttribLocation(r,"a_texCoord"),i=t.getUniformLocation(r,"u_image"),o=t.getUniformLocation(r,"u_mask"),s=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,s),t.bufferData(t.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),t.STATIC_DRAW),t.enableVertexAttribArray(a),t.vertexAttribPointer(a,2,t.FLOAT,!1,0,0),t.uniform1i(i,0),t.uniform1i(o,1),p=n}();var i=p,o=i.canvas,s=i.gl;o.width=n,o.height=a,s.viewport(0,0,s.drawingBufferWidth,s.drawingBufferHeight),s.uniform2f(i.resolutionLocation,n,a),r.backdrop?s.uniform4f(i.resolutionLocation,r.backdrop[0],r.backdrop[1],r.backdrop[2],1):s.uniform4f(i.resolutionLocation,0,0,0,0),s.uniform1i(i.subtypeLocation,"Luminosity"===r.subtype?1:0);var u=f(s,e,s.TEXTURE0),l=f(s,t,s.TEXTURE1),c=s.createBuffer();return s.bindBuffer(s.ARRAY_BUFFER,c),s.bufferData(s.ARRAY_BUFFER,new Float32Array([0,0,n,0,0,a,0,a,n,0,n,a]),s.STATIC_DRAW),s.enableVertexAttribArray(i.positionLocation),s.vertexAttribPointer(i.positionLocation,2,s.FLOAT,!1,0,0),s.clearColor(0,0,0,0),s.enable(s.BLEND),s.blendFunc(s.ONE,s.ONE_MINUS_SRC_ALPHA),s.clear(s.COLOR_BUFFER_BIT),s.drawArrays(s.TRIANGLES,0,6),s.flush(),s.deleteTexture(u),s.deleteTexture(l),s.deleteBuffer(c),o},drawFigures:function(e,t,r,n,a){q||function(){j();var e=I,t=M;M=I=null;var r=L(t,[O(t,D),F(t,N)]);t.useProgram(r);var n={};n.gl=t,n.canvas=e,n.resolutionLocation=t.getUniformLocation(r,"u_resolution"),n.scaleLocation=t.getUniformLocation(r,"u_scale"),n.offsetLocation=t.getUniformLocation(r,"u_offset"),n.positionLocation=t.getAttribLocation(r,"a_position"),n.colorLocation=t.getAttribLocation(r,"a_color"),q=n}();var i=q,o=i.canvas,s=i.gl;o.width=e,o.height=t,s.viewport(0,0,s.drawingBufferWidth,s.drawingBufferHeight),s.uniform2f(i.resolutionLocation,e,t);for(var u=0,l=0,c=n.length;l<c;l++)switch(n[l].type){case"lattice":u+=((n[l].coords.length/n[l].verticesPerRow|0)-1)*(n[l].verticesPerRow-1)*6;break;case"triangles":u+=n[l].coords.length}for(var f=new Float32Array(2*u),d=new Uint8Array(3*u),h=a.coords,p=a.colors,v=0,y=0,g=0,m=n.length;g<m;g++){var b=n[g],_=b.coords,A=b.colors;switch(b.type){case"lattice":for(var S=b.verticesPerRow,w=_.length/S|0,k=1;k<w;k++)for(var x=k*S+1,C=1;C<S;C++,x++)f[v]=h[_[x-S-1]],f[v+1]=h[_[x-S-1]+1],f[v+2]=h[_[x-S]],f[v+3]=h[_[x-S]+1],f[v+4]=h[_[x-1]],f[v+5]=h[_[x-1]+1],d[y]=p[A[x-S-1]],d[y+1]=p[A[x-S-1]+1],d[y+2]=p[A[x-S-1]+2],d[y+3]=p[A[x-S]],d[y+4]=p[A[x-S]+1],d[y+5]=p[A[x-S]+2],d[y+6]=p[A[x-1]],d[y+7]=p[A[x-1]+1],d[y+8]=p[A[x-1]+2],f[v+6]=f[v+2],f[v+7]=f[v+3],f[v+8]=f[v+4],f[v+9]=f[v+5],f[v+10]=h[_[x]],f[v+11]=h[_[x]+1],d[y+9]=d[y+3],d[y+10]=d[y+4],d[y+11]=d[y+5],d[y+12]=d[y+6],d[y+13]=d[y+7],d[y+14]=d[y+8],d[y+15]=p[A[x]],d[y+16]=p[A[x]+1],d[y+17]=p[A[x]+2],v+=12,y+=18;break;case"triangles":for(var P=0,T=_.length;P<T;P++)f[v]=h[_[P]],f[v+1]=h[_[P]+1],d[y]=p[A[P]],d[y+1]=p[A[P]+1],d[y+2]=p[A[P]+2],v+=2,y+=3}}r?s.clearColor(r[0]/255,r[1]/255,r[2]/255,1):s.clearColor(0,0,0,0),s.clear(s.COLOR_BUFFER_BIT);var R=s.createBuffer();s.bindBuffer(s.ARRAY_BUFFER,R),s.bufferData(s.ARRAY_BUFFER,f,s.STATIC_DRAW),s.enableVertexAttribArray(i.positionLocation),s.vertexAttribPointer(i.positionLocation,2,s.FLOAT,!1,0,0);var E=s.createBuffer();return s.bindBuffer(s.ARRAY_BUFFER,E),s.bufferData(s.ARRAY_BUFFER,d,s.STATIC_DRAW),s.enableVertexAttribArray(i.colorLocation),s.vertexAttribPointer(i.colorLocation,3,s.UNSIGNED_BYTE,!1,0,0),s.uniform2f(i.scaleLocation,a.scaleX,a.scaleY),s.uniform2f(i.offsetLocation,a.offsetX,a.offsetY),s.drawArrays(s.TRIANGLES,0,u),s.flush(),s.deleteBuffer(R),s.deleteBuffer(E),o},cleanup:function(){var e,t;null!==(e=p)&&void 0!==e&&e.canvas&&(p.canvas.width=0,p.canvas.height=0),null!==(t=q)&&void 0!==t&&t.canvas&&(q.canvas.width=0,q.canvas.height=0),q=p=null}}}()},function(e,t,r){function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationLayer=void 0;var p=r(1),v=r(4),y=r(128),u=r(139);function n(e,t,r){return(n="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}(e,t);if(n){var a=Object.getOwnPropertyDescriptor(n,t);return a.get?a.get.call(r):a.value}})(e,t,r||e)}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw i}}return r}(e,t)||h(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(i){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,r,n=d(i);if(o){var a=d(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return t=this,!(r=e)||"object"!==s(r)&&"function"!=typeof r?c(t):r}}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=h(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw i}}}}function h(e,t){if(e){if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _(e,t,r){return t&&b(e.prototype,t),r&&b(e,r),e}var A=function(){function e(){m(this,e)}return _(e,null,[{key:"create",value:function(e){switch(e.data.annotationType){case v.AnnotationType.LINK:return new w(e);case v.AnnotationType.TEXT:return new k(e);case v.AnnotationType.WIDGET:switch(e.data.fieldType){case"Tx":return new C(e);case"Btn":return e.data.radioButton?new T(e):e.data.checkBox?new P(e):new R(e);case"Ch":return new E(e)}return new x(e);case v.AnnotationType.POPUP:return new O(e);case v.AnnotationType.FREETEXT:return new L(e);case v.AnnotationType.LINE:return new M(e);case v.AnnotationType.SQUARE:return new I(e);case v.AnnotationType.CIRCLE:return new j(e);case v.AnnotationType.POLYLINE:return new D(e);case v.AnnotationType.CARET:return new q(e);case v.AnnotationType.INK:return new W(e);case v.AnnotationType.POLYGON:return new N(e);case v.AnnotationType.HIGHLIGHT:return new U(e);case v.AnnotationType.UNDERLINE:return new B(e);case v.AnnotationType.SQUIGGLY:return new G(e);case v.AnnotationType.STRIKEOUT:return new z(e);case v.AnnotationType.STAMP:return new H(e);case v.AnnotationType.FILEATTACHMENT:return new V(e);default:return new S(e)}}}]),e}(),S=function(){function u(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=t.isRenderable,n=void 0!==r&&r,a=t.ignoreBorder,i=void 0!==a&&a,o=t.createQuadrilaterals,s=void 0!==o&&o;m(this,u),this.isRenderable=n,this.data=e.data,this.layer=e.layer,this.page=e.page,this.viewport=e.viewport,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderInteractiveForms=e.renderInteractiveForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._mouseState=e.mouseState,n&&(this.container=this._createContainer(i)),s&&(this.quadrilaterals=this._createQuadrilaterals(i))}return _(u,[{key:"_createContainer",value:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=this.data,r=this.page,n=this.viewport,a=document.createElement("section"),i=t.rect[2]-t.rect[0],o=t.rect[3]-t.rect[1];a.setAttribute("data-annotation-id",t.id);var s=v.Util.normalizeRect([t.rect[0],r.view[3]-t.rect[1]+r.view[1],t.rect[2],r.view[3]-t.rect[3]+r.view[1]]);if(a.style.transform="matrix(".concat(n.transform.join(","),")"),a.style.transformOrigin="".concat(-s[0],"px ").concat(-s[1],"px"),!e&&0<t.borderStyle.width){a.style.borderWidth="".concat(t.borderStyle.width,"px"),t.borderStyle.style!==v.AnnotationBorderStyleType.UNDERLINE&&(i-=2*t.borderStyle.width,o-=2*t.borderStyle.width);var u=t.borderStyle.horizontalCornerRadius,l=t.borderStyle.verticalCornerRadius;if(0<u||0<l){var c="".concat(u,"px / ").concat(l,"px");a.style.borderRadius=c}switch(t.borderStyle.style){case v.AnnotationBorderStyleType.SOLID:a.style.borderStyle="solid";break;case v.AnnotationBorderStyleType.DASHED:a.style.borderStyle="dashed";break;case v.AnnotationBorderStyleType.BEVELED:(0,v.warn)("Unimplemented border style: beveled");break;case v.AnnotationBorderStyleType.INSET:(0,v.warn)("Unimplemented border style: inset");break;case v.AnnotationBorderStyleType.UNDERLINE:a.style.borderBottomStyle="solid"}t.color?a.style.borderColor=v.Util.makeHexColor(0|t.color[0],0|t.color[1],0|t.color[2]):a.style.borderWidth=0}return a.style.left="".concat(s[0],"px"),a.style.top="".concat(s[1],"px"),a.style.width="".concat(i,"px"),a.style.height="".concat(o,"px"),a}},{key:"_createQuadrilaterals",value:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];if(!this.data.quadPoints)return null;var t,r=[],n=this.data.rect,a=g(this.data.quadPoints);try{for(a.s();!(t=a.n()).done;){var i=t.value;this.data.rect=[i[2].x,i[2].y,i[1].x,i[1].y],r.push(this._createContainer(e))}}catch(e){a.e(e)}finally{a.f()}return this.data.rect=n,r}},{key:"_createPopup",value:function(e,t){var r=this.container;this.quadrilaterals&&(e=e||this.quadrilaterals,r=this.quadrilaterals[0]),e||((e=document.createElement("div")).style.height=r.style.height,e.style.width=r.style.width,r.appendChild(e));var n=new F({container:r,trigger:e,color:t.color,title:t.title,modificationDate:t.modificationDate,contents:t.contents,hideWrapper:!0}).render();n.style.left=r.style.width,r.appendChild(n)}},{key:"_renderQuadrilaterals",value:function(t){return this.quadrilaterals.forEach(function(e){e.className=t}),this.quadrilaterals}},{key:"render",value:function(){(0,v.unreachable)("Abstract method `AnnotationElement.render` called")}}]),u}(),w=function(e){i(n,S);var r=l(n);function n(e){m(this,n);var t=!!(e.data.url||e.data.dest||e.data.action||e.data.isTooltipOnly||e.data.actions&&(e.data.actions.Action||e.data.actions["Mouse Up"]||e.data.actions["Mouse Down"]));return r.call(this,e,{isRenderable:t,createQuadrilaterals:!0})}return _(n,[{key:"render",value:function(){var e=this.data,t=this.linkService,n=document.createElement("a");return e.url?(0,p.addLinkAttributes)(n,{url:e.url,target:e.newWindow?p.LinkTarget.BLANK:t.externalLinkTarget,rel:t.externalLinkRel,enabled:t.externalLinkEnabled}):e.action?this._bindNamedAction(n,e.action):e.dest?this._bindLink(n,e.dest):e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions?this._bindJSAction(n,e):this._bindLink(n,""),this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map(function(e,t){var r=0===t?n:n.cloneNode();return e.appendChild(r),e}):(this.container.className="linkAnnotation",this.container.appendChild(n),this.container)}},{key:"_bindLink",value:function(e,t){var r=this;e.href=this.linkService.getDestinationHash(t),e.onclick=function(){return t&&r.linkService.goToDestination(t),!1},(t||""===t)&&(e.className="internalLink")}},{key:"_bindNamedAction",value:function(e,t){var r=this;e.href=this.linkService.getAnchorUrl(""),e.onclick=function(){return r.linkService.executeNamedAction(t),!1},e.className="internalLink"}},{key:"_bindJSAction",value:function(r,n){var a=this;r.href=this.linkService.getAnchorUrl("");for(var i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]),e=function(){var t=s[o],e=i.get(t);if(!e)return"continue";r[e]=function(){var e;return null===(e=a.linkService.eventBus)||void 0===e||e.dispatch("dispatcheventinsandbox",{source:a,detail:{id:n.id,name:t}}),!1}},o=0,s=Object.keys(n.actions);o<s.length;o++)e();r.className="internalLink"}}]),n}(),k=function(e){i(n,S);var r=l(n);function n(e){m(this,n);var t=!!(e.data.hasPopup||e.data.title||e.data.contents);return r.call(this,e,{isRenderable:t})}return _(n,[{key:"render",value:function(){this.container.className="textAnnotation";var e=document.createElement("img");return e.style.height=this.container.style.height,e.style.width=this.container.style.width,e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.alt="[ Annotation]",e.dataset.l10nId="text_annotation_type",e.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(e,this.data),this.container.appendChild(e),this.container}}]),n}(),x=function(e){i(r,S);var t=l(r);function r(){return m(this,r),t.apply(this,arguments)}return _(r,[{key:"render",value:function(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}},{key:"_getKeyModifier",value:function(e){return navigator.platform.includes("Win")&&e.ctrlKey||navigator.platform.includes("Mac")&&e.metaKey}},{key:"_setEventListener",value:function(e,t,r,n){var a=this;t.includes("mouse")?e.addEventListener(t,function(e){var t;null===(t=a.linkService.eventBus)||void 0===t||t.dispatch("dispatcheventinsandbox",{source:a,detail:{id:a.data.id,name:r,value:n(e),shift:e.shiftKey,modifier:a._getKeyModifier(e)}})}):e.addEventListener(t,function(e){var t;null===(t=a.linkService.eventBus)||void 0===t||t.dispatch("dispatcheventinsandbox",{source:a,detail:{id:a.data.id,name:r,value:e.target.checked}})})}},{key:"_setEventListeners",value:function(e,t,r){var n,a=g(t);try{for(a.s();!(n=a.n()).done;){var i,o=f(n.value,2),s=o[0],u=o[1];("Action"===u||null!==(i=this.data.actions)&&void 0!==i&&i[u])&&this._setEventListener(e,s,u,r)}}catch(e){a.e(e)}finally{a.f()}}},{key:"_setColor",value:function(e){for(var t=e.detail,r=e.target.style,n=0,a=["bgColor","fillColor","fgColor","textColor","borderColor","strokeColor"];n<a.length;n++){var i=a[n],o=t[i];if(o)switch(o=u.ColorConverters["".concat(o[0],"_HTML")](o.slice(1)),i){case"bgColor":case"fillColor":r.backgroundColor=o;break;case"fgColor":case"textColor":r.color=o;break;case"borderColor":case"strokeColor":r.borderColor=o}}}}]),r}(),C=function(e){i(n,x);var r=l(n);function n(e){m(this,n);var t=e.renderInteractiveForms||!e.data.hasAppearance&&!!e.data.fieldValue;return r.call(this,e,{isRenderable:t})}return _(n,[{key:"render",value:function(){var i=this,r=this.annotationStorage,o=this.data.id;this.container.className="textWidgetAnnotation";var e=null;if(this.renderInteractiveForms){var t=r.getValue(o,{value:this.data.fieldValue,valueAsString:this.data.fieldValue}),n=t.valueAsString||t.value||"",s={userValue:null,formattedValue:null,beforeInputSelectionRange:null,beforeInputValue:null};this.data.multiLine?(e=document.createElement("textarea")).textContent=n:((e=document.createElement("input")).type="text",e.setAttribute("value",n)),s.userValue=n,e.setAttribute("id",o),e.addEventListener("input",function(e){r.setValue(o,{value:e.target.value})});var a=function(e){s.formattedValue&&(e.target.value=s.formattedValue),e.target.setSelectionRange(0,0),s.beforeInputSelectionRange=null};if(this.enableScripting&&this.hasJSActions){var u;e.addEventListener("focus",function(e){s.userValue&&(e.target.value=s.userValue)}),e.addEventListener("updatefromsandbox",function(n){var a=n.detail,t={value:function(){s.userValue=a.value||"",r.setValue(o,{value:s.userValue.toString()}),s.formattedValue||(n.target.value=s.userValue)},valueAsString:function(){s.formattedValue=a.valueAsString||"",n.target!==document.activeElement&&(n.target.value=s.formattedValue),r.setValue(o,{formattedValue:s.formattedValue})},focus:function(){setTimeout(function(){return n.target.focus({preventScroll:!1})},0)},userName:function(){n.target.title=a.userName},hidden:function(){n.target.style.visibility=a.hidden?"hidden":"visible",r.setValue(o,{hidden:a.hidden})},editable:function(){n.target.disabled=!a.editable},selRange:function(){var e=f(a.selRange,2),t=e[0],r=e[1];0<=t&&r<n.target.value.length&&n.target.setSelectionRange(t,r)}};Object.keys(a).filter(function(e){return e in t}).forEach(function(e){return t[e]()}),i._setColor(n)}),e.addEventListener("keydown",function(e){var t;s.beforeInputValue=e.target.value;var r=-1;"Escape"===e.key?r=0:"Enter"===e.key?r=2:"Tab"===e.key&&(r=3),-1!==r&&(s.userValue=e.target.value,null===(t=i.linkService.eventBus)||void 0===t||t.dispatch("dispatcheventinsandbox",{source:i,detail:{id:o,name:"Keystroke",value:e.target.value,willCommit:!0,commitKey:r,selStart:e.target.selectionStart,selEnd:e.target.selectionEnd}}))});var l=a;a=null,e.addEventListener("blur",function(e){var t;i._mouseState.isDown&&(s.userValue=e.target.value,null===(t=i.linkService.eventBus)||void 0===t||t.dispatch("dispatcheventinsandbox",{source:i,detail:{id:o,name:"Keystroke",value:e.target.value,willCommit:!0,commitKey:1,selStart:e.target.selectionStart,selEnd:e.target.selectionEnd}}));l(e)}),e.addEventListener("mousedown",function(e){s.beforeInputValue=e.target.value,s.beforeInputSelectionRange=null}),e.addEventListener("keyup",function(e){e.target.selectionStart===e.target.selectionEnd&&(s.beforeInputSelectionRange=null)}),e.addEventListener("select",function(e){s.beforeInputSelectionRange=[e.target.selectionStart,e.target.selectionEnd]}),null!==(u=this.data.actions)&&void 0!==u&&u.Keystroke&&e.addEventListener("input",function(e){var t,r=-1,n=-1;if(s.beforeInputSelectionRange){var a=f(s.beforeInputSelectionRange,2);r=a[0],n=a[1]}null===(t=i.linkService.eventBus)||void 0===t||t.dispatch("dispatcheventinsandbox",{source:i,detail:{id:o,name:"Keystroke",value:s.beforeInputValue,change:e.data,willCommit:!1,selStart:r,selEnd:n}})}),this._setEventListeners(e,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],function(e){return e.target.value})}if(a&&e.addEventListener("blur",a),e.disabled=this.data.readOnly,e.name=this.data.fieldName,null!==this.data.maxLen&&(e.maxLength=this.data.maxLen),this.data.comb){var c=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;e.classList.add("comb"),e.style.letterSpacing="calc(".concat(c,"px - 1ch)")}}else(e=document.createElement("div")).textContent=this.data.fieldValue,e.style.verticalAlign="middle",e.style.display="table-cell";return this._setTextStyle(e),this.container.appendChild(e),this.container}},{key:"_setTextStyle",value:function(e){var t=this.data.defaultAppearanceData,r=t.fontSize,n=t.fontColor,a=e.style;r&&(a.fontSize="".concat(r,"px")),a.color=v.Util.makeHexColor(n[0],n[1],n[2]),null!==this.data.textAlignment&&(a.textAlign=["left","center","right"][this.data.textAlignment])}}]),n}(),P=function(e){i(r,x);var t=l(r);function r(e){return m(this,r),t.call(this,e,{isRenderable:e.renderInteractiveForms})}return _(r,[{key:"render",value:function(){var n=this,i=this.annotationStorage,e=this.data,o=e.id,t=i.getValue(o,{value:e.fieldValue&&(e.exportValue&&e.exportValue===e.fieldValue||!e.exportValue&&"Off"!==e.fieldValue)}).value;this.container.className="buttonWidgetAnnotation checkBox";var r=document.createElement("input");return r.disabled=e.readOnly,r.type="checkbox",r.name=this.data.fieldName,t&&r.setAttribute("checked",!0),r.setAttribute("id",o),r.addEventListener("change",function(e){var t,r=e.target.name,n=g(document.getElementsByName(r));try{for(n.s();!(t=n.n()).done;){var a=t.value;a!==e.target&&(a.checked=!1,i.setValue(a.parentNode.getAttribute("data-annotation-id"),{value:!1}))}}catch(e){n.e(e)}finally{n.f()}i.setValue(o,{value:e.target.checked})}),this.enableScripting&&this.hasJSActions&&(r.addEventListener("updatefromsandbox",function(e){var t=e.detail,r={value:function(){e.target.checked="Off"!==t.value,i.setValue(o,{value:e.target.checked})},focus:function(){setTimeout(function(){return e.target.focus({preventScroll:!1})},0)},hidden:function(){e.target.style.visibility=t.hidden?"hidden":"visible",i.setValue(o,{hidden:t.hidden})},editable:function(){e.target.disabled=!t.editable}};Object.keys(t).filter(function(e){return e in r}).forEach(function(e){return r[e]()}),n._setColor(e)}),this._setEventListeners(r,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],function(e){return e.target.checked})),this.container.appendChild(r),this.container}}]),r}(),T=function(e){i(r,x);var t=l(r);function r(e){return m(this,r),t.call(this,e,{isRenderable:e.renderInteractiveForms})}return _(r,[{key:"render",value:function(){var e=this;this.container.className="buttonWidgetAnnotation radioButton";var s=this.annotationStorage,t=this.data,u=t.id,r=s.getValue(u,{value:t.fieldValue===t.buttonValue}).value,n=document.createElement("input");if(n.disabled=t.readOnly,n.type="radio",n.name=t.fieldName,r&&n.setAttribute("checked",!0),n.setAttribute("id",u),n.addEventListener("change",function(e){var t,r=e.target,n=g(document.getElementsByName(r.name));try{for(n.s();!(t=n.n()).done;){var a=t.value;a!==r&&s.setValue(a.getAttribute("id"),{value:!1})}}catch(e){n.e(e)}finally{n.f()}s.setValue(u,{value:r.checked})}),this.enableScripting&&this.hasJSActions){var l=t.buttonValue;n.addEventListener("updatefromsandbox",function(i){var o=i.detail,t={value:function(){var e,t=l===o.value,r=g(document.getElementsByName(i.target.name));try{for(r.s();!(e=r.n()).done;){var n=e.value,a=n.getAttribute("id");n.checked=a===u&&t,s.setValue(a,{value:n.checked})}}catch(e){r.e(e)}finally{r.f()}},focus:function(){setTimeout(function(){return i.target.focus({preventScroll:!1})},0)},hidden:function(){i.target.style.visibility=o.hidden?"hidden":"visible",s.setValue(u,{hidden:o.hidden})},editable:function(){i.target.disabled=!o.editable}};Object.keys(o).filter(function(e){return e in t}).forEach(function(e){return t[e]()}),e._setColor(i)}),this._setEventListeners(n,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],function(e){return e.target.checked})}return this.container.appendChild(n),this.container}}]),r}(),R=function(e){i(r,w);var t=l(r);function r(){return m(this,r),t.apply(this,arguments)}return _(r,[{key:"render",value:function(){var e=n(d(r.prototype),"render",this).call(this);return e.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(e.title=this.data.alternativeText),e}}]),r}(),E=function(e){i(r,x);var t=l(r);function r(e){return m(this,r),t.call(this,e,{isRenderable:e.renderInteractiveForms})}return _(r,[{key:"render",value:function(){var a=this;this.container.className="choiceWidgetAnnotation";var l=this.annotationStorage,c=this.data.id;l.getValue(c,{value:0<this.data.fieldValue.length?this.data.fieldValue[0]:void 0});var f=document.createElement("select");f.disabled=this.data.readOnly,f.name=this.data.fieldName,f.setAttribute("id",c),this.data.combo||(f.size=this.data.options.length,this.data.multiSelect&&(f.multiple=!0));var e,t=g(this.data.options);try{for(t.s();!(e=t.n()).done;){var r=e.value,n=document.createElement("option");n.textContent=r.displayValue,n.value=r.exportValue,this.data.fieldValue.includes(r.exportValue)&&n.setAttribute("selected",!0),f.appendChild(n)}}catch(e){t.e(e)}finally{t.f()}var d=function(e,t){var r=t?"value":"textContent",n=e.target.options;return e.target.multiple?Array.prototype.filter.call(n,function(e){return e.selected}).map(function(e){return e[r]}):-1===n.selectedIndex?null:n[n.selectedIndex][r]},h=function(e){var t=e.target.options;return Array.prototype.map.call(t,function(e){return{displayValue:e.textContent,exportValue:e.value}})};return this.enableScripting&&this.hasJSActions?(f.addEventListener("updatefromsandbox",function(s){var u=s.detail,t={value:function(){var e=f.options,t=u.value,r=new Set(Array.isArray(t)?t:[t]);Array.prototype.forEach.call(e,function(e){e.selected=r.has(e.value)}),l.setValue(c,{value:d(s,!0)})},multipleSelection:function(){f.multiple=!0},remove:function(){var e=f.options,t=u.remove;(e[t].selected=!1,f.remove(t),0<e.length)&&(-1===Array.prototype.findIndex.call(e,function(e){return e.selected})&&(e[0].selected=!0));l.setValue(c,{value:d(s,!0),items:h(s)})},clear:function(){for(;0!==f.length;)f.remove(0);l.setValue(c,{value:null,items:[]})},insert:function(){var e=u.insert,t=e.index,r=e.displayValue,n=e.exportValue,a=document.createElement("option");a.textContent=r,a.value=n,f.insertBefore(a,f.children[t]),l.setValue(c,{value:d(s,!0),items:h(s)})},items:function(){for(var e=u.items;0!==f.length;)f.remove(0);var t,r=g(e);try{for(r.s();!(t=r.n()).done;){var n=t.value,a=n.displayValue,i=n.exportValue,o=document.createElement("option");o.textContent=a,o.value=i,f.appendChild(o)}}catch(e){r.e(e)}finally{r.f()}0<f.options.length&&(f.options[0].selected=!0),l.setValue(c,{value:d(s,!0),items:h(s)})},indices:function(){var r=new Set(u.indices),e=s.target.options;Array.prototype.forEach.call(e,function(e,t){e.selected=r.has(t)}),l.setValue(c,{value:d(s,!0)})},focus:function(){setTimeout(function(){return s.target.focus({preventScroll:!1})},0)},hidden:function(){s.target.style.visibility=u.hidden?"hidden":"visible",l.setValue(c,{hidden:u.hidden})},editable:function(){s.target.disabled=!u.editable}};Object.keys(u).filter(function(e){return e in t}).forEach(function(e){return t[e]()}),a._setColor(s)}),f.addEventListener("input",function(e){var t,r=d(e,!0),n=d(e,!1);l.setValue(c,{value:r}),null===(t=a.linkService.eventBus)||void 0===t||t.dispatch("dispatcheventinsandbox",{source:a,detail:{id:c,name:"Keystroke",value:n,changeEx:r,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(f,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],function(e){return e.target.checked})):f.addEventListener("input",function(e){l.setValue(c,{value:d(e)})}),this.container.appendChild(f),this.container}}]),r}(),O=function(e){i(n,S);var r=l(n);function n(e){m(this,n);var t=!(!e.data.title&&!e.data.contents);return r.call(this,e,{isRenderable:t})}return _(n,[{key:"render",value:function(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;var e='[data-annotation-id="'.concat(this.data.parentId,'"]'),t=this.layer.querySelectorAll(e);if(0===t.length)return this.container;var r=new F({container:this.container,trigger:Array.from(t),color:this.data.color,title:this.data.title,modificationDate:this.data.modificationDate,contents:this.data.contents}),n=this.page,a=v.Util.normalizeRect([this.data.parentRect[0],n.view[3]-this.data.parentRect[1]+n.view[1],this.data.parentRect[2],n.view[3]-this.data.parentRect[3]+n.view[1]]),i=a[0]+this.data.parentRect[2]-this.data.parentRect[0],o=a[1];return this.container.style.transformOrigin="".concat(-i,"px ").concat(-o,"px"),this.container.style.left="".concat(i,"px"),this.container.style.top="".concat(o,"px"),this.container.appendChild(r.render()),this.container}}]),n}(),F=function(){function t(e){m(this,t),this.container=e.container,this.trigger=e.trigger,this.color=e.color,this.title=e.title,this.modificationDate=e.modificationDate,this.contents=e.contents,this.hideWrapper=e.hideWrapper||!1,this.pinned=!1}return _(t,[{key:"render",value:function(){var t=this,e=document.createElement("div");e.className="popupWrapper",this.hideElement=this.hideWrapper?e:this.container,this.hideElement.hidden=!0;var r=document.createElement("div");r.className="popup";var n=this.color;if(n){var a=.7*(255-n[0])+n[0],i=.7*(255-n[1])+n[1],o=.7*(255-n[2])+n[2];r.style.backgroundColor=v.Util.makeHexColor(0|a,0|i,0|o)}var s=document.createElement("h1");s.textContent=this.title,r.appendChild(s);var u=p.PDFDateString.toDateObject(this.modificationDate);if(u){var l=document.createElement("span");l.textContent="1762013335229, ",l.dataset.l10nId="annotation_date_string",l.dataset.l10nArgs=JSON.stringify({date:u.toLocaleDateString(),time:u.toLocaleTimeString()}),r.appendChild(l)}var c=this._formatContents(this.contents);return r.appendChild(c),Array.isArray(this.trigger)||(this.trigger=[this.trigger]),this.trigger.forEach(function(e){e.addEventListener("click",t._toggle.bind(t)),e.addEventListener("mouseover",t._show.bind(t,!1)),e.addEventListener("mouseout",t._hide.bind(t,!1))}),r.addEventListener("click",this._hide.bind(this,!0)),e.appendChild(r),e}},{key:"_formatContents",value:function(e){for(var t=document.createElement("p"),r=e.split(/(?:\r\n?|\n)/),n=0,a=r.length;n<a;++n){var i=r[n];t.appendChild(document.createTextNode(i)),n<a-1&&t.appendChild(document.createElement("br"))}return t}},{key:"_toggle",value:function(){this.pinned?this._hide(!0):this._show(!0)}},{key:"_show",value:function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0]&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex+=1)}},{key:"_hide",value:function(){(!(0<arguments.length&&void 0!==arguments[0])||arguments[0])&&(this.pinned=!1),this.hideElement.hidden||this.pinned||(this.hideElement.hidden=!0,this.container.style.zIndex-=1)}}]),t}(),L=function(e){i(n,S);var r=l(n);function n(e){m(this,n);var t=!!(e.data.hasPopup||e.data.title||e.data.contents);return r.call(this,e,{isRenderable:t,ignoreBorder:!0})}return _(n,[{key:"render",value:function(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}]),n}(),M=function(e){i(n,S);var r=l(n);function n(e){m(this,n);var t=!!(e.data.hasPopup||e.data.title||e.data.contents);return r.call(this,e,{isRenderable:t,ignoreBorder:!0})}return _(n,[{key:"render",value:function(){this.container.className="lineAnnotation";var e=this.data,t=e.rect[2]-e.rect[0],r=e.rect[3]-e.rect[1],n=this.svgFactory.create(t,r),a=this.svgFactory.createElement("svg:line");return a.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),a.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),a.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),a.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),a.setAttribute("stroke-width",e.borderStyle.width||1),a.setAttribute("stroke","transparent"),n.appendChild(a),this.container.append(n),this._createPopup(a,e),this.container}}]),n}(),I=function(e){i(n,S);var r=l(n);function n(e){m(this,n);var t=!!(e.data.hasPopup||e.data.title||e.data.contents);return r.call(this,e,{isRenderable:t,ignoreBorder:!0})}return _(n,[{key:"render",value:function(){this.container.className="squareAnnotation";var e=this.data,t=e.rect[2]-e.rect[0],r=e.rect[3]-e.rect[1],n=this.svgFactory.create(t,r),a=e.borderStyle.width,i=this.svgFactory.createElement("svg:rect");return i.setAttribute("x",a/2),i.setAttribute("y",a/2),i.setAttribute("width",t-a),i.setAttribute("height",r-a),i.setAttribute("stroke-width",a||1),i.setAttribute("stroke","transparent"),i.setAttribute("fill","none"),n.appendChild(i),this.container.append(n),this._createPopup(i,e),this.container}}]),n}(),j=function(e){i(n,S);var r=l(n);function n(e){m(this,n);var t=!!(e.data.hasPopup||e.data.title||e.data.contents);return r.call(this,e,{isRenderable:t,ignoreBorder:!0})}return _(n,[{key:"render",value:function(){this.container.className="circleAnnotation";var e=this.data,t=e.rect[2]-e.rect[0],r=e.rect[3]-e.rect[1],n=this.svgFactory.create(t,r),a=e.borderStyle.width,i=this.svgFactory.createElement("svg:ellipse");return i.setAttribute("cx",t/2),i.setAttribute("cy",r/2),i.setAttribute("rx",t/2-a/2),i.setAttribute("ry",r/2-a/2),i.setAttribute("stroke-width",a||1),i.setAttribute("stroke","transparent"),i.setAttribute("fill","none"),n.appendChild(i),this.container.append(n),this._createPopup(i,e),this.container}}]),n}(),D=function(e){i(a,S);var n=l(a);function a(e){var t;m(this,a);var r=!!(e.data.hasPopup||e.data.title||e.data.contents);return(t=n.call(this,e,{isRenderable:r,ignoreBorder:!0})).containerClassName="polylineAnnotation",t.svgElementName="svg:polyline",t}return _(a,[{key:"render",value:function(){this.container.className=this.containerClassName;var e,t=this.data,r=t.rect[2]-t.rect[0],n=t.rect[3]-t.rect[1],a=this.svgFactory.create(r,n),i=[],o=g(t.vertices);try{for(o.s();!(e=o.n()).done;){var s=e.value,u=s.x-t.rect[0],l=t.rect[3]-s.y;i.push(u+","+l)}}catch(e){o.e(e)}finally{o.f()}i=i.join(" ");var c=this.svgFactory.createElement(this.svgElementName);return c.setAttribute("points",i),c.setAttribute("stroke-width",t.borderStyle.width||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","none"),a.appendChild(c),this.container.append(a),this._createPopup(c,t),this.container}}]),a}(),N=function(e){i(n,D);var r=l(n);function n(e){var t;return m(this,n),(t=r.call(this,e)).containerClassName="polygonAnnotation",t.svgElementName="svg:polygon",t}return n}(),q=function(e){i(n,S);var r=l(n);function n(e){m(this,n);var t=!!(e.data.hasPopup||e.data.title||e.data.contents);return r.call(this,e,{isRenderable:t,ignoreBorder:!0})}return _(n,[{key:"render",value:function(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}]),n}(),W=function(e){i(a,S);var n=l(a);function a(e){var t;m(this,a);var r=!!(e.data.hasPopup||e.data.title||e.data.contents);return(t=n.call(this,e,{isRenderable:r,ignoreBorder:!0})).containerClassName="inkAnnotation",t.svgElementName="svg:polyline",t}return _(a,[{key:"render",value:function(){this.container.className=this.containerClassName;var e,t=this.data,r=t.rect[2]-t.rect[0],n=t.rect[3]-t.rect[1],a=this.svgFactory.create(r,n),i=g(t.inkLists);try{for(i.s();!(e=i.n()).done;){var o,s=e.value,u=[],l=g(s);try{for(l.s();!(o=l.n()).done;){var c=o.value,f=c.x-t.rect[0],d=t.rect[3]-c.y;u.push("".concat(f,",").concat(d))}}catch(e){l.e(e)}finally{l.f()}u=u.join(" ");var h=this.svgFactory.createElement(this.svgElementName);h.setAttribute("points",u),h.setAttribute("stroke-width",t.borderStyle.width||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","none"),this._createPopup(h,t),a.appendChild(h)}}catch(e){i.e(e)}finally{i.f()}return this.container.append(a),this.container}}]),a}(),U=function(e){i(n,S);var r=l(n);function n(e){m(this,n);var t=!!(e.data.hasPopup||e.data.title||e.data.contents);return r.call(this,e,{isRenderable:t,ignoreBorder:!0,createQuadrilaterals:!0})}return _(n,[{key:"render",value:function(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}]),n}(),B=function(e){i(n,S);var r=l(n);function n(e){m(this,n);var t=!!(e.data.hasPopup||e.data.title||e.data.contents);return r.call(this,e,{isRenderable:t,ignoreBorder:!0,createQuadrilaterals:!0})}return _(n,[{key:"render",value:function(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}]),n}(),G=function(e){i(n,S);var r=l(n);function n(e){m(this,n);var t=!!(e.data.hasPopup||e.data.title||e.data.contents);return r.call(this,e,{isRenderable:t,ignoreBorder:!0,createQuadrilaterals:!0})}return _(n,[{key:"render",value:function(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}]),n}(),z=function(e){i(n,S);var r=l(n);function n(e){m(this,n);var t=!!(e.data.hasPopup||e.data.title||e.data.contents);return r.call(this,e,{isRenderable:t,ignoreBorder:!0,createQuadrilaterals:!0})}return _(n,[{key:"render",value:function(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}]),n}(),H=function(e){i(n,S);var r=l(n);function n(e){m(this,n);var t=!!(e.data.hasPopup||e.data.title||e.data.contents);return r.call(this,e,{isRenderable:t,ignoreBorder:!0})}return _(n,[{key:"render",value:function(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}]),n}(),V=function(e){i(s,S);var o=l(s);function s(e){var t,r;m(this,s);var n=(r=o.call(this,e,{isRenderable:!0})).data.file,a=n.filename,i=n.content;return r.filename=(0,p.getFilenameFromUrl)(a),r.content=i,null===(t=r.linkService.eventBus)||void 0===t||t.dispatch("fileattachmentannotation",{source:c(r),id:(0,v.stringToPDFString)(a),filename:a,content:i}),r}return _(s,[{key:"render",value:function(){this.container.className="fileAttachmentAnnotation";var e=document.createElement("div");return e.style.height=this.container.style.height,e.style.width=this.container.style.width,e.addEventListener("dblclick",this._download.bind(this)),this.data.hasPopup||!this.data.title&&!this.data.contents||this._createPopup(e,this.data),this.container.appendChild(e),this.container}},{key:"_download",value:function(){var e;null===(e=this.downloadManager)||void 0===e||e.openOrDownloadData(this.container,this.content,this.filename)}}]),s}(),Y=function(){function e(){m(this,e)}return _(e,null,[{key:"render",value:function(e){var t,r=[],n=[],a=g(e.annotations);try{for(a.s();!(t=a.n()).done;){var i=t.value;i&&(i.annotationType!==v.AnnotationType.POPUP?r.push(i):n.push(i))}}catch(e){a.e(e)}finally{a.f()}n.length&&r.push.apply(r,n);for(var o=0,s=r;o<s.length;o++){var u=s[o],l=A.create({data:u,layer:e.div,page:e.page,viewport:e.viewport,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderInteractiveForms:!1!==e.renderInteractiveForms,svgFactory:new p.DOMSVGFactory,annotationStorage:e.annotationStorage||new y.AnnotationStorage,enableScripting:e.enableScripting,hasJSActions:e.hasJSActions,mouseState:e.mouseState||{isDown:!1}});if(l.isRenderable){var c=l.render();if(u.hidden&&(c.style.visibility="hidden"),Array.isArray(c)){var f,d=g(c);try{for(d.s();!(f=d.n()).done;){var h=f.value;e.div.appendChild(h)}}catch(e){d.e(e)}finally{d.f()}}else l instanceof O?e.div.prepend(c):e.div.appendChild(c)}}}},{key:"update",value:function(e){var t,r="matrix(".concat(e.viewport.transform.join(","),")"),n=g(e.annotations);try{for(n.s();!(t=n.n()).done;){var a=t.value,i=e.div.querySelectorAll('[data-annotation-id="'.concat(a.id,'"]'));i&&i.forEach(function(e){e.style.transform=r})}}catch(e){n.e(e)}finally{n.f()}e.div.hidden=!1}}]),e}();t.AnnotationLayer=Y},function(e,t){function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e){return Math.floor(255*Math.max(0,Math.min(1,e))).toString(16).padStart(2,"0")}Object.defineProperty(t,"__esModule",{value:!0}),t.ColorConverters=void 0;var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,n;return t=e,n=[{key:"CMYK_G",value:function(e){var t=u(e,4),r=t[0],n=t[1],a=t[2],i=t[3];return["G",1-Math.min(1,.3*r+.59*a+.11*n+i)]}},{key:"G_CMYK",value:function(e){return["CMYK",0,0,0,1-u(e,1)[0]]}},{key:"G_RGB",value:function(e){var t=u(e,1)[0];return["RGB",t,t,t]}},{key:"G_HTML",value:function(e){var t=l(u(e,1)[0]);return"#".concat(t).concat(t).concat(t)}},{key:"RGB_G",value:function(e){var t=u(e,3);return["G",.3*t[0]+.59*t[1]+.11*t[2]]}},{key:"RGB_HTML",value:function(e){var t=u(e,3),r=t[0],n=t[1],a=t[2],i=l(r),o=l(n),s=l(a);return"#".concat(i).concat(o).concat(s)}},{key:"T_HTML",value:function(){return"#00000000"}},{key:"CMYK_RGB",value:function(e){var t=u(e,4),r=t[0],n=t[1],a=t[2],i=t[3];return["RGB",1-Math.min(1,r+i),1-Math.min(1,a+i),1-Math.min(1,n+i)]}},{key:"CMYK_HTML",value:function(e){return this.RGB_HTML(this.CMYK_RGB(e))}},{key:"RGB_CMYK",value:function(e){var t=u(e,3),r=1-t[0],n=1-t[1],a=1-t[2];return["CMYK",r,n,a,Math.min(r,n,a)]}}],(r=null)&&a(t.prototype,r),n&&a(t,n),e}();t.ColorConverters=r},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.renderTextLayer=void 0;var P=r(4),n=function(){var w=30,k=.8,x=new Map,C=/\S/;function a(e,t,r,n){var a,i=document.createElement("span"),o={angle:0,canvasWidth:0,isWhitespace:!1,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1};if(e._textDivs.push(i),a=t.str,!C.test(a))return o.isWhitespace=!0,void e._textDivProperties.set(i,o);var s=P.Util.transform(e._viewport.transform,t.transform),u=Math.atan2(s[1],s[0]),l=r[t.fontName];l.vertical&&(u+=Math.PI/2);var c,f,d=Math.hypot(s[2],s[3]),h=d*function(e,t){var r=x.get(e);if(r)return r;t.save(),t.font="".concat(w,"px ").concat(e);var n=t.measureText(""),a=n.fontBoundingBoxAscent,i=Math.abs(n.fontBoundingBoxDescent);if(a){t.restore();var o=a/(a+i);return x.set(e,o),o}t.strokeStyle="red",t.clearRect(0,0,w,w),t.strokeText("g",0,0);var s=t.getImageData(0,0,w,w).data;i=0;for(var u=s.length-1-3;0<=u;u-=4)if(0<s[u]){i=Math.ceil(u/4/w);break}t.clearRect(0,0,w,w),t.strokeText("A",0,w);for(var l=a=0,c=(s=t.getImageData(0,0,w,w).data).length;l<c;l+=4)if(0<s[l]){a=w-Math.floor(l/4/w);break}if(t.restore(),a){var f=a/(a+i);return x.set(e,f),f}return x.set(e,k),k}(l.fontFamily,n);f=0===u?(c=s[4],s[5]-h):(c=s[4]+h*Math.sin(u),s[5]-h*Math.cos(u)),i.style.left="".concat(c,"px"),i.style.top="".concat(f,"px"),i.style.fontSize="".concat(d,"px"),i.style.fontFamily=l.fontFamily,i.textContent=t.str,i.dir=t.dir,e._fontInspectorEnabled&&(i.dataset.fontName=t.fontName),0!==u&&(o.angle=u*(180/Math.PI));var p=!1;if(1<t.str.length)p=!0;else if(t.transform[0]!==t.transform[3]){var v=Math.abs(t.transform[0]),y=Math.abs(t.transform[3]);v!==y&&1.5<Math.max(v,y)/Math.min(v,y)&&(p=!0)}if(p&&(l.vertical?o.canvasWidth=t.height*e._viewport.scale:o.canvasWidth=t.width*e._viewport.scale),e._textDivProperties.set(i,o),e._textContentStream&&e._layoutText(i),e._enhanceTextSelection){var g=1,m=0;0!==u&&(g=Math.cos(u),m=Math.sin(u));var b,_,A=(l.vertical?t.height:t.width)*e._viewport.scale,S=d;_=0!==u?(b=[g,m,-m,g,c,f],P.Util.getAxialAlignedBoundingBox([0,0,A,S],b)):[c,f,c+A,f+S],e._bounds.push({left:_[0],top:_[1],right:_[2],bottom:_[3],div:i,size:[A,S],m:b})}}function s(e){if(!e._canceled){var t=e._textDivs,r=e._capability,n=t.length;if(1e5<n)return e._renderingDone=!0,void r.resolve();if(!e._textContentStream)for(var a=0;a<n;a++)e._layoutText(t[a]);e._renderingDone=!0,r.resolve()}}function p(e,t,r){for(var n=0,a=0;a<r;a++){var i=e[t++];0<i&&(n=n?Math.min(i,n):i)}return n}function u(f){for(var d=f._bounds,e=f._viewport,h=function(a,e,t){var i=t.map(function(e,t){return{x1:e.left,y1:e.top,x2:e.right,y2:e.bottom,index:t,x1New:void 0,x2New:void 0}});n(a,i);var o=new Array(t.length);return i.forEach(function(e){var t=e.index;o[t]={left:e.x1New,top:0,right:e.x2New,bottom:0}}),t.map(function(e,t){var r=o[t],n=i[t];n.x1=e.top,n.y1=a-r.right,n.x2=e.bottom,n.y2=a-r.left,n.index=t,n.x1New=void 0,n.x2New=void 0}),n(e,i),i.forEach(function(e){var t=e.index;o[t].top=e.x1New,o[t].bottom=e.x2New}),o}(e.width,e.height,d),t=function(e){var t=d[e].div,r=f._textDivProperties.get(t);if(0===r.angle)return r.paddingLeft=d[e].left-h[e].left,r.paddingTop=d[e].top-h[e].top,r.paddingRight=h[e].right-d[e].right,r.paddingBottom=h[e].bottom-d[e].bottom,f._textDivProperties.set(t,r),"continue";var n=h[e],a=d[e],i=a.m,o=i[0],s=i[1],u=[[0,0],[0,a.size[1]],[a.size[0],0],a.size],l=new Float64Array(64);u.forEach(function(e,t){var r=P.Util.applyTransform(e,i);l[t+0]=o&&(n.left-r[0])/o,l[t+4]=s&&(n.top-r[1])/s,l[t+8]=o&&(n.right-r[0])/o,l[t+12]=s&&(n.bottom-r[1])/s,l[t+16]=s&&(n.left-r[0])/-s,l[t+20]=o&&(n.top-r[1])/o,l[t+24]=s&&(n.right-r[0])/-s,l[t+28]=o&&(n.bottom-r[1])/o,l[t+32]=o&&(n.left-r[0])/-o,l[t+36]=s&&(n.top-r[1])/-s,l[t+40]=o&&(n.right-r[0])/-o,l[t+44]=s&&(n.bottom-r[1])/-s,l[t+48]=s&&(n.left-r[0])/s,l[t+52]=o&&(n.top-r[1])/-o,l[t+56]=s&&(n.right-r[0])/s,l[t+60]=o&&(n.bottom-r[1])/-o});var c=1+Math.min(Math.abs(o),Math.abs(s));r.paddingLeft=p(l,32,16)/c,r.paddingTop=p(l,48,16)/c,r.paddingRight=p(l,0,16)/c,r.paddingBottom=p(l,16,16)/c,f._textDivProperties.set(t,r)},r=0;r<h.length;r++)t(r)}function n(r,e){e.sort(function(e,t){return e.x1-t.x1||e.index-t.index});var h=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];e.forEach(function(e){for(var t=0;t<h.length&&h[t].end<=e.y1;)t++;for(var r,n,a=h.length-1;0<=a&&h[a].start>=e.y2;)a--;var i,o,s=-1/0;for(i=t;i<=a;i++){var u=void 0;s<(u=(n=(r=h[i]).boundary).x2>e.x1?n.index>e.index?n.x1New:e.x1:void 0===n.x2New?(n.x2+e.x1)/2:n.x2New)&&(s=u)}for(e.x1New=s,i=t;i<=a;i++)void 0===(n=(r=h[i]).boundary).x2New?n.x2>e.x1?n.index>e.index&&(n.x2New=n.x2):n.x2New=s:n.x2New>s&&(n.x2New=Math.max(s,n.x2));var l=[],c=null;for(i=t;i<=a;i++){var f=(n=(r=h[i]).boundary).x2>e.x2?n:e;c===f?l[l.length-1].end=r.end:(l.push({start:r.start,end:r.end,boundary:f}),c=f)}for(h[t].start<e.y1&&(l[0].start=e.y1,l.unshift({start:h[t].start,end:e.y1,boundary:h[t].boundary})),e.y2<h[a].end&&(l[l.length-1].end=e.y2,l.push({start:e.y2,end:h[a].end,boundary:h[a].boundary})),i=t;i<=a;i++)if(void 0===(n=(r=h[i]).boundary).x2New){var d=!1;for(o=t-1;!d&&0<=o&&h[o].start>=n.y1;o--)d=h[o].boundary===n;for(o=a+1;!d&&o<h.length&&h[o].end<=n.y2;o++)d=h[o].boundary===n;for(o=0;!d&&o<l.length;o++)d=l[o].boundary===n;d||(n.x2New=s)}Array.prototype.splice.apply(h,[t,a-t+1].concat(l))}),h.forEach(function(e){var t=e.boundary;void 0===t.x2New&&(t.x2New=Math.max(r,t.x2))})}function r(e){var t,r=this,n=e.textContent,a=e.textContentStream,i=e.container,o=e.viewport,s=e.textDivs,u=e.textContentItemsStr,l=e.enhanceTextSelection;this._textContent=n,this._textContentStream=a,this._container=i,this._document=i.ownerDocument,this._viewport=o,this._textDivs=s||[],this._textContentItemsStr=u||[],this._enhanceTextSelection=!!l,this._fontInspectorEnabled=!(null===(t=globalThis.FontInspector)||void 0===t||!t.enabled),this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,P.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally(function(){r._layoutTextCtx&&(r._layoutTextCtx.canvas.width=0,r._layoutTextCtx.canvas.height=0,r._layoutTextCtx=null)}).catch(function(){})}return r.prototype={get promise(){return this._capability.promise},cancel:function(){this._canceled=!0,this._reader&&(this._reader.cancel(new P.AbortException("TextLayer task cancelled.")),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))},_processItems:function(e,t){for(var r=0,n=e.length;r<n;r++)this._textContentItemsStr.push(e[r].str),a(this,e[r],t,this._layoutTextCtx)},_layoutText:function(e){var t=this._textDivProperties.get(e);if(!t.isWhitespace){var r="";if(0!==t.canvasWidth){var n=e.style,a=n.fontSize,i=n.fontFamily;a===this._layoutTextLastFontSize&&i===this._layoutTextLastFontFamily||(this._layoutTextCtx.font="".concat(a," ").concat(i),this._layoutTextLastFontSize=a,this._layoutTextLastFontFamily=i);var o=this._layoutTextCtx.measureText(e.textContent).width;0<o&&(t.scale=t.canvasWidth/o,r="scaleX(".concat(t.scale,")"))}0!==t.angle&&(r="rotate(".concat(t.angle,"deg) ").concat(r)),0<r.length&&(this._enhanceTextSelection&&(t.originalTransform=r),e.style.transform=r),this._textDivProperties.set(e,t),this._container.appendChild(e)}},_render:function(e){var n=this,a=(0,P.createPromiseCapability)(),i=Object.create(null),t=this._document.createElement("canvas");if(t.height=t.width=w,t.mozOpaque=!0,this._layoutTextCtx=t.getContext("2d",{alpha:!1}),this._textContent){var r=this._textContent.items,o=this._textContent.styles;this._processItems(r,o),a.resolve()}else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');this._reader=this._textContentStream.getReader(),function r(){n._reader.read().then(function(e){var t=e.value;e.done?a.resolve():(Object.assign(i,t.styles),n._processItems(t.items,i),r())},a.reject)}()}a.promise.then(function(){i=null,e?n._renderTimer=setTimeout(function(){s(n),n._renderTimer=null},e):s(n)},this._capability.reject)},expandTextDivs:function(e){if(this._enhanceTextSelection&&this._renderingDone){null!==this._bounds&&(u(this),this._bounds=null);for(var t=[],r=[],n=0,a=this._textDivs.length;n<a;n++){var i=this._textDivs[n],o=this._textDivProperties.get(i);o.isWhitespace||(e?(t.length=0,r.length=0,o.originalTransform&&t.push(o.originalTransform),0<o.paddingTop?(r.push("".concat(o.paddingTop,"px")),t.push("translateY(".concat(-o.paddingTop,"px)"))):r.push(0),0<o.paddingRight?r.push("".concat(o.paddingRight/o.scale,"px")):r.push(0),0<o.paddingBottom?r.push("".concat(o.paddingBottom,"px")):r.push(0),0<o.paddingLeft?(r.push("".concat(o.paddingLeft/o.scale,"px")),t.push("translateX(".concat(-o.paddingLeft/o.scale,"px)"))):r.push(0),i.style.padding=r.join(" "),t.length&&(i.style.transform=t.join(" "))):(i.style.padding=null,i.style.transform=o.originalTransform))}}}},function(e){var t=new r({textContent:e.textContent,textContentStream:e.textContentStream,container:e.container,viewport:e.viewport,textDivs:e.textDivs,textContentItemsStr:e.textContentItemsStr,enhanceTextSelection:e.enhanceTextSelection});return t._render(e.timeout),t}}();t.renderTextLayer=n},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.SVGGraphics=void 0;var R=r(4),i=r(1),k=r(6);function E(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw i}}return r}(e,t)||u(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=u(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw i}}}}function u(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),e}var l=function(){throw new Error("Not implemented: SVGGraphics")};t.SVGGraphics=l;var F=function(e){if(Number.isInteger(e))return e.toString();var t=e.toFixed(10),r=t.length-1;if("0"!==t[r])return t;for(;"0"===t[--r];);return t.substring(0,"."===t[r]?r:r+1)},L=function(e){if(0===e[4]&&0===e[5]){if(0===e[1]&&0===e[2])return 1===e[0]&&1===e[3]?"":"scale(".concat(F(e[0])," ").concat(F(e[3]),")");if(e[0]===e[3]&&e[1]===-e[2]){var t=180*Math.acos(e[0])/Math.PI;return"rotate(".concat(F(t),")")}}else if(1===e[0]&&0===e[1]&&0===e[2]&&1===e[3])return"translate(".concat(F(e[4])," ").concat(F(e[5]),")");return"matrix(".concat(F(e[0])," ").concat(F(e[1])," ").concat(F(e[2])," ").concat(F(e[3])," ").concat(F(e[4])," ")+"".concat(F(e[5]),")")},M="normal",I="normal",j="#000000",c=["butt","round","square"],f=["miter","round","bevel"],d=function(){for(var A=new Uint8Array([137,80,78,71,13,10,26,10]),s=new Int32Array(256),e=0;e<256;e++){for(var t=e,r=0;r<8;r++)t=1&t?3988292384^t>>1&2147483647:t>>1&2147483647;s[e]=t}function S(e,t,r,n){var a=n,i=t.length;r[a]=i>>24&255,r[a+1]=i>>16&255,r[a+2]=i>>8&255,r[a+3]=255&i,r[a+=4]=255&e.charCodeAt(0),r[a+1]=255&e.charCodeAt(1),r[a+2]=255&e.charCodeAt(2),r[a+3]=255&e.charCodeAt(3),a+=4,r.set(t,a);var o=function(e,t,r){for(var n=-1,a=t;a<r;a++){var i=255&(n^e[a]);n=n>>>8^s[i]}return-1^n}(r,n+4,a+=t.length);r[a]=o>>24&255,r[a+1]=o>>16&255,r[a+2]=o>>8&255,r[a+3]=255&o}function w(e){var t=e.length,r=65535,n=Math.ceil(t/r),a=new Uint8Array(2+t+5*n+4),i=0;a[i++]=120,a[i++]=156;for(var o=0;r<t;)a[i++]=0,a[i++]=255,a[i++]=255,a[i++]=0,a[i++]=0,a.set(e.subarray(o,o+r),i),i+=r,o+=r,t-=r;a[i++]=1,a[i++]=255&t,a[i++]=t>>8&255,a[i++]=255&~t,a[i++]=(65535&~t)>>8&255,a.set(e.subarray(o),i),i+=e.length-o;var s=function(e,t,r){for(var n=1,a=0,i=t;i<r;++i)a=(a+(n=(n+(255&e[i]))%65521))%65521;return a<<16|n}(e,0,e.length);return a[i++]=s>>24&255,a[i++]=s>>16&255,a[i++]=s>>8&255,a[i++]=255&s,a}function n(e,t,r,n){var a,i,o,s=e.width,u=e.height,l=e.data;switch(t){case R.ImageKind.GRAYSCALE_1BPP:i=0,a=1,o=s+7>>3;break;case R.ImageKind.RGB_24BPP:i=2,a=8,o=3*s;break;case R.ImageKind.RGBA_32BPP:i=6,a=8,o=4*s;break;default:throw new Error("invalid format")}for(var c=new Uint8Array((1+o)*u),f=0,d=0,h=0;h<u;++h)c[f++]=0,c.set(l.subarray(d,d+o),f),d+=o,f+=o;if(t===R.ImageKind.GRAYSCALE_1BPP&&n)for(var p=f=0;p<u;p++){f++;for(var v=0;v<o;v++)c[f++]^=255}var y=new Uint8Array([s>>24&255,s>>16&255,s>>8&255,255&s,u>>24&255,u>>16&255,u>>8&255,255&u,a,i,0,0,0]),g=function(e){if(!k.isNodeJS)return w(e);try{var t;t=8<=parseInt(process.versions.node)?e:Buffer.from(e);var r=require("zlib").deflateSync(t,{level:9});return r instanceof Uint8Array?r:new Uint8Array(r)}catch(e){(0,R.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+e)}return w(e)}(c),m=A.length+36+y.length+g.length,b=new Uint8Array(m),_=0;return b.set(A,_),S("IHDR",y,b,_+=A.length),S("IDATA",g,b,_+=12+y.length),_+=12+g.length,S("IEND",new Uint8Array(0),b,_),(0,R.createObjectURL)(b,"image/png",r)}return function(e,t,r){return n(e,void 0===e.kind?R.ImageKind.GRAYSCALE_1BPP:e.kind,t,r)}}(),h=function(){function e(){o(this,e),this.fontSizeScale=1,this.fontWeight=I,this.fontSize=0,this.textMatrix=R.IDENTITY_MATRIX,this.fontMatrix=R.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=R.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=j,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}return s(e,[{key:"clone",value:function(){return Object.create(this)}},{key:"setCurrentPoint",value:function(e,t){this.x=e,this.y=t}}]),e}(),p=0,v=0,D=0;t.SVGGraphics=l=function(){function a(e,t){var r=2<arguments.length&&void 0!==arguments[2]&&arguments[2];for(var n in o(this,a),this.svgFactory=new i.DOMSVGFactory,this.current=new h,this.transformMatrix=R.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=e,this.objs=t,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!r,this._operatorIdMapping=[],R.OPS)this._operatorIdMapping[R.OPS[n]]=n}return s(a,[{key:"save",value:function(){this.transformStack.push(this.transformMatrix);var e=this.current;this.extraStack.push(e),this.current=e.clone()}},{key:"restore",value:function(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}},{key:"group",value:function(e){this.save(),this.executeOpTree(e),this.restore()}},{key:"loadDependencies",value:function(e){for(var n=this,t=e.fnArray,r=e.argsArray,a=0,i=t.length;a<i;a++)if(t[a]===R.OPS.dependency){var o,s=T(r[a]);try{var u=function(){var t=o.value,r=t.startsWith("g_")?n.commonObjs:n.objs,e=new Promise(function(e){r.get(t,e)});n.current.dependencies.push(e)};for(s.s();!(o=s.n()).done;)u()}catch(e){s.e(e)}finally{s.f()}}return Promise.all(this.current.dependencies)}},{key:"transform",value:function(e,t,r,n,a,i){var o=[e,t,r,n,a,i];this.transformMatrix=R.Util.transform(this.transformMatrix,o),this.tgrp=null}},{key:"getSVG",value:function(e,t){var r=this;this.viewport=t;var n=this._initialize(t);return this.loadDependencies(e).then(function(){return r.transformMatrix=R.IDENTITY_MATRIX,r.executeOpTree(r.convertOpList(e)),n})}},{key:"convertOpList",value:function(e){for(var t=this._operatorIdMapping,r=e.argsArray,n=e.fnArray,a=[],i=0,o=n.length;i<o;i++){var s=n[i];a.push({fnId:s,fn:t[s],args:r[i]})}return function(e){var t,r=[],n=[],a=T(e);try{for(a.s();!(t=a.n()).done;){var i=t.value;"save"!==i.fn?"restore"===i.fn?r=n.pop():r.push(i):(r.push({fnId:92,fn:"group",items:[]}),n.push(r),r=r[r.length-1].items)}}catch(e){a.e(e)}finally{a.f()}return r}(a)}},{key:"executeOpTree",value:function(e){var t,r=T(e);try{for(r.s();!(t=r.n()).done;){var n=t.value,a=n.fn,i=n.fnId,o=n.args;switch(0|i){case R.OPS.beginText:this.beginText();break;case R.OPS.dependency:break;case R.OPS.setLeading:this.setLeading(o);break;case R.OPS.setLeadingMoveText:this.setLeadingMoveText(o[0],o[1]);break;case R.OPS.setFont:this.setFont(o);break;case R.OPS.showText:case R.OPS.showSpacedText:this.showText(o[0]);break;case R.OPS.endText:this.endText();break;case R.OPS.moveText:this.moveText(o[0],o[1]);break;case R.OPS.setCharSpacing:this.setCharSpacing(o[0]);break;case R.OPS.setWordSpacing:this.setWordSpacing(o[0]);break;case R.OPS.setHScale:this.setHScale(o[0]);break;case R.OPS.setTextMatrix:this.setTextMatrix(o[0],o[1],o[2],o[3],o[4],o[5]);break;case R.OPS.setTextRise:this.setTextRise(o[0]);break;case R.OPS.setTextRenderingMode:this.setTextRenderingMode(o[0]);break;case R.OPS.setLineWidth:this.setLineWidth(o[0]);break;case R.OPS.setLineJoin:this.setLineJoin(o[0]);break;case R.OPS.setLineCap:this.setLineCap(o[0]);break;case R.OPS.setMiterLimit:this.setMiterLimit(o[0]);break;case R.OPS.setFillRGBColor:this.setFillRGBColor(o[0],o[1],o[2]);break;case R.OPS.setStrokeRGBColor:this.setStrokeRGBColor(o[0],o[1],o[2]);break;case R.OPS.setStrokeColorN:this.setStrokeColorN(o);break;case R.OPS.setFillColorN:this.setFillColorN(o);break;case R.OPS.shadingFill:this.shadingFill(o[0]);break;case R.OPS.setDash:this.setDash(o[0],o[1]);break;case R.OPS.setRenderingIntent:this.setRenderingIntent(o[0]);break;case R.OPS.setFlatness:this.setFlatness(o[0]);break;case R.OPS.setGState:this.setGState(o[0]);break;case R.OPS.fill:this.fill();break;case R.OPS.eoFill:this.eoFill();break;case R.OPS.stroke:this.stroke();break;case R.OPS.fillStroke:this.fillStroke();break;case R.OPS.eoFillStroke:this.eoFillStroke();break;case R.OPS.clip:this.clip("nonzero");break;case R.OPS.eoClip:this.clip("evenodd");break;case R.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case R.OPS.paintImageXObject:this.paintImageXObject(o[0]);break;case R.OPS.paintInlineImageXObject:this.paintInlineImageXObject(o[0]);break;case R.OPS.paintImageMaskXObject:this.paintImageMaskXObject(o[0]);break;case R.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(o[0],o[1]);break;case R.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case R.OPS.closePath:this.closePath();break;case R.OPS.closeStroke:this.closeStroke();break;case R.OPS.closeFillStroke:this.closeFillStroke();break;case R.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case R.OPS.nextLine:this.nextLine();break;case R.OPS.transform:this.transform(o[0],o[1],o[2],o[3],o[4],o[5]);break;case R.OPS.constructPath:this.constructPath(o[0],o[1]);break;case R.OPS.endPath:this.endPath();break;case 92:this.group(n.items);break;default:(0,R.warn)("Unimplemented operator ".concat(a))}}}catch(e){r.e(e)}finally{r.f()}}},{key:"setWordSpacing",value:function(e){this.current.wordSpacing=e}},{key:"setCharSpacing",value:function(e){this.current.charSpacing=e}},{key:"nextLine",value:function(){this.moveText(0,this.current.leading)}},{key:"setTextMatrix",value:function(e,t,r,n,a,i){var o=this.current;o.textMatrix=o.lineMatrix=[e,t,r,n,a,i],o.textMatrixScale=Math.hypot(e,t),o.x=o.lineX=0,o.y=o.lineY=0,o.xcoords=[],o.ycoords=[],o.tspan=this.svgFactory.createElement("svg:tspan"),o.tspan.setAttributeNS(null,"font-family",o.fontFamily),o.tspan.setAttributeNS(null,"font-size","".concat(F(o.fontSize),"px")),o.tspan.setAttributeNS(null,"y",F(-o.y)),o.txtElement=this.svgFactory.createElement("svg:text"),o.txtElement.appendChild(o.tspan)}},{key:"beginText",value:function(){var e=this.current;e.x=e.lineX=0,e.y=e.lineY=0,e.textMatrix=R.IDENTITY_MATRIX,e.lineMatrix=R.IDENTITY_MATRIX,e.textMatrixScale=1,e.tspan=this.svgFactory.createElement("svg:tspan"),e.txtElement=this.svgFactory.createElement("svg:text"),e.txtgrp=this.svgFactory.createElement("svg:g"),e.xcoords=[],e.ycoords=[]}},{key:"moveText",value:function(e,t){var r=this.current;r.x=r.lineX+=e,r.y=r.lineY+=t,r.xcoords=[],r.ycoords=[],r.tspan=this.svgFactory.createElement("svg:tspan"),r.tspan.setAttributeNS(null,"font-family",r.fontFamily),r.tspan.setAttributeNS(null,"font-size","".concat(F(r.fontSize),"px")),r.tspan.setAttributeNS(null,"y",F(-r.y))}},{key:"showText",value:function(e){var t=this.current,r=t.font,n=t.fontSize;if(0!==n){var a,i=t.fontSizeScale,o=t.charSpacing,s=t.wordSpacing,u=t.fontDirection,l=t.textHScale*u,c=r.vertical,f=c?1:-1,d=r.defaultVMetrics,h=n*t.fontMatrix[0],p=0,v=T(e);try{for(v.s();!(a=v.n()).done;){var y=a.value;if(null!==y)if((0,R.isNum)(y))p+=f*y*n/1e3;else{var g=(y.isSpace?s:0)+o,m=y.fontChar,b=void 0,_=void 0,A=y.width;if(c){var S=void 0,w=y.vmetric||d;S=-(S=y.vmetric?w[1]:.5*A)*h;var k=w[2]*h;A=w?-w[0]:A,b=S/i,_=(p+k)/i}else b=p/i,_=0;(y.isInFont||r.missingFile)&&(t.xcoords.push(t.x+b),c&&t.ycoords.push(-t.y+_),t.tspan.textContent+=m);p+=c?A*h-g*u:A*h+g*u}else p+=u*s}}catch(e){v.e(e)}finally{v.f()}t.tspan.setAttributeNS(null,"x",t.xcoords.map(F).join(" ")),c?t.tspan.setAttributeNS(null,"y",t.ycoords.map(F).join(" ")):t.tspan.setAttributeNS(null,"y",F(-t.y)),c?t.y-=p:t.x+=p*l,t.tspan.setAttributeNS(null,"font-family",t.fontFamily),t.tspan.setAttributeNS(null,"font-size","".concat(F(t.fontSize),"px")),t.fontStyle!==M&&t.tspan.setAttributeNS(null,"font-style",t.fontStyle),t.fontWeight!==I&&t.tspan.setAttributeNS(null,"font-weight",t.fontWeight);var x=t.textRenderingMode&R.TextRenderingMode.FILL_STROKE_MASK;if(x===R.TextRenderingMode.FILL||x===R.TextRenderingMode.FILL_STROKE?(t.fillColor!==j&&t.tspan.setAttributeNS(null,"fill",t.fillColor),t.fillAlpha<1&&t.tspan.setAttributeNS(null,"fill-opacity",t.fillAlpha)):t.textRenderingMode===R.TextRenderingMode.ADD_TO_PATH?t.tspan.setAttributeNS(null,"fill","transparent"):t.tspan.setAttributeNS(null,"fill","none"),x===R.TextRenderingMode.STROKE||x===R.TextRenderingMode.FILL_STROKE){var C=1/(t.textMatrixScale||1);this._setStrokeAttributes(t.tspan,C)}var P=t.textMatrix;0!==t.textRise&&((P=P.slice())[5]+=t.textRise),t.txtElement.setAttributeNS(null,"transform","".concat(L(P)," scale(").concat(F(l),", -1)")),t.txtElement.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),t.txtElement.appendChild(t.tspan),t.txtgrp.appendChild(t.txtElement),this._ensureTransformGroup().appendChild(t.txtElement)}}},{key:"setLeadingMoveText",value:function(e,t){this.setLeading(-t),this.moveText(e,t)}},{key:"addFontStyle",value:function(e){if(!e.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));var t=(0,R.createObjectURL)(e.data,e.mimetype,this.forceDataSchema);this.cssStyle.textContent+='@font-face { font-family: "'.concat(e.loadedName,'";')+" src: url(".concat(t,"); }\n")}},{key:"setFont",value:function(e){var t=this.current,r=this.commonObjs.get(e[0]),n=e[1];t.font=r,!this.embedFonts||r.missingFile||this.embeddedFonts[r.loadedName]||(this.addFontStyle(r),this.embeddedFonts[r.loadedName]=r),t.fontMatrix=r.fontMatrix||R.FONT_IDENTITY_MATRIX;var a="normal";r.black?a="900":r.bold&&(a="bold");var i=r.italic?"italic":"normal";t.fontDirection=n<0?(n=-n,-1):1,t.fontSize=n,t.fontFamily=r.loadedName,t.fontWeight=a,t.fontStyle=i,t.tspan=this.svgFactory.createElement("svg:tspan"),t.tspan.setAttributeNS(null,"y",F(-t.y)),t.xcoords=[],t.ycoords=[]}},{key:"endText",value:function(){var e,t=this.current;t.textRenderingMode&R.TextRenderingMode.ADD_TO_PATH_FLAG&&null!==(e=t.txtElement)&&void 0!==e&&e.hasChildNodes()&&(t.element=t.txtElement,this.clip("nonzero"),this.endPath())}},{key:"setLineWidth",value:function(e){0<e&&(this.current.lineWidth=e)}},{key:"setLineCap",value:function(e){this.current.lineCap=c[e]}},{key:"setLineJoin",value:function(e){this.current.lineJoin=f[e]}},{key:"setMiterLimit",value:function(e){this.current.miterLimit=e}},{key:"setStrokeAlpha",value:function(e){this.current.strokeAlpha=e}},{key:"setStrokeRGBColor",value:function(e,t,r){this.current.strokeColor=R.Util.makeHexColor(e,t,r)}},{key:"setFillAlpha",value:function(e){this.current.fillAlpha=e}},{key:"setFillRGBColor",value:function(e,t,r){this.current.fillColor=R.Util.makeHexColor(e,t,r),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}},{key:"setStrokeColorN",value:function(e){this.current.strokeColor=this._makeColorN_Pattern(e)}},{key:"setFillColorN",value:function(e){this.current.fillColor=this._makeColorN_Pattern(e)}},{key:"shadingFill",value:function(e){var t=this.viewport.width,r=this.viewport.height,n=R.Util.inverseTransform(this.transformMatrix),a=R.Util.applyTransform([0,0],n),i=R.Util.applyTransform([0,r],n),o=R.Util.applyTransform([t,0],n),s=R.Util.applyTransform([t,r],n),u=Math.min(a[0],i[0],o[0],s[0]),l=Math.min(a[1],i[1],o[1],s[1]),c=Math.max(a[0],i[0],o[0],s[0]),f=Math.max(a[1],i[1],o[1],s[1]),d=this.svgFactory.createElement("svg:rect");d.setAttributeNS(null,"x",u),d.setAttributeNS(null,"y",l),d.setAttributeNS(null,"width",c-u),d.setAttributeNS(null,"height",f-l),d.setAttributeNS(null,"fill",this._makeShadingPattern(e)),this.current.fillAlpha<1&&d.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().appendChild(d)}},{key:"_makeColorN_Pattern",value:function(e){return"TilingPattern"===e[0]?this._makeTilingPattern(e):this._makeShadingPattern(e)}},{key:"_makeTilingPattern",value:function(e){var t=e[1],r=e[2],n=e[3]||R.IDENTITY_MATRIX,a=O(e[4],4),i=a[0],o=a[1],s=a[2],u=a[3],l=e[5],c=e[6],f=e[7],d="shading".concat(D++),h=O(R.Util.applyTransform([i,o],n),2),p=h[0],v=h[1],y=O(R.Util.applyTransform([s,u],n),2),g=y[0],m=y[1],b=O(R.Util.singularValueDecompose2dScale(n),2),_=l*b[0],A=c*b[1],S=this.svgFactory.createElement("svg:pattern");S.setAttributeNS(null,"id",d),S.setAttributeNS(null,"patternUnits","userSpaceOnUse"),S.setAttributeNS(null,"width",_),S.setAttributeNS(null,"height",A),S.setAttributeNS(null,"x","".concat(p)),S.setAttributeNS(null,"y","".concat(v));var w=this.svg,k=this.transformMatrix,x=this.current.fillColor,C=this.current.strokeColor,P=this.svgFactory.create(g-p,m-v);if(this.svg=P,this.transformMatrix=n,2===f){var T=R.Util.makeHexColor.apply(R.Util,E(t));this.current.fillColor=T,this.current.strokeColor=T}return this.executeOpTree(this.convertOpList(r)),this.svg=w,this.transformMatrix=k,this.current.fillColor=x,this.current.strokeColor=C,S.appendChild(P.childNodes[0]),this.defs.appendChild(S),"url(#".concat(d,")")}},{key:"_makeShadingPattern",value:function(e){switch(e[0]){case"RadialAxial":var t,r="shading".concat(D++),n=e[3];switch(e[1]){case"axial":var a=e[4],i=e[5];(t=this.svgFactory.createElement("svg:linearGradient")).setAttributeNS(null,"id",r),t.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),t.setAttributeNS(null,"x1",a[0]),t.setAttributeNS(null,"y1",a[1]),t.setAttributeNS(null,"x2",i[0]),t.setAttributeNS(null,"y2",i[1]);break;case"radial":var o=e[4],s=e[5],u=e[6],l=e[7];(t=this.svgFactory.createElement("svg:radialGradient")).setAttributeNS(null,"id",r),t.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),t.setAttributeNS(null,"cx",s[0]),t.setAttributeNS(null,"cy",s[1]),t.setAttributeNS(null,"r",l),t.setAttributeNS(null,"fx",o[0]),t.setAttributeNS(null,"fy",o[1]),t.setAttributeNS(null,"fr",u);break;default:throw new Error("Unknown RadialAxial type: ".concat(e[1]))}var c,f=T(n);try{for(f.s();!(c=f.n()).done;){var d=c.value,h=this.svgFactory.createElement("svg:stop");h.setAttributeNS(null,"offset",d[0]),h.setAttributeNS(null,"stop-color",d[1]),t.appendChild(h)}}catch(e){f.e(e)}finally{f.f()}return this.defs.appendChild(t),"url(#".concat(r,")");case"Mesh":return(0,R.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error("Unknown IR type: ".concat(e[0]))}}},{key:"setDash",value:function(e,t){this.current.dashArray=e,this.current.dashPhase=t}},{key:"constructPath",value:function(e,t){var r,n=this.current,a=n.x,i=n.y,o=[],s=0,u=T(e);try{for(u.s();!(r=u.n()).done;){switch(0|r.value){case R.OPS.rectangle:a=t[s++],i=t[s++];var l=t[s++],c=t[s++],f=a+l,d=i+c;o.push("M",F(a),F(i),"L",F(f),F(i),"L",F(f),F(d),"L",F(a),F(d),"Z");break;case R.OPS.moveTo:a=t[s++],i=t[s++],o.push("M",F(a),F(i));break;case R.OPS.lineTo:a=t[s++],i=t[s++],o.push("L",F(a),F(i));break;case R.OPS.curveTo:a=t[s+4],i=t[s+5],o.push("C",F(t[s]),F(t[s+1]),F(t[s+2]),F(t[s+3]),F(a),F(i)),s+=6;break;case R.OPS.curveTo2:o.push("C",F(a),F(i),F(t[s]),F(t[s+1]),F(t[s+2]),F(t[s+3])),a=t[s+2],i=t[s+3],s+=4;break;case R.OPS.curveTo3:a=t[s+2],i=t[s+3],o.push("C",F(t[s]),F(t[s+1]),F(a),F(i),F(a),F(i)),s+=4;break;case R.OPS.closePath:o.push("Z")}}}catch(e){u.e(e)}finally{u.f()}o=o.join(" "),n.path&&0<e.length&&e[0]!==R.OPS.rectangle&&e[0]!==R.OPS.moveTo?o=n.path.getAttributeNS(null,"d")+o:(n.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(n.path)),n.path.setAttributeNS(null,"d",o),n.path.setAttributeNS(null,"fill","none"),n.element=n.path,n.setCurrentPoint(a,i)}},{key:"endPath",value:function(){var e=this.current;if(e.path=null,this.pendingClip)if(e.element){var t="clippath".concat(p++),r=this.svgFactory.createElement("svg:clipPath");r.setAttributeNS(null,"id",t),r.setAttributeNS(null,"transform",L(this.transformMatrix));var n=e.element.cloneNode(!0);"evenodd"===this.pendingClip?n.setAttributeNS(null,"clip-rule","evenodd"):n.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,r.appendChild(n),this.defs.appendChild(r),e.activeClipUrl&&(e.clipGroup=null,this.extraStack.forEach(function(e){e.clipGroup=null}),r.setAttributeNS(null,"clip-path",e.activeClipUrl)),e.activeClipUrl="url(#".concat(t,")"),this.tgrp=null}else this.pendingClip=null}},{key:"clip",value:function(e){this.pendingClip=e}},{key:"closePath",value:function(){var e=this.current;if(e.path){var t="".concat(e.path.getAttributeNS(null,"d"),"Z");e.path.setAttributeNS(null,"d",t)}}},{key:"setLeading",value:function(e){this.current.leading=-e}},{key:"setTextRise",value:function(e){this.current.textRise=e}},{key:"setTextRenderingMode",value:function(e){this.current.textRenderingMode=e}},{key:"setHScale",value:function(e){this.current.textHScale=e/100}},{key:"setRenderingIntent",value:function(e){}},{key:"setFlatness",value:function(e){}},{key:"setGState",value:function(e){var t,r=T(e);try{for(r.s();!(t=r.n()).done;){var n=O(t.value,2),a=n[0],i=n[1];switch(a){case"LW":this.setLineWidth(i);break;case"LC":this.setLineCap(i);break;case"LJ":this.setLineJoin(i);break;case"ML":this.setMiterLimit(i);break;case"D":this.setDash(i[0],i[1]);break;case"RI":this.setRenderingIntent(i);break;case"FL":this.setFlatness(i);break;case"Font":this.setFont(i);break;case"CA":this.setStrokeAlpha(i);break;case"ca":this.setFillAlpha(i);break;default:(0,R.warn)("Unimplemented graphic state operator ".concat(a))}}}catch(e){r.e(e)}finally{r.f()}}},{key:"fill",value:function(){var e=this.current;e.element&&(e.element.setAttributeNS(null,"fill",e.fillColor),e.element.setAttributeNS(null,"fill-opacity",e.fillAlpha),this.endPath())}},{key:"stroke",value:function(){var e=this.current;e.element&&(this._setStrokeAttributes(e.element),e.element.setAttributeNS(null,"fill","none"),this.endPath())}},{key:"_setStrokeAttributes",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,r=this.current,n=r.dashArray;1!==t&&0<n.length&&(n=n.map(function(e){return t*e})),e.setAttributeNS(null,"stroke",r.strokeColor),e.setAttributeNS(null,"stroke-opacity",r.strokeAlpha),e.setAttributeNS(null,"stroke-miterlimit",F(r.miterLimit)),e.setAttributeNS(null,"stroke-linecap",r.lineCap),e.setAttributeNS(null,"stroke-linejoin",r.lineJoin),e.setAttributeNS(null,"stroke-width",F(t*r.lineWidth)+"px"),e.setAttributeNS(null,"stroke-dasharray",n.map(F).join(" ")),e.setAttributeNS(null,"stroke-dashoffset",F(t*r.dashPhase)+"px")}},{key:"eoFill",value:function(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}},{key:"fillStroke",value:function(){this.stroke(),this.fill()}},{key:"eoFillStroke",value:function(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}},{key:"closeStroke",value:function(){this.closePath(),this.stroke()}},{key:"closeFillStroke",value:function(){this.closePath(),this.fillStroke()}},{key:"closeEOFillStroke",value:function(){this.closePath(),this.eoFillStroke()}},{key:"paintSolidColorImageMask",value:function(){var e=this.svgFactory.createElement("svg:rect");e.setAttributeNS(null,"x","0"),e.setAttributeNS(null,"y","0"),e.setAttributeNS(null,"width","1px"),e.setAttributeNS(null,"height","1px"),e.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(e)}},{key:"paintImageXObject",value:function(e){var t=e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e);t?this.paintInlineImageXObject(t):(0,R.warn)("Dependent image with object ID ".concat(e," is not ready yet"))}},{key:"paintInlineImageXObject",value:function(e,t){var r=e.width,n=e.height,a=d(e,this.forceDataSchema,!!t),i=this.svgFactory.createElement("svg:rect");i.setAttributeNS(null,"x","0"),i.setAttributeNS(null,"y","0"),i.setAttributeNS(null,"width",F(r)),i.setAttributeNS(null,"height",F(n)),this.current.element=i,this.clip("nonzero");var o=this.svgFactory.createElement("svg:image");o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a),o.setAttributeNS(null,"x","0"),o.setAttributeNS(null,"y",F(-n)),o.setAttributeNS(null,"width",F(r)+"px"),o.setAttributeNS(null,"height",F(n)+"px"),o.setAttributeNS(null,"transform","scale(".concat(F(1/r)," ").concat(F(-1/n),")")),t?t.appendChild(o):this._ensureTransformGroup().appendChild(o)}},{key:"paintImageMaskXObject",value:function(e){var t=this.current,r=e.width,n=e.height,a=t.fillColor;t.maskId="mask".concat(v++);var i=this.svgFactory.createElement("svg:mask");i.setAttributeNS(null,"id",t.maskId);var o=this.svgFactory.createElement("svg:rect");o.setAttributeNS(null,"x","0"),o.setAttributeNS(null,"y","0"),o.setAttributeNS(null,"width",F(r)),o.setAttributeNS(null,"height",F(n)),o.setAttributeNS(null,"fill",a),o.setAttributeNS(null,"mask","url(#".concat(t.maskId,")")),this.defs.appendChild(i),this._ensureTransformGroup().appendChild(o),this.paintInlineImageXObject(e,i)}},{key:"paintFormXObjectBegin",value:function(e,t){if(Array.isArray(e)&&6===e.length&&this.transform(e[0],e[1],e[2],e[3],e[4],e[5]),t){var r=t[2]-t[0],n=t[3]-t[1],a=this.svgFactory.createElement("svg:rect");a.setAttributeNS(null,"x",t[0]),a.setAttributeNS(null,"y",t[1]),a.setAttributeNS(null,"width",F(r)),a.setAttributeNS(null,"height",F(n)),this.current.element=a,this.clip("nonzero"),this.endPath()}}},{key:"paintFormXObjectEnd",value:function(){}},{key:"_initialize",value:function(e){var t=this.svgFactory.create(e.width,e.height),r=this.svgFactory.createElement("svg:defs");t.appendChild(r),this.defs=r;var n=this.svgFactory.createElement("svg:g");return n.setAttributeNS(null,"transform",L(e.transform)),t.appendChild(n),this.svg=n,t}},{key:"_ensureClipGroup",value:function(){if(!this.current.clipGroup){var e=this.svgFactory.createElement("svg:g");e.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(e),this.current.clipGroup=e}return this.current.clipGroup}},{key:"_ensureTransformGroup",value:function(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",L(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}]),a}()},function(e,t){function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.XfaLayer=void 0;var r=function(){function h(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h)}var e,t,r;return e=h,r=[{key:"setAttributes",value:function(e,t){for(var r=0,n=Object.entries(t);r<n.length;r++){var a=p(n[r],2),i=a[0],o=a[1];null!=o&&("style"!==i?e.setAttribute(i,o):Object.assign(e.style,o))}}},{key:"render",value:function(e){var t=e.xfa,r=document.createElement(t.name);t.attributes&&h.setAttributes(r,t.attributes);var n=[[t,-1,r]],a=e.div;a.appendChild(r);var i=e.viewport.transform.join(",");for(a.style.transform="matrix(".concat(i,")"),a.setAttribute("class","xfaLayer xfaFont");0<n.length;){var o=p(n[n.length-1],3),s=o[0],u=o[1],l=o[2];if(u+1!==s.children.length){var c=s.children[++n[n.length-1][1]];if(null!==c){var f=c.name;if("#text"!==f){var d=document.createElement(f);l.appendChild(d),c.attributes&&h.setAttributes(d,c.attributes),c.children&&0<c.children.length?n.push([c,-1,d]):c.value&&d.appendChild(document.createTextNode(c.value))}else l.appendChild(document.createTextNode(c.value))}}else n.pop()}}},{key:"update",value:function(e){var t="matrix(".concat(e.viewport.transform.join(","),")");e.div.style.transform=t,e.div.hidden=!1}}],(t=null)&&a(e.prototype,t),r&&a(e,r),h}();t.XfaLayer=r},function(e,t,r){function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.PDFNodeStream=void 0;var n,a=(n=r(2))&&n.__esModule?n:{default:n},l=r(4),u=r(144);function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(i){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,r,n=d(i);if(o){var a=d(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return t=this,!(r=e)||"object"!==s(r)&&"function"!=typeof r?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):r}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,r,n,a,i,o){try{var s=e[i](o),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,a)}function o(s){return function(){var e=this,o=arguments;return new Promise(function(t,r){var n=s.apply(e,o);function a(e){h(n,t,r,a,i,"next",e)}function i(e){h(n,t,r,a,i,"throw",e)}a(void 0)})}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function y(e,t,r){return t&&v(e.prototype,t),r&&v(e,r),e}var g=require("fs"),m=require("http"),b=require("https"),_=require("url"),A=/^file:\/\/\/[a-zA-Z]:\//;var S=function(){function n(e){var t,r;p(this,n),this.source=e,this.url=(t=e.url,"file:"===(r=_.parse(t)).protocol||r.host?r:/^[a-z]:[/\\]/i.test(t)?_.parse("file:///".concat(t)):(r.host||(r.protocol="file:"),r)),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}return y(n,[{key:"_progressiveDataLength",get:function(){var e,t;return null!==(e=null===(t=this._fullRequestReader)||void 0===t?void 0:t._loaded)&&void 0!==e?e:0}},{key:"getFullReader",value:function(){return(0,l.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new T(this):new C(this),this._fullRequestReader}},{key:"getRangeReader",value:function(e,t){if(t<=this._progressiveDataLength)return null;var r=this.isFsUrl?new R(this,e,t):new P(this,e,t);return this._rangeRequestReaders.push(r),r}},{key:"cancelAllRequests",value:function(t){this._fullRequestReader&&this._fullRequestReader.cancel(t),this._rangeRequestReaders.slice(0).forEach(function(e){e.cancel(t)})}}]),n}();t.PDFNodeStream=S;var w=function(){function r(e){p(this,r),this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;var t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=(0,l.createPromiseCapability)(),this._headersCapability=(0,l.createPromiseCapability)()}var e;return y(r,[{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:(e=o(a.default.mark(function e(){var t,r;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._readCapability.promise;case 2:if(this._done)return e.abrupt("return",{value:void 0,done:!0});e.next=4;break;case 4:if(this._storedError)throw this._storedError;e.next=6;break;case 6:if(null===(t=this._readableStream.read()))return this._readCapability=(0,l.createPromiseCapability)(),e.abrupt("return",this.read());e.next=10;break;case 10:return this._loaded+=t.length,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),r=new Uint8Array(t).buffer,e.abrupt("return",{value:r,done:!1});case 14:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"cancel",value:function(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}},{key:"_error",value:function(e){this._storedError=e,this._readCapability.resolve()}},{key:"_setReadableStream",value:function(e){var t=this;(this._readableStream=e).on("readable",function(){t._readCapability.resolve()}),e.on("end",function(){e.destroy(),t._done=!0,t._readCapability.resolve()}),e.on("error",function(e){t._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new l.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}]),r}(),k=function(){function r(e){p(this,r),this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,l.createPromiseCapability)();var t=e.source;this._isStreamingSupported=!t.disableStream}var e;return y(r,[{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:(e=o(a.default.mark(function e(){var t,r;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._readCapability.promise;case 2:if(this._done)return e.abrupt("return",{value:void 0,done:!0});e.next=4;break;case 4:if(this._storedError)throw this._storedError;e.next=6;break;case 6:if(null===(t=this._readableStream.read()))return this._readCapability=(0,l.createPromiseCapability)(),e.abrupt("return",this.read());e.next=10;break;case 10:return this._loaded+=t.length,this.onProgress&&this.onProgress({loaded:this._loaded}),r=new Uint8Array(t).buffer,e.abrupt("return",{value:r,done:!1});case 14:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"cancel",value:function(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}},{key:"_error",value:function(e){this._storedError=e,this._readCapability.resolve()}},{key:"_setReadableStream",value:function(e){var t=this;(this._readableStream=e).on("readable",function(){t._readCapability.resolve()}),e.on("end",function(){e.destroy(),t._done=!0,t._readCapability.resolve()}),e.on("error",function(e){t._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}]),r}();function x(e,t){return{protocol:e.protocol,auth:e.auth,host:e.hostname,port:e.port,path:e.path,method:"GET",headers:t}}var C=function(e){c(r,w);var t=f(r);function r(o){var s;p(this,r);var e=function(e){if(404===e.statusCode){var t=new l.MissingPDFException('Missing PDF "'.concat(s._url,'".'));return s._storedError=t,void s._headersCapability.reject(t)}s._headersCapability.resolve(),s._setReadableStream(e);var r=function(e){return s._readableStream.headers[e.toLowerCase()]},n=(0,u.validateRangeRequestCapabilities)({getResponseHeader:r,isHttp:o.isHttp,rangeChunkSize:s._rangeChunkSize,disableRange:s._disableRange}),a=n.allowRangeRequests,i=n.suggestedLength;s._isRangeSupported=a,s._contentLength=i||s._contentLength,s._filename=(0,u.extractFilenameFromHeader)(r)};return(s=t.call(this,o))._request=null,"http:"===s._url.protocol?s._request=m.request(x(s._url,o.httpHeaders),e):s._request=b.request(x(s._url,o.httpHeaders),e),s._request.on("error",function(e){s._storedError=e,s._headersCapability.reject(e)}),s._request.end(),s}return r}(),P=function(e){c(u,k);var s=f(u);function u(e,t,r){var n;for(var a in p(this,u),(n=s.call(this,e))._httpHeaders={},e.httpHeaders){var i=e.httpHeaders[a];void 0!==i&&(n._httpHeaders[a]=i)}n._httpHeaders.Range="bytes=".concat(t,"-").concat(r-1);var o=function(e){if(404!==e.statusCode)n._setReadableStream(e);else{var t=new l.MissingPDFException('Missing PDF "'.concat(n._url,'".'));n._storedError=t}};return n._request=null,"http:"===n._url.protocol?n._request=m.request(x(n._url,n._httpHeaders),o):n._request=b.request(x(n._url,n._httpHeaders),o),n._request.on("error",function(e){n._storedError=e}),n._request.end(),n}return u}(),T=function(e){c(a,w);var t=f(a);function a(e){var r;p(this,a),r=t.call(this,e);var n=decodeURIComponent(r._url.path);return A.test(r._url.href)&&(n=n.replace(/^\//,"")),g.lstat(n,function(e,t){if(e)return"ENOENT"===e.code&&(e=new l.MissingPDFException('Missing PDF "'.concat(n,'".'))),r._storedError=e,void r._headersCapability.reject(e);r._contentLength=t.size,r._setReadableStream(g.createReadStream(n)),r._headersCapability.resolve()}),r}return a}(),R=function(e){c(o,k);var i=f(o);function o(e,t,r){var n;p(this,o),n=i.call(this,e);var a=decodeURIComponent(n._url.path);return A.test(n._url.href)&&(a=a.replace(/^\//,"")),n._setReadableStream(g.createReadStream(a,{start:t,end:r-1})),n}return o}()},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.createResponseStatusError=function(e,t){if(404===e||0===e&&t.startsWith("file:"))return new s.MissingPDFException('Missing PDF "'+t+'".');return new s.UnexpectedResponseException("Unexpected server response (".concat(e,') while retrieving PDF "').concat(t,'".'),e)},t.extractFilenameFromHeader=function(e){var t=e("Content-Disposition");if(t){var r=(0,n.getFilenameFromContentDispositionHeader)(t);if(r.includes("%"))try{r=decodeURIComponent(r)}catch(e){}if((0,a.isPdfFile)(r))return r}return null},t.validateRangeRequestCapabilities=function(e){var t=e.getResponseHeader,r=e.isHttp,n=e.rangeChunkSize,a=e.disableRange;(0,s.assert)(0<n,"Range chunk size must be larger than zero");var i={allowRangeRequests:!1,suggestedLength:void 0},o=parseInt(t("Content-Length"),10);if(!Number.isInteger(o))return i;if((i.suggestedLength=o)<=2*n)return i;return!a&&r&&"bytes"===t("Accept-Ranges")&&"identity"===(t("Content-Encoding")||"identity")&&(i.allowRangeRequests=!0),i},t.validateResponseStatus=function(e){return 200===e||206===e};var s=r(4),n=r(145),a=r(1)},function(e,t){function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}Object.defineProperty(t,"__esModule",{value:!0}),t.getFilenameFromContentDispositionHeader=function(e){var a=!0,t=p("filename\\*","i").exec(e);if(t){var r=v(t=t[1]);return s(r=u(r=y(r=unescape(r))))}if(t=function(e){for(var t,r=[],n=p("filename\\*((?!0\\d)\\d+)(\\*?)","ig");null!==(t=n.exec(e));){var a=t,i=g(a,4),o=i[1],s=i[2],u=i[3];if((o=parseInt(o,10))in r){if(0===o)break}else r[o]=[s,u]}for(var l=[],c=0;c<r.length&&c in r;++c){var f=g(r[c],2),d=f[0],h=f[1];h=v(h),d&&(h=unescape(h),0===c&&(h=y(h))),l.push(h)}return l.join("")}(e)){var n=u(t);return s(n)}if(t=p("filename","i").exec(e)){var i=v(t=t[1]);return s(i=u(i))}function p(e,t){return new RegExp("(?:^|;)\\s*"+e+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',t)}function o(t,r){if(t){if(!/^[\x00-\xFF]+$/.test(r))return r;try{var e=new TextDecoder(t,{fatal:!0}),n=Array.from(r,function(e){return 255&e.charCodeAt(0)});r=e.decode(new Uint8Array(n)),a=!1}catch(e){if(/^utf-?8$/i.test(t))try{r=decodeURIComponent(escape(r)),a=!1}catch(e){}}}return r}function s(e){return a&&/[\x80-\xff]/.test(e)&&(e=o("utf-8",e),a&&(e=o("iso-8859-1",e))),e}function v(e){if(e.startsWith('"')){for(var t=e.slice(1).split('\\"'),r=0;r<t.length;++r){var n=t[r].indexOf('"');-1!==n&&(t[r]=t[r].slice(0,n),t.length=r+1),t[r]=t[r].replace(/\\(.)/g,"$1")}e=t.join('"')}return e}function y(e){var t=e.indexOf("'");if(-1===t)return e;var r=e.slice(0,t),n=e.slice(t+1),a=n.replace(/^[^']*'/,"");return o(r,a)}function u(e){return!e.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(e)?e:e.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(e,t,r,n){if("q"===r||"Q"===r)return n=(n=n.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,function(e,t){return String.fromCharCode(parseInt(t,16))}),o(t,n);try{n=atob(n)}catch(e){}return o(t,n)})}return""}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.PDFNetworkStream=void 0;var n,i=(n=r(2))&&n.__esModule?n:{default:n},l=r(4),o=r(144);function u(e,t,r,n,a,i,o){try{var s=e[i](o),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,a)}function s(s){return function(){var e=this,o=arguments;return new Promise(function(t,r){var n=s.apply(e,o);function a(e){u(n,t,r,a,i,"next",e)}function i(e){u(n,t,r,a,i,"throw",e)}a(void 0)})}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),e}var d=function(){function r(e,t){c(this,r),this.url=e,t=t||{},this.isHttp=/^https?:/i.test(e),this.httpHeaders=this.isHttp&&t.httpHeaders||{},this.withCredentials=t.withCredentials||!1,this.getXhr=t.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}return f(r,[{key:"requestRange",value:function(e,t,r){var n={begin:e,end:t};for(var a in r)n[a]=r[a];return this.request(n)}},{key:"requestFull",value:function(e){return this.request(e)}},{key:"request",value:function(t){var r=this.getXhr(),e=this.currXhrId++,n=this.pendingRequests[e]={xhr:r};for(var a in r.open("GET",this.url),r.withCredentials=this.withCredentials,this.httpHeaders){var i=this.httpHeaders[a];void 0!==i&&r.setRequestHeader(a,i)}return this.isHttp&&"begin"in t&&"end"in t?(r.setRequestHeader("Range","bytes=".concat(t.begin,"-").concat(t.end-1)),n.expectedStatus=206):n.expectedStatus=200,r.responseType="arraybuffer",t.onError&&(r.onerror=function(e){t.onError(r.status)}),r.onreadystatechange=this.onStateChange.bind(this,e),r.onprogress=this.onProgress.bind(this,e),n.onHeadersReceived=t.onHeadersReceived,n.onDone=t.onDone,n.onError=t.onError,n.onProgress=t.onProgress,r.send(null),e}},{key:"onProgress",value:function(e,t){var r=this.pendingRequests[e];r&&r.onProgress&&r.onProgress(t)}},{key:"onStateChange",value:function(e,t){var r=this.pendingRequests[e];if(r){var n=r.xhr;if(2<=n.readyState&&r.onHeadersReceived&&(r.onHeadersReceived(),delete r.onHeadersReceived),4===n.readyState&&e in this.pendingRequests)if(delete this.pendingRequests[e],0===n.status&&this.isHttp)r.onError&&r.onError(n.status);else{var a=n.status||200;if(200===a&&206===r.expectedStatus||a===r.expectedStatus){var i,o="string"!=typeof(i=n.response)?i:(0,l.stringToBytes)(i).buffer;if(206===a){var s=n.getResponseHeader("Content-Range"),u=/bytes (\d+)-(\d+)\/(\d+)/.exec(s);r.onDone({begin:parseInt(u[1],10),chunk:o})}else o?r.onDone({begin:0,chunk:o}):r.onError&&r.onError(n.status)}else r.onError&&r.onError(n.status)}}}},{key:"getRequestXhr",value:function(e){return this.pendingRequests[e].xhr}},{key:"isPendingRequest",value:function(e){return e in this.pendingRequests}},{key:"abortRequest",value:function(e){var t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}]),r}(),h=function(){function t(e){c(this,t),this._source=e,this._manager=new d(e.url,{httpHeaders:e.httpHeaders,withCredentials:e.withCredentials}),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}return f(t,[{key:"_onRangeRequestReaderClosed",value:function(e){var t=this._rangeRequestReaders.indexOf(e);0<=t&&this._rangeRequestReaders.splice(t,1)}},{key:"getFullReader",value:function(){return(0,l.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new p(this._manager,this._source),this._fullRequestReader}},{key:"getRangeReader",value:function(e,t){var r=new v(this._manager,e,t);return r.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(r),r}},{key:"cancelAllRequests",value:function(t){this._fullRequestReader&&this._fullRequestReader.cancel(t),this._rangeRequestReaders.slice(0).forEach(function(e){e.cancel(t)})}}]),t}();t.PDFNetworkStream=h;var p=function(){function n(e,t){c(this,n),this._manager=e;var r={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._fullRequestId=e.requestFull(r),this._headersReceivedCapability=(0,l.createPromiseCapability)(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}var e;return f(n,[{key:"_onHeadersReceived",value:function(){var e=this._fullRequestId,t=this._manager.getRequestXhr(e),r=function(e){return t.getResponseHeader(e)},n=(0,o.validateRangeRequestCapabilities)({getResponseHeader:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange}),a=n.allowRangeRequests,i=n.suggestedLength;a&&(this._isRangeSupported=!0),this._contentLength=i||this._contentLength,this._filename=(0,o.extractFilenameFromHeader)(r),this._isRangeSupported&&this._manager.abortRequest(e),this._headersReceivedCapability.resolve()}},{key:"_onDone",value:function(e){e&&(0<this._requests.length?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk));this._done=!0,0<this._cachedChunks.length||(this._requests.forEach(function(e){e.resolve({value:void 0,done:!0})}),this._requests=[])}},{key:"_onError",value:function(e){var t=this._url,r=(0,o.createResponseStatusError)(e,t);this._storedError=r,this._headersReceivedCapability.reject(r),this._requests.forEach(function(e){e.reject(r)}),this._requests=[],this._cachedChunks=[]}},{key:"_onProgress",value:function(e){this.onProgress&&this.onProgress({loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}},{key:"filename",get:function(){return this._filename}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"contentLength",get:function(){return this._contentLength}},{key:"headersReady",get:function(){return this._headersReceivedCapability.promise}},{key:"read",value:(e=s(i.default.mark(function e(){var t,r;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._storedError)throw this._storedError;e.next=2;break;case 2:if(0<this._cachedChunks.length)return t=this._cachedChunks.shift(),e.abrupt("return",{value:t,done:!1});e.next=5;break;case 5:if(this._done)return e.abrupt("return",{value:void 0,done:!0});e.next=7;break;case 7:return r=(0,l.createPromiseCapability)(),this._requests.push(r),e.abrupt("return",r.promise);case 10:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"cancel",value:function(e){this._done=!0,this._headersReceivedCapability.reject(e),this._requests.forEach(function(e){e.resolve({value:void 0,done:!0})}),this._requests=[],this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}]),n}(),v=function(){function a(e,t,r){c(this,a),this._manager=e;var n={onDone:this._onDone.bind(this),onProgress:this._onProgress.bind(this)};this._requestId=e.requestRange(t,r,n),this._requests=[],this._queuedChunk=null,this._done=!1,this.onProgress=null,this.onClosed=null}var e;return f(a,[{key:"_close",value:function(){this.onClosed&&this.onClosed(this)}},{key:"_onDone",value:function(e){var t=e.chunk;0<this._requests.length?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t;this._done=!0,this._requests.forEach(function(e){e.resolve({value:void 0,done:!0})}),this._requests=[],this._close()}},{key:"_onProgress",value:function(e){!this.isStreamingSupported&&this.onProgress&&this.onProgress({loaded:e.loaded})}},{key:"isStreamingSupported",get:function(){return!1}},{key:"read",value:(e=s(i.default.mark(function e(){var t,r;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._queuedChunk)return t=this._queuedChunk,this._queuedChunk=null,e.abrupt("return",{value:t,done:!1});e.next=4;break;case 4:if(this._done)return e.abrupt("return",{value:void 0,done:!0});e.next=6;break;case 6:return r=(0,l.createPromiseCapability)(),this._requests.push(r),e.abrupt("return",r.promise);case 9:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"cancel",value:function(e){this._done=!0,this._requests.forEach(function(e){e.resolve({value:void 0,done:!0})}),this._requests=[],this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}]),a}()},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.PDFFetchStream=void 0;var n,i=(n=r(2))&&n.__esModule?n:{default:n},s=r(4),u=r(144);function l(e,t,r,n,a,i,o){try{var s=e[i](o),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,a)}function a(s){return function(){var e=this,o=arguments;return new Promise(function(t,r){var n=s.apply(e,o);function a(e){l(n,t,r,a,i,"next",e)}function i(e){l(n,t,r,a,i,"throw",e)}a(void 0)})}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e}function d(e,t,r){return{method:"GET",headers:e,signal:null==r?void 0:r.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function h(e){var t=new Headers;for(var r in e){var n=e[r];void 0!==n&&t.append(r,n)}return t}var p=function(){function t(e){c(this,t),this.source=e,this.isHttp=/^https?:/i.test(e.url),this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}return f(t,[{key:"_progressiveDataLength",get:function(){var e,t;return null!==(e=null===(t=this._fullRequestReader)||void 0===t?void 0:t._loaded)&&void 0!==e?e:0}},{key:"getFullReader",value:function(){return(0,s.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new v(this),this._fullRequestReader}},{key:"getRangeReader",value:function(e,t){if(t<=this._progressiveDataLength)return null;var r=new y(this,e,t);return this._rangeRequestReaders.push(r),r}},{key:"cancelAllRequests",value:function(t){this._fullRequestReader&&this._fullRequestReader.cancel(t),this._rangeRequestReaders.slice(0).forEach(function(e){e.cancel(t)})}}]),t}();t.PDFFetchStream=p;var v=function(){function r(e){var i=this;c(this,r),this._stream=e,this._reader=null,this._loaded=0,this._filename=null;var t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=(0,s.createPromiseCapability)(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),"undefined"!=typeof AbortController&&(this._abortController=new AbortController),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._headers=h(this._stream.httpHeaders);var o=t.url;fetch(o,d(this._headers,this._withCredentials,this._abortController)).then(function(t){if(!(0,u.validateResponseStatus)(t.status))throw(0,u.createResponseStatusError)(t.status,o);i._reader=t.body.getReader(),i._headersCapability.resolve();var e=function(e){return t.headers.get(e)},r=(0,u.validateRangeRequestCapabilities)({getResponseHeader:e,isHttp:i._stream.isHttp,rangeChunkSize:i._rangeChunkSize,disableRange:i._disableRange}),n=r.allowRangeRequests,a=r.suggestedLength;i._isRangeSupported=n,i._contentLength=a||i._contentLength,i._filename=(0,u.extractFilenameFromHeader)(e),!i._isStreamingSupported&&i._isRangeSupported&&i.cancel(new s.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}var e;return f(r,[{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:(e=a(i.default.mark(function e(){var t,r,n,a;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._headersCapability.promise;case 2:return e.next=4,this._reader.read();case 4:if(t=e.sent,r=t.value,n=t.done)return e.abrupt("return",{value:r,done:n});e.next=9;break;case 9:return this._loaded+=r.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),a=new Uint8Array(r).buffer,e.abrupt("return",{value:a,done:!1});case 13:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"cancel",value:function(e){this._reader&&this._reader.cancel(e),this._abortController&&this._abortController.abort()}}]),r}(),y=function(){function o(e,t,r){var n=this;c(this,o),this._stream=e,this._reader=null,this._loaded=0;var a=e.source;this._withCredentials=a.withCredentials||!1,this._readCapability=(0,s.createPromiseCapability)(),this._isStreamingSupported=!a.disableStream,"undefined"!=typeof AbortController&&(this._abortController=new AbortController),this._headers=h(this._stream.httpHeaders),this._headers.append("Range","bytes=".concat(t,"-").concat(r-1));var i=a.url;fetch(i,d(this._headers,this._withCredentials,this._abortController)).then(function(e){if(!(0,u.validateResponseStatus)(e.status))throw(0,u.createResponseStatusError)(e.status,i);n._readCapability.resolve(),n._reader=e.body.getReader()}).catch(function(e){if("AbortError"!==(null==e?void 0:e.name))throw e}),this.onProgress=null}var e;return f(o,[{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:(e=a(i.default.mark(function e(){var t,r,n,a;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._readCapability.promise;case 2:return e.next=4,this._reader.read();case 4:if(t=e.sent,r=t.value,n=t.done)return e.abrupt("return",{value:r,done:n});e.next=9;break;case 9:return this._loaded+=r.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded}),a=new Uint8Array(r).buffer,e.abrupt("return",{value:a,done:!1});case 13:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"cancel",value:function(e){this._reader&&this._reader.cancel(e),this._abortController&&this._abortController.abort()}}]),o}()}],__webpack_module_cache__={};function __w_pdfjs_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var r=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(r.exports,r,r.exports,__w_pdfjs_require__),r.loaded=!0,r.exports}__w_pdfjs_require__.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e};var __webpack_exports__={};return function(){var e=__webpack_exports__;Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"addLinkAttributes",{enumerable:!0,get:function(){return t.addLinkAttributes}}),Object.defineProperty(e,"getFilenameFromUrl",{enumerable:!0,get:function(){return t.getFilenameFromUrl}}),Object.defineProperty(e,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return t.getPdfFilenameFromUrl}}),Object.defineProperty(e,"isPdfFile",{enumerable:!0,get:function(){return t.isPdfFile}}),Object.defineProperty(e,"LinkTarget",{enumerable:!0,get:function(){return t.LinkTarget}}),Object.defineProperty(e,"loadScript",{enumerable:!0,get:function(){return t.loadScript}}),Object.defineProperty(e,"PDFDateString",{enumerable:!0,get:function(){return t.PDFDateString}}),Object.defineProperty(e,"RenderingCancelledException",{enumerable:!0,get:function(){return t.RenderingCancelledException}}),Object.defineProperty(e,"build",{enumerable:!0,get:function(){return r.build}}),Object.defineProperty(e,"getDocument",{enumerable:!0,get:function(){return r.getDocument}}),Object.defineProperty(e,"LoopbackPort",{enumerable:!0,get:function(){return r.LoopbackPort}}),Object.defineProperty(e,"PDFDataRangeTransport",{enumerable:!0,get:function(){return r.PDFDataRangeTransport}}),Object.defineProperty(e,"PDFWorker",{enumerable:!0,get:function(){return r.PDFWorker}}),Object.defineProperty(e,"version",{enumerable:!0,get:function(){return r.version}}),Object.defineProperty(e,"CMapCompressionType",{enumerable:!0,get:function(){return n.CMapCompressionType}}),Object.defineProperty(e,"createObjectURL",{enumerable:!0,get:function(){return n.createObjectURL}}),Object.defineProperty(e,"createPromiseCapability",{enumerable:!0,get:function(){return n.createPromiseCapability}}),Object.defineProperty(e,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return n.createValidAbsoluteUrl}}),Object.defineProperty(e,"InvalidPDFException",{enumerable:!0,get:function(){return n.InvalidPDFException}}),Object.defineProperty(e,"MissingPDFException",{enumerable:!0,get:function(){return n.MissingPDFException}}),Object.defineProperty(e,"OPS",{enumerable:!0,get:function(){return n.OPS}}),Object.defineProperty(e,"PasswordResponses",{enumerable:!0,get:function(){return n.PasswordResponses}}),Object.defineProperty(e,"PermissionFlag",{enumerable:!0,get:function(){return n.PermissionFlag}}),Object.defineProperty(e,"removeNullCharacters",{enumerable:!0,get:function(){return n.removeNullCharacters}}),Object.defineProperty(e,"shadow",{enumerable:!0,get:function(){return n.shadow}}),Object.defineProperty(e,"UnexpectedResponseException",{enumerable:!0,get:function(){return n.UnexpectedResponseException}}),Object.defineProperty(e,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return n.UNSUPPORTED_FEATURES}}),Object.defineProperty(e,"Util",{enumerable:!0,get:function(){return n.Util}}),Object.defineProperty(e,"VerbosityLevel",{enumerable:!0,get:function(){return n.VerbosityLevel}}),Object.defineProperty(e,"AnnotationLayer",{enumerable:!0,get:function(){return a.AnnotationLayer}}),Object.defineProperty(e,"apiCompatibilityParams",{enumerable:!0,get:function(){return i.apiCompatibilityParams}}),Object.defineProperty(e,"GlobalWorkerOptions",{enumerable:!0,get:function(){return o.GlobalWorkerOptions}}),Object.defineProperty(e,"renderTextLayer",{enumerable:!0,get:function(){return s.renderTextLayer}}),Object.defineProperty(e,"SVGGraphics",{enumerable:!0,get:function(){return u.SVGGraphics}}),Object.defineProperty(e,"XfaLayer",{enumerable:!0,get:function(){return l.XfaLayer}});var t=__w_pdfjs_require__(1),r=__w_pdfjs_require__(125),n=__w_pdfjs_require__(4),a=__w_pdfjs_require__(138),i=__w_pdfjs_require__(129),o=__w_pdfjs_require__(132),s=__w_pdfjs_require__(140),u=__w_pdfjs_require__(141),l=__w_pdfjs_require__(142);if(__w_pdfjs_require__(6).isNodeJS){var c=__w_pdfjs_require__(143).PDFNodeStream;(0,r.setPDFNetworkStreamFactory)(function(e){return new c(e)})}else{var f,d=__w_pdfjs_require__(146).PDFNetworkStream;(0,t.isFetchSupported)()&&(f=__w_pdfjs_require__(147).PDFFetchStream),(0,r.setPDFNetworkStreamFactory)(function(e){return f&&(0,t.isValidFetchUrl)(e.url)?new f(e):new d(e)})}}(),__webpack_exports__}()});