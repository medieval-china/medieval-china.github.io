"use strict";function xmlEncode(t){var e,s=0;for(t=String(t);s<t.length&&"&"!==(e=t[s])&&"<"!==e&&'"'!==e&&"\n"!==e&&"\r"!==e&&"\t"!==e;)s++;if(s>=t.length)return t;for(var i=t.substring(0,s);s<t.length;)switch(e=t[s++]){case"&":i+="&amp;";break;case"<":i+="&lt;";break;case'"':i+="&quot;";break;case"\n":i+="&#xA;";break;case"\r":i+="&#xD;";break;case"\t":i+="&#x9;";break;default:i+=e}return i}function DOMElement(t){this.nodeName=t,this.childNodes=[],this.attributes={},this.textContent="","style"===t&&(this.sheet={cssRules:[],insertRule:function(t){this.cssRules.push(t)}})}function DOMElementSerializer(t){this._node=t,this._state=0,this._loopIndex=0,this._attributeKeys=null,this._childSerializer=null}DOMElement.prototype={getAttribute:function(t){return t in this.attributes?this.attributes[t]:null},getAttributeNS:function(t,e){if(e in this.attributes)return this.attributes[e];if(t){var s=":"+e;for(var i in this.attributes)if(i.slice(-s.length)===s)return this.attributes[i]}return null},setAttribute:function(t,e){e=xmlEncode(e=e||""),this.attributes[t]=e},setAttributeNS:function(t,e,s){this.setAttribute(e,s)},appendChild:function(t){var e=this.childNodes;e.includes(t)||e.push(t)},hasChildNodes:function(){return 0!==this.childNodes.length},cloneNode:function(){var t=new DOMElement(this.nodeName);return t.childNodes=this.childNodes,t.attributes=this.attributes,t.textContent=this.textContent,t},toString:function(){for(var t,e=[],s=this.getSerializer();null!==(t=s.getNext());)e.push(t);return e.join("")},getSerializer:function(){return new DOMElementSerializer(this)}},DOMElementSerializer.prototype={getNext:function(){var t=this._node;switch(this._state){case 0:return++this._state,"<"+t.nodeName;case 1:if(++this._state,"svg:svg"===t.nodeName)return' xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svg="http://www.w3.org/2000/svg"';case 2:++this._state,this._loopIndex=0,this._attributeKeys=Object.keys(t.attributes);case 3:if(this._loopIndex<this._attributeKeys.length){var e=this._attributeKeys[this._loopIndex++];return" "+e+'="'+xmlEncode(t.attributes[e])+'"'}return++this._state,">";case 4:if("svg:tspan"===t.nodeName||"svg:style"===t.nodeName)return this._state=6,xmlEncode(t.textContent);++this._state,this._loopIndex=0;case 5:for(;;){var s=this._childSerializer&&this._childSerializer.getNext();if(null!==s)return s;var i=t.childNodes[this._loopIndex++];if(!i){this._childSerializer=null,++this._state;break}this._childSerializer=new DOMElementSerializer(i)}case 6:return++this._state,"</"+t.nodeName+">";case 7:return null;default:throw new Error("Unexpected serialization state: "+this._state)}}};var document={childNodes:[],get currentScript(){return{src:""}},get documentElement(){return this},createElementNS:function(t,e){return new DOMElement(e)},createElement:function(t){return this.createElementNS("",t)},getElementsByTagName:function(t){return"head"===t?[this.head||(this.head=new DOMElement("head"))]:[]}};function Image(){this._src=null,this.onload=null}Image.prototype={get src(){return this._src},set src(t){this._src=t,this.onload&&this.onload()}},exports.document=document,exports.Image=Image;var exported_symbols=Object.keys(exports);exports.setStubs=function(e){exported_symbols.forEach(function(t){console.assert(!(t in e),"property should not be set: "+t),e[t]=exports[t]})},exports.unsetStubs=function(e){exported_symbols.forEach(function(t){console.assert(t in e,"property should be set: "+t),delete e[t]})};