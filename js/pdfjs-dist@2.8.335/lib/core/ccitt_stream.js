"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.CCITTFaxStream=void 0;var _primitives=require("./primitives.js"),_ccitt=require("./ccitt.js"),_stream=require("./stream.js"),CCITTFaxStream=function(){function e(e,t,r){this.str=e,this.dict=e.dict,(0,_primitives.isDict)(r)||(r=_primitives.Dict.empty);var i={next:function(){return e.getByte()}};this.ccittFaxDecoder=new _ccitt.CCITTFaxDecoder(i,{K:r.get("K"),EndOfLine:r.get("EndOfLine"),EncodedByteAlign:r.get("EncodedByteAlign"),Columns:r.get("Columns"),Rows:r.get("Rows"),EndOfBlock:r.get("EndOfBlock"),BlackIs1:r.get("BlackIs1")}),_stream.DecodeStream.call(this,t)}return(e.prototype=Object.create(_stream.DecodeStream.prototype)).readBlock=function(){for(;!this.eof;){var e=this.ccittFaxDecoder.readNextChar();if(-1===e)return void(this.eof=!0);this.ensureBuffer(this.bufferLength+1),this.buffer[this.bufferLength++]=e}},e}();exports.CCITTFaxStream=CCITTFaxStream;