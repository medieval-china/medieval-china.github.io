"use strict";function _slicedToArray(t,r){return _arrayWithHoles(t)||_iterableToArrayLimit(t,r)||_unsupportedIterableToArray(t,r)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,r){if(t){if("string"==typeof t)return _arrayLikeToArray(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?_arrayLikeToArray(t,r):void 0}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var e=0,n=new Array(r);e<r;e++)n[e]=t[e];return n}function _iterableToArrayLimit(t,r){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var n,a,i,o,u=[],l=!0,s=!1;try{if(i=(e=e.call(t)).next,0===r){if(Object(e)!==e)return;l=!1}else for(;!(l=(n=i.call(e)).done)&&(u.push(n.value),u.length!==r);l=!0);}catch(t){s=!0,a=t}finally{try{if(!l&&null!=e.return&&(o=e.return(),Object(o)!==o))return}finally{if(s)throw a}}return u}}function _arrayWithHoles(t){if(Array.isArray(t))return t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getBBox=getBBox,exports.getColor=getColor,exports.getFloat=getFloat,exports.getInteger=getInteger,exports.getKeyword=getKeyword,exports.getMeasurement=getMeasurement,exports.getRatio=getRatio,exports.getRelevant=getRelevant,exports.getStringOption=getStringOption;var dimConverters={pt:function(t){return t},cm:function(t){return t/2.54*72},mm:function(t){return t/25.4*72},in:function(t){return 72*t}},measurementPattern=/([+-]?[0-9]+\.?[0-9]*)(.*)/;function getInteger(t){var r=t.data,e=t.defaultValue,n=t.validate;if(!r)return e;r=r.trim();var a=parseInt(r,10);return!isNaN(a)&&n(a)?a:e}function getFloat(t){var r=t.data,e=t.defaultValue,n=t.validate;if(!r)return e;r=r.trim();var a=parseFloat(r);return!isNaN(a)&&n(a)?a:e}function getKeyword(t){var r=t.data,e=t.defaultValue,n=t.validate;return r&&n(r=r.trim())?r:e}function getStringOption(t,r){return getKeyword({data:t,defaultValue:r[0],validate:function(t){return r.includes(t)}})}function getMeasurement(t){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"0";if(r=r||"0",!t)return getMeasurement(r);var e=t.trim().match(measurementPattern);if(!e)return getMeasurement(r);var n=_slicedToArray(e,3),a=n[1],i=n[2],o=parseFloat(a);if(isNaN(o))return getMeasurement(r);if(0===o)return 0;var u=dimConverters[i];return u?u(o):o}function getRatio(t){if(!t)return{num:1,den:1};var r=t.trim().split(/\s*:\s*/).map(function(t){return parseFloat(t)}).filter(function(t){return!isNaN(t)});if(1===r.length&&r.push(1),0===r.length)return{num:1,den:1};var e=_slicedToArray(r,2);return{num:e[0],den:e[1]}}function getRelevant(t){return t?t.trim().split(/\s+/).map(function(t){return{excluded:"-"===t[0],viewname:t.substring(1)}}):[]}function getColor(t){var r=_slicedToArray(1<arguments.length&&void 0!==arguments[1]?arguments[1]:[0,0,0],3),e=r[0],n=r[1],a=r[2];if(!t)return{r:e,g:n,b:a};var i=t.trim().split(/\s*,\s*/).map(function(t){return Math.min(Math.max(0,parseInt(t.trim(),10)),255)}).map(function(t){return isNaN(t)?0:t});if(i.length<3)return{r:e,g:n,b:a};var o=_slicedToArray(i,3);return{r:e=o[0],g:n=o[1],b:a=o[2]}}function getBBox(t){if(!t)return{x:-1,y:-1,width:-1,height:-1};var r=t.trim().split(/\s*,\s*/).map(function(t){return getMeasurement(t,"-1")});if(r.length<4||r[2]<0||r[3]<0)return{x:-1,y:-1,width:-1,height:-1};var e=_slicedToArray(r,4);return{x:e[0],y:e[1],width:e[2],height:e[3]}}