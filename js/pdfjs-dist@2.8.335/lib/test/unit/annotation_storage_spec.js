"use strict";var _annotation_storage=require("../../display/annotation_storage.js");describe("AnnotationStorage",function(){describe("GetOrDefaultValue",function(){it("should get and set a new value in the annotation storage",function(e){var t=new _annotation_storage.AnnotationStorage,a=t.getValue("123A",{value:"hello world"}).value;expect(a).toEqual("hello world"),t.setValue("123A",{value:"hello world"}),a=t.getValue("123A",{value:"an other string"}).value,expect(a).toEqual("hello world"),e()})}),describe("SetValue",function(){it("should set a new value in the annotation storage",function(e){var t=new _annotation_storage.AnnotationStorage;t.setValue("123A",{value:"an other string"});var a=t.getAll()["123A"].value;expect(a).toEqual("an other string"),e()}),it("should call onSetModified() if value is changed",function(e){var t=new _annotation_storage.AnnotationStorage,a=!1;t.onSetModified=function(){a=!0},t.setValue("asdf",{value:"original"}),expect(a).toBe(!0),t.setValue("asdf",{value:"modified"}),expect(a).toBe(!0),a=!1,t.setValue("asdf",{value:"modified"}),expect(a).toBe(!1),e()})}),describe("ResetModified",function(){it("should call onResetModified() if set",function(e){var t=new _annotation_storage.AnnotationStorage,a=!1;t.onResetModified=function(){a=!0},t.setValue("asdf",{value:"original"}),t.resetModified(),expect(a).toBe(!0),a=!1,t.setValue("asdf",{value:"original"}),t.resetModified(),expect(a).toBe(!1),t.setValue("asdf",{value:"modified"}),t.resetModified(),expect(a).toBe(!0),e()})})});