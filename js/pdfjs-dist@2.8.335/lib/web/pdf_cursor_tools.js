"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,o){for(var t=0;t<o.length;t++){var r=o[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_toPropertyKey(r.key),r)}}function _createClass(e,o,t){return o&&_defineProperties(e.prototype,o),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(e){var o=_toPrimitive(e,"string");return"symbol"===_typeof(o)?o:String(o)}function _toPrimitive(e,o){if("object"!==_typeof(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0===t)return("string"===o?String:Number)(e);var r=t.call(e,o||"default");if("object"!==_typeof(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.PDFCursorTools=exports.CursorTool=void 0;var _grab_to_pan=require("./grab_to_pan.js"),_ui_utils=require("./ui_utils.js"),CursorTool={SELECT:0,HAND:1,ZOOM:2};exports.CursorTool=CursorTool;var PDFCursorTools=function(){function s(e){var o=this,t=e.container,r=e.eventBus,i=e.cursorToolOnLoad,n=void 0===i?CursorTool.SELECT:i;_classCallCheck(this,s),this.container=t,this.eventBus=r,this.active=CursorTool.SELECT,this.activeBeforePresentationMode=null,this.handTool=new _grab_to_pan.GrabToPan({element:this.container}),this._addEventListeners(),Promise.resolve().then(function(){o.switchTool(n)})}return _createClass(s,[{key:"activeTool",get:function(){return this.active}},{key:"switchTool",value:function(e){var o=this;if(null===this.activeBeforePresentationMode&&e!==this.active){var t=function(){switch(o.active){case CursorTool.SELECT:break;case CursorTool.HAND:o.handTool.deactivate();break;case CursorTool.ZOOM:}};switch(e){case CursorTool.SELECT:t();break;case CursorTool.HAND:t(),this.handTool.activate();break;case CursorTool.ZOOM:default:return void console.error('switchTool: "'.concat(e,'" is an unsupported value.'))}this.active=e,this._dispatchEvent()}}},{key:"_dispatchEvent",value:function(){this.eventBus.dispatch("cursortoolchanged",{source:this,tool:this.active})}},{key:"_addEventListeners",value:function(){var r=this;this.eventBus._on("switchcursortool",function(e){r.switchTool(e.tool)}),this.eventBus._on("presentationmodechanged",function(e){switch(e.state){case _ui_utils.PresentationModeState.FULLSCREEN:var o=r.active;r.switchTool(CursorTool.SELECT),r.activeBeforePresentationMode=o;break;case _ui_utils.PresentationModeState.NORMAL:var t=r.activeBeforePresentationMode;r.activeBeforePresentationMode=null,r.switchTool(t)}})}}]),s}();exports.PDFCursorTools=PDFCursorTools;