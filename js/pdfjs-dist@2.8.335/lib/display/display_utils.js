"use strict";function _createForOfIteratorHelper(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=_unsupportedIterableToArray(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){s=!0,a=t},f:function(){try{i||null==r.return||r.return()}finally{if(s)throw a}}}}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _regeneratorRuntime(){_regeneratorRuntime=function(){return i};var i={},t=Object.prototype,l=t.hasOwnProperty,f=Object.defineProperty||function(t,e,r){t[e]=r.value},e="function"==typeof Symbol?Symbol:{},o=e.iterator||"@@iterator",r=e.asyncIterator||"@@asyncIterator",n=e.toStringTag||"@@toStringTag";function a(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{a({},"")}catch(t){a=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var a,i,s,c,o=e&&e.prototype instanceof d?e:d,u=Object.create(o.prototype),l=new E(n||[]);return f(u,"_invoke",{value:(a=t,i=r,s=l,c="suspendedStart",function(t,e){if("executing"===c)throw new Error("Generator is already running");if("completed"===c){if("throw"===t)throw e;return F()}for(s.method=t,s.arg=e;;){var r=s.delegate;if(r){var n=w(r,s);if(n){if(n===h)continue;return n}}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if("suspendedStart"===c)throw c="completed",s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);c="executing";var o=p(a,i,s);if("normal"===o.type){if(c=s.done?"completed":"suspendedYield",o.arg===h)continue;return{value:o.arg,done:s.done}}"throw"===o.type&&(c="completed",s.method="throw",s.arg=o.arg)}})}),u}function p(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}i.wrap=s;var h={};function d(){}function c(){}function u(){}var v={};a(v,o,function(){return this});var y=Object.getPrototypeOf,m=y&&y(y(k([])));m&&m!==t&&l.call(m,o)&&(v=m);var g=u.prototype=d.prototype=Object.create(v);function _(t){["next","throw","return"].forEach(function(e){a(t,e,function(t){return this._invoke(e,t)})})}function b(c,u){var e;f(this,"_invoke",{value:function(r,n){function t(){return new u(function(t,e){!function e(t,r,n,o){var a=p(c[t],c,r);if("throw"!==a.type){var i=a.arg,s=i.value;return s&&"object"==_typeof(s)&&l.call(s,"__await")?u.resolve(s.__await).then(function(t){e("next",t,n,o)},function(t){e("throw",t,n,o)}):u.resolve(s).then(function(t){i.value=t,n(i)},function(t){return e("throw",t,n,o)})}o(a.arg)}(r,n,t,e)})}return e=e?e.then(t,t):t()}})}function w(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var o=p(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,h;var a=o.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(l.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:F}}function F(){return{value:void 0,done:!0}}return f(g,"constructor",{value:c.prototype=u,configurable:!0}),f(u,"constructor",{value:c,configurable:!0}),c.displayName=a(u,n,"GeneratorFunction"),i.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===c||"GeneratorFunction"===(e.displayName||e.name))},i.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,u):(t.__proto__=u,a(t,n,"GeneratorFunction")),t.prototype=Object.create(g),t},i.awrap=function(t){return{__await:t}},_(b.prototype),a(b.prototype,r,function(){return this}),i.AsyncIterator=b,i.async=function(t,e,r,n,o){void 0===o&&(o=Promise);var a=new b(s(t,e,r,n),o);return i.isGeneratorFunction(e)?a:a.next().then(function(t){return t.done?t.value:a.next()})},_(g),a(g,n,"Generator"),a(g,o,function(){return this}),a(g,"toString",function(){return"[object Generator]"}),i.keys=function(t){var r=Object(t),n=[];for(var e in r)n.push(e);return n.reverse(),function t(){for(;n.length;){var e=n.pop();if(e in r)return t.value=e,t.done=!1,t}return t.done=!0,t}},i.values=k,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!t)for(var e in this)"t"===e.charAt(0)&&l.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var n=this;function t(t,e){return a.type="throw",a.arg=r,n.next=t,e&&(n.method="next",n.arg=void 0),!!e}for(var e=this.tryEntries.length-1;0<=e;--e){var o=this.tryEntries[e],a=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var i=l.call(o,"catchLoc"),s=l.call(o,"finallyLoc");if(i&&s){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;0<=r;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&l.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),C(r),h}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:k(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},i}function asyncGeneratorStep(t,e,r,n,o,a,i){try{var s=t[a](i),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function _asyncToGenerator(s){return function(){var t=this,i=arguments;return new Promise(function(e,r){var n=s.apply(t,i);function o(t){asyncGeneratorStep(n,e,r,o,a,"next",t)}function a(t){asyncGeneratorStep(n,e,r,o,a,"throw",t)}o(void 0)})}}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(n){var o=_isNativeReflectConstruct();return function(){var t,e=_getPrototypeOf(n);if(o){var r=_getPrototypeOf(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return _possibleConstructorReturn(this,t)}}function _possibleConstructorReturn(t,e){if(e&&("object"===_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_toPropertyKey(n.key),n)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function _toPropertyKey(t){var e=_toPrimitive(t,"string");return"symbol"===_typeof(e)?e:String(e)}function _toPrimitive(t,e){if("object"!==_typeof(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0===r)return("string"===e?String:Number)(t);var n=r.call(t,e||"default");if("object"!==_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.addLinkAttributes=addLinkAttributes,exports.deprecated=deprecated,exports.getFilenameFromUrl=getFilenameFromUrl,exports.getPdfFilenameFromUrl=getPdfFilenameFromUrl,exports.isDataScheme=isDataScheme,exports.isFetchSupported=isFetchSupported,exports.isPdfFile=isPdfFile,exports.isValidFetchUrl=isValidFetchUrl,exports.loadScript=loadScript,exports.StatTimer=exports.RenderingCancelledException=exports.PDFDateString=exports.PageViewport=exports.LinkTarget=exports.DOMSVGFactory=exports.DOMCMapReaderFactory=exports.DOMCanvasFactory=exports.DEFAULT_LINK_REL=exports.BaseCMapReaderFactory=exports.BaseCanvasFactory=void 0;var _util=require("../shared/util.js"),DEFAULT_LINK_REL="noopener noreferrer nofollow";exports.DEFAULT_LINK_REL=DEFAULT_LINK_REL;var SVG_NS="http://www.w3.org/2000/svg",BaseCanvasFactory=function(){function t(){_classCallCheck(this,t),this.constructor===t&&(0,_util.unreachable)("Cannot initialize BaseCanvasFactory.")}return _createClass(t,[{key:"create",value:function(t,e){(0,_util.unreachable)("Abstract method `create` called.")}},{key:"reset",value:function(t,e,r){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||r<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=r}},{key:"destroy",value:function(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}}]),t}();exports.BaseCanvasFactory=BaseCanvasFactory;var DOMCanvasFactory=function(t){_inherits(o,BaseCanvasFactory);var n=_createSuper(o);function o(){var t,e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).ownerDocument,r=void 0===e?globalThis.document:e;return _classCallCheck(this,o),(t=n.call(this))._document=r,t}return _createClass(o,[{key:"create",value:function(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");var r=this._document.createElement("canvas"),n=r.getContext("2d");return r.width=t,r.height=e,{canvas:r,context:n}}}]),o}();exports.DOMCanvasFactory=DOMCanvasFactory;var BaseCMapReaderFactory=function(){function a(t){var e=t.baseUrl,r=void 0===e?null:e,n=t.isCompressed,o=void 0!==n&&n;_classCallCheck(this,a),this.constructor===a&&(0,_util.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=r,this.isCompressed=o}var e;return _createClass(a,[{key:"fetch",value:(e=_asyncToGenerator(_regeneratorRuntime().mark(function t(e){var r,n,o,a=this;return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.name,this.baseUrl){t.next=3;break}throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');case 3:if(r){t.next=5;break}throw new Error("CMap name must be specified.");case 5:return n=this.baseUrl+r+(this.isCompressed?".bcmap":""),o=this.isCompressed?_util.CMapCompressionType.BINARY:_util.CMapCompressionType.NONE,t.abrupt("return",this._fetchData(n,o).catch(function(t){throw new Error("Unable to load ".concat(a.isCompressed?"binary ":"","CMap at: ").concat(n))}));case 8:case"end":return t.stop()}},t,this)})),function(t){return e.apply(this,arguments)})},{key:"_fetchData",value:function(t,e){(0,_util.unreachable)("Abstract method `_fetchData` called.")}}]),a}();exports.BaseCMapReaderFactory=BaseCMapReaderFactory;var DOMCMapReaderFactory=function(t){_inherits(r,BaseCMapReaderFactory);var e=_createSuper(r);function r(){return _classCallCheck(this,r),e.apply(this,arguments)}return _createClass(r,[{key:"_fetchData",value:function(t,o){var a=this;return isFetchSupported()&&isValidFetchUrl(t,document.baseURI)?fetch(t).then(function(){var e=_asyncToGenerator(_regeneratorRuntime().mark(function t(e){var r;return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.ok){t.next=2;break}throw new Error(e.statusText);case 2:if(a.isCompressed)return t.t0=Uint8Array,t.next=6,e.arrayBuffer();t.next=10;break;case 6:t.t1=t.sent,r=new t.t0(t.t1),t.next=15;break;case 10:return t.t2=_util.stringToBytes,t.next=13,e.text();case 13:t.t3=t.sent,r=(0,t.t2)(t.t3);case 15:return t.abrupt("return",{cMapData:r,compressionType:o});case 16:case"end":return t.stop()}},t)}));return function(t){return e.apply(this,arguments)}}()):new Promise(function(e,r){var n=new XMLHttpRequest;n.open("GET",t,!0),a.isCompressed&&(n.responseType="arraybuffer"),n.onreadystatechange=function(){if(n.readyState===XMLHttpRequest.DONE){var t;if(200===n.status||0===n.status)if(a.isCompressed&&n.response?t=new Uint8Array(n.response):!a.isCompressed&&n.responseText&&(t=(0,_util.stringToBytes)(n.responseText)),t)return void e({cMapData:t,compressionType:o});r(new Error(n.statusText))}},n.send(null)})}}]),r}();exports.DOMCMapReaderFactory=DOMCMapReaderFactory;var DOMSVGFactory=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"create",value:function(t,e){(0,_util.assert)(0<t&&0<e,"Invalid SVG dimensions");var r=document.createElementNS(SVG_NS,"svg:svg");return r.setAttribute("version","1.1"),r.setAttribute("width",t+"px"),r.setAttribute("height",e+"px"),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox","0 0 "+t+" "+e),r}},{key:"createElement",value:function(t){return(0,_util.assert)("string"==typeof t,"Invalid SVG element type"),document.createElementNS(SVG_NS,t)}}]),t}();exports.DOMSVGFactory=DOMSVGFactory;var PageViewport=function(){function b(t){var e=t.viewBox,r=t.scale,n=t.rotation,o=t.offsetX,a=void 0===o?0:o,i=t.offsetY,s=void 0===i?0:i,c=t.dontFlip,u=void 0!==c&&c;_classCallCheck(this,b),this.viewBox=e,this.scale=r,this.rotation=n,this.offsetX=a,this.offsetY=s;var l,f,p,h,d,v,y,m,g=(e[2]+e[0])/2,_=(e[3]+e[1])/2;switch((n%=360)<0&&(n+=360),n){case 180:l=-1,p=f=0,h=1;break;case 90:p=f=1,h=l=0;break;case 270:p=f=-1,h=l=0;break;case 0:p=f=0,h=-(l=1);break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}u&&(p=-p,h=-h),m=0===l?(d=Math.abs(_-e[1])*r+a,v=Math.abs(g-e[0])*r+s,y=Math.abs(e[3]-e[1])*r,Math.abs(e[2]-e[0])*r):(d=Math.abs(g-e[0])*r+a,v=Math.abs(_-e[1])*r+s,y=Math.abs(e[2]-e[0])*r,Math.abs(e[3]-e[1])*r),this.transform=[l*r,f*r,p*r,h*r,d-l*r*g-p*r*_,v-f*r*g-h*r*_],this.width=y,this.height=m}return _createClass(b,[{key:"clone",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.scale,r=void 0===e?this.scale:e,n=t.rotation,o=void 0===n?this.rotation:n,a=t.offsetX,i=void 0===a?this.offsetX:a,s=t.offsetY,c=void 0===s?this.offsetY:s,u=t.dontFlip,l=void 0!==u&&u;return new b({viewBox:this.viewBox.slice(),scale:r,rotation:o,offsetX:i,offsetY:c,dontFlip:l})}},{key:"convertToViewportPoint",value:function(t,e){return _util.Util.applyTransform([t,e],this.transform)}},{key:"convertToViewportRectangle",value:function(t){var e=_util.Util.applyTransform([t[0],t[1]],this.transform),r=_util.Util.applyTransform([t[2],t[3]],this.transform);return[e[0],e[1],r[0],r[1]]}},{key:"convertToPdfPoint",value:function(t,e){return _util.Util.applyInverseTransform([t,e],this.transform)}}]),b}();exports.PageViewport=PageViewport;var RenderingCancelledException=function(t){_inherits(o,_util.BaseException);var n=_createSuper(o);function o(t,e){var r;return _classCallCheck(this,o),(r=n.call(this,t)).type=e,r}return _createClass(o)}();exports.RenderingCancelledException=RenderingCancelledException;var LinkTarget={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};function addLinkAttributes(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=e.url,n=e.target,o=e.rel,a=e.enabled,i=void 0===a||a;(0,_util.assert)(r&&"string"==typeof r,'addLinkAttributes: A valid "url" parameter must provided.');var s=(0,_util.removeNullCharacters)(r);i?t.href=t.title=s:(t.href="",t.title="Disabled: ".concat(s),t.onclick=function(){return!1});var c="";switch(n){case LinkTarget.NONE:break;case LinkTarget.SELF:c="_self";break;case LinkTarget.BLANK:c="_blank";break;case LinkTarget.PARENT:c="_parent";break;case LinkTarget.TOP:c="_top"}t.target=c,t.rel="string"==typeof o?o:DEFAULT_LINK_REL}function isDataScheme(t){for(var e=t.length,r=0;r<e&&""===t[r].trim();)r++;return"data:"===t.substring(r,r+5).toLowerCase()}function isPdfFile(t){return"string"==typeof t&&/\.pdf$/i.test(t)}function getFilenameFromUrl(t){var e=t.indexOf("#"),r=t.indexOf("?"),n=Math.min(0<e?e:t.length,0<r?r:t.length);return t.substring(t.lastIndexOf("/",n)+1,n)}function getPdfFilenameFromUrl(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"document.pdf";if("string"!=typeof t)return e;if(isDataScheme(t))return(0,_util.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;var r=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,n=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(t),o=r.exec(n[1])||r.exec(n[2])||r.exec(n[3]);if(o&&(o=o[0]).includes("%"))try{o=r.exec(decodeURIComponent(o))[0]}catch(t){}return o||e}exports.LinkTarget=LinkTarget;var pdfDateStringRegex,StatTimer=function(){function t(){_classCallCheck(this,t),this.started=Object.create(null),this.times=[]}return _createClass(t,[{key:"time",value:function(t){t in this.started&&(0,_util.warn)("Timer is already running for ".concat(t)),this.started[t]=Date.now()}},{key:"timeEnd",value:function(t){t in this.started||(0,_util.warn)("Timer has not been started for ".concat(t)),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}},{key:"toString",value:function(){var t,e=[],r=0,n=_createForOfIteratorHelper(this.times);try{for(n.s();!(t=n.n()).done;){var o=t.value.name;o.length>r&&(r=o.length)}}catch(t){n.e(t)}finally{n.f()}var a,i=_createForOfIteratorHelper(this.times);try{for(i.s();!(a=i.n()).done;){var s=a.value,c=s.end-s.start;e.push("".concat(s.name.padEnd(r)," ").concat(c,"ms\n"))}}catch(t){i.e(t)}finally{i.f()}return e.join("")}}]),t}();function isFetchSupported(){return"undefined"!=typeof fetch&&"undefined"!=typeof Response&&"body"in Response.prototype&&"undefined"!=typeof ReadableStream}function isValidFetchUrl(t,e){try{var r=(e?new URL(t,e):new URL(t)).protocol;return"http:"===r||"https:"===r}catch(t){return!1}}function loadScript(n){var o=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return new Promise(function(e,t){var r=document.createElement("script");r.src=n,r.onload=function(t){o&&r.remove(),e(t)},r.onerror=function(){t(new Error("Cannot load script at: ".concat(r.src)))},(document.head||document.documentElement).appendChild(r)})}function deprecated(t){console.log("Deprecated API usage: "+t)}exports.StatTimer=StatTimer;var PDFDateString=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"toDateObject",value:function(t){if(!t||!(0,_util.isString)(t))return null;pdfDateStringRegex||(pdfDateStringRegex=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));var e=pdfDateStringRegex.exec(t);if(!e)return null;var r=parseInt(e[1],10),n=parseInt(e[2],10);n=1<=n&&n<=12?n-1:0;var o=parseInt(e[3],10);o=1<=o&&o<=31?o:1;var a=parseInt(e[4],10);a=0<=a&&a<=23?a:0;var i=parseInt(e[5],10);i=0<=i&&i<=59?i:0;var s=parseInt(e[6],10);s=0<=s&&s<=59?s:0;var c=e[7]||"Z",u=parseInt(e[8],10);u=0<=u&&u<=23?u:0;var l=parseInt(e[9],10)||0;return l=0<=l&&l<=59?l:0,"-"===c?(a+=u,i+=l):"+"===c&&(a-=u,i-=l),new Date(Date.UTC(r,n,o,a,i,s))}}]),t}();exports.PDFDateString=PDFDateString;