"use strict";pdfjsLib.getDocument&&pdfjsViewer.PDFViewer||alert("Please build the pdfjs-dist library using\n  `gulp dist-install`"),pdfjsLib.GlobalWorkerOptions.workerSrc="/js/pdfjs-dist@2.8.335/build/pdf.worker.min.js";var CMAP_URL="/js/pdfjs-dist@2.8.335/cmaps/",CMAP_PACKED=!0,DEFAULT_URL="https://medieval-china.github.io/notes/meetings/2021-05/5-7%E5%86%8D%E8%AF%BB%E5%B8%96%E4%B8%AD%E8%AF%97.pdf",SEARCH_FOR="",SANDBOX_BUNDLE_SRC="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.8.335/pdf.sandbox.min.js",container=document.getElementById("viewerContainer"),eventBus=new pdfjsViewer.EventBus,pdfLinkService=new pdfjsViewer.PDFLinkService({eventBus:eventBus}),pdfFindController=new pdfjsViewer.PDFFindController({eventBus:eventBus,linkService:pdfLinkService}),pdfScriptingManager=new pdfjsViewer.PDFScriptingManager({eventBus:eventBus,sandboxBundleSrc:SANDBOX_BUNDLE_SRC}),pdfViewer=new pdfjsViewer.PDFViewer({container:container,eventBus:eventBus,linkService:pdfLinkService,findController:pdfFindController,scriptingManager:pdfScriptingManager,enableScripting:!0});function setLoadingBar(e){var n=document.querySelector("#cutomeLoadingBar"),i=n.querySelector(".progress"),t=parseInt(i.style.width)||0,r=Math.round(100*e);r&&t<r&&(i.innerHTML="loading "+r+"%",i.style.width=r+"%"),1<=e&&$(n).fadeOut()}function updateTelHeight(e){var n=document.querySelector("#pdfViewerTeleport"),i=container.querySelector(".pdfViewer").offsetHeight;n&&i&&(n.style.height=i+"px",n.style.position="relative")}function embedPDF(e){var n=pdfjsLib.getDocument({url:e,cMapUrl:CMAP_URL,cMapPacked:CMAP_PACKED});n.onProgress=function(e){setLoadingBar(e.loaded/e.total)},n.promise.then(function(e){pdfViewer.setDocument(e),pdfLinkService.setDocument(e,null),setTimeout(function(){updateTelHeight("loadingTask resolve")},0)})}pdfLinkService.setViewer(pdfViewer),pdfScriptingManager.setViewer(pdfViewer),eventBus.on("pagesinit",function(){pdfViewer.currentScaleValue="page-width",SEARCH_FOR&&pdfFindController.executeCommand("find",{query:SEARCH_FOR}),updateTelHeight("pagesinit")});